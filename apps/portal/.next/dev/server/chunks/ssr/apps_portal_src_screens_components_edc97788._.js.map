{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/quote-save-status.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Loader2, CheckCircle2, AlertCircle, RefreshCw } from \"lucide-react\"\nimport { Button } from \"@novo/ui\"\nimport { cn } from \"@/shared/utils\"\n\ninterface QuoteSaveStatusProps {\n  isSaving: boolean\n  lastSaved: Date | null\n  error: Error | null\n  onRetry?: () => void\n  className?: string\n}\n\nexport function QuoteSaveStatus({\n  isSaving,\n  lastSaved,\n  error,\n  onRetry,\n  className,\n}: QuoteSaveStatusProps) {\n  const [showSaved, setShowSaved] = React.useState(false)\n\n  // Show \"Saved\" indicator briefly after successful save\n  React.useEffect(() => {\n    if (!isSaving && lastSaved && !error) {\n      setShowSaved(true)\n      const timer = setTimeout(() => {\n        setShowSaved(false)\n      }, 2000)\n      return () => clearTimeout(timer)\n    }\n  }, [isSaving, lastSaved, error])\n\n  // Don't show anything if idle and no recent save\n  if (!isSaving && !showSaved && !error) {\n    return null\n  }\n\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-2 text-sm\",\n        className\n      )}\n    >\n      {isSaving && (\n        <>\n          <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n          <span className=\"text-muted-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Saving...\n          </span>\n        </>\n      )}\n      {showSaved && !isSaving && (\n        <>\n          <CheckCircle2 className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\n          <span className=\"text-muted-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Saved\n          </span>\n        </>\n      )}\n      {error && !isSaving && (\n        <div className=\"flex items-center gap-2\">\n          <AlertCircle className=\"h-4 w-4 text-destructive\" />\n          <span className=\"text-destructive\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Save failed\n          </span>\n          {onRetry && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onRetry}\n              className=\"h-6 px-2 text-xs\"\n              disabled={isSaving}\n            >\n              <RefreshCw className=\"h-3 w-3 mr-1\" />\n              Retry\n            </Button>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AALA;;;;;;AAeO,SAAS,gBAAgB,EAC9B,QAAQ,EACR,SAAS,EACT,KAAK,EACL,OAAO,EACP,SAAS,EACY;IACrB,MAAM,CAAC,WAAW,aAAa,GAAG,iNAAc,CAAC;IAEjD,uDAAuD;IACvD,kNAAe,CAAC;QACd,IAAI,CAAC,YAAY,aAAa,CAAC,OAAO;YACpC,aAAa;YACb,MAAM,QAAQ,WAAW;gBACvB,aAAa;YACf,GAAG;YACH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAU;QAAW;KAAM;IAE/B,iDAAiD;IACjD,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,OAAO;QACrC,OAAO;IACT;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,8IAAE,EACX,mCACA;;YAGD,0BACC;;kCACE,8OAAC,4NAAO;wBAAC,WAAU;;;;;;kCACnB,8OAAC;wBAAK,WAAU;wBAAwB,OAAO;4BAAE,YAAY;wBAAoB;kCAAG;;;;;;;;YAKvF,aAAa,CAAC,0BACb;;kCACE,8OAAC,qOAAY;wBAAC,WAAU;;;;;;kCACxB,8OAAC;wBAAK,WAAU;wBAAwB,OAAO;4BAAE,YAAY;wBAAoB;kCAAG;;;;;;;;YAKvF,SAAS,CAAC,0BACT,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mOAAW;wBAAC,WAAU;;;;;;kCACvB,8OAAC;wBAAK,WAAU;wBAAmB,OAAO;4BAAE,YAAY;wBAAoB;kCAAG;;;;;;oBAG9E,yBACC,8OAAC,wJAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,WAAU;wBACV,UAAU;;0CAEV,8OAAC,6NAAS;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;AAQpD"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/quote-header.tsx"],"sourcesContent":["\"use client\"\n\nimport { QuoteSaveStatus } from \"./quote-save-status\"\nimport { useQuote } from \"@/app/quote-context\"\n\nexport function QuoteHeader() {\n  const { isSaving, lastSaved, saveError, retrySave, quoteData } = useQuote()\n\n  const quoteTitle = quoteData.isImported && quoteData.ezlynxQuoteNumber\n    ? `${quoteData.clientInfo?.firstName || \"\"} ${quoteData.clientInfo?.lastName || \"\"}'s Quote`.trim() || \"Imported Quote\"\n    : \"New Quote\"\n\n  return (\n    <div className=\"mb-4 flex items-center justify-between\">\n      <h2\n        className=\"text-3xl font-semibold leading-none tracking-[-0.48px] text-foreground\"\n        style={{ fontFamily: \"Geist, sans-serif\" }}\n      >\n        {quoteTitle}\n      </h2>\n      <div className=\"flex items-center gap-3\">\n        <QuoteSaveStatus\n          isSaving={isSaving}\n          lastSaved={lastSaved}\n          error={saveError}\n          onRetry={retrySave}\n        />\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,IAAA,6JAAQ;IAEzE,MAAM,aAAa,UAAU,UAAU,IAAI,UAAU,iBAAiB,GAClE,GAAG,UAAU,UAAU,EAAE,aAAa,GAAG,CAAC,EAAE,UAAU,UAAU,EAAE,YAAY,GAAG,QAAQ,CAAC,CAAC,IAAI,MAAM,mBACrG;IAEJ,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,YAAY;gBAAoB;0BAExC;;;;;;0BAEH,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6LAAe;oBACd,UAAU;oBACV,WAAW;oBACX,OAAO;oBACP,SAAS;;;;;;;;;;;;;;;;;AAKnB"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/quote-steps.ts"],"sourcesContent":["import type { StepId } from \"@/app/quote-context\"\n\nexport type QuoteStep = {\n  id: StepId\n  label: string\n}\n\nexport type QuoteNavGroupId =\n  | \"import-summary\"\n  | \"basic-info\"\n  | \"household\"\n  | \"coverages\"\n  | \"bind\"\n\nexport type QuoteNavGroup = {\n  id: QuoteNavGroupId\n  label: string\n  primaryStepId: StepId\n  children?: QuoteStep[]\n}\n\nconst householdChildren: QuoteStep[] = [\n  {\n    id: \"vehicle\",\n    label: \"Vehicles\",\n  },\n  {\n    id: \"driver\",\n    label: \"Drivers\",\n  },\n  {\n    id: \"incidents\",\n    label: \"Incidents\",\n  },\n  {\n    id: \"reports\",\n    label: \"Reports\",\n  },\n]\n\nconst bindChildren: QuoteStep[] = [\n  {\n    id: \"payment\",\n    label: \"Payment\",\n  },\n  {\n    id: \"e-sign\",\n    label: \"E-Sign\",\n  },\n]\n\nconst importSummaryGroup: QuoteNavGroup = {\n  id: \"import-summary\",\n  label: \"Import summary\",\n  primaryStepId: \"import-summary\",\n}\n\nconst basicInfoGroup: QuoteNavGroup = {\n  id: \"basic-info\",\n  label: \"Basic information\",\n  primaryStepId: \"client-info\",\n}\n\nconst householdGroup: QuoteNavGroup = {\n  id: \"household\",\n  label: \"Household\",\n  primaryStepId: \"vehicle\",\n  children: householdChildren,\n}\n\nconst coveragesGroup: QuoteNavGroup = {\n  id: \"coverages\",\n  label: \"Coverages\",\n  primaryStepId: \"coverage\",\n}\n\nconst bindGroup: QuoteNavGroup = {\n  id: \"bind\",\n  label: \"Bind\",\n  primaryStepId: \"payment\",\n  children: bindChildren,\n}\n\nexport function getQuoteNavigation({\n  isImported,\n}: {\n  isImported?: boolean\n}): QuoteNavGroup[] {\n  if (isImported) {\n    return [importSummaryGroup, householdGroup, coveragesGroup, bindGroup]\n  }\n  return [basicInfoGroup, householdGroup, coveragesGroup, bindGroup]\n}\n\nexport function getQuoteProgressSteps({\n  isImported,\n}: {\n  isImported?: boolean\n}): QuoteStep[] {\n  const groups = getQuoteNavigation({ isImported })\n  return groups.flatMap((group) => {\n    if (group.children && group.children.length > 0) {\n      return group.children\n    }\n    return [\n      {\n        id: group.primaryStepId,\n        label: group.label,\n      },\n    ]\n  })\n}\n\nexport function findActiveGroup(\n  groups: QuoteNavGroup[],\n  currentStep?: StepId\n): QuoteNavGroup | undefined {\n  if (!currentStep) return undefined\n  return groups.find((group) => {\n    if (group.primaryStepId === currentStep) return true\n    return group.children?.some((child) => child.id === currentStep)\n  })\n}\n"],"names":[],"mappings":";;;;;;;;AAqBA,MAAM,oBAAiC;IACrC;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;CACD;AAED,MAAM,eAA4B;IAChC;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;CACD;AAED,MAAM,qBAAoC;IACxC,IAAI;IACJ,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,iBAAgC;IACpC,IAAI;IACJ,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,iBAAgC;IACpC,IAAI;IACJ,OAAO;IACP,eAAe;IACf,UAAU;AACZ;AAEA,MAAM,iBAAgC;IACpC,IAAI;IACJ,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,YAA2B;IAC/B,IAAI;IACJ,OAAO;IACP,eAAe;IACf,UAAU;AACZ;AAEO,SAAS,mBAAmB,EACjC,UAAU,EAGX;IACC,IAAI,YAAY;QACd,OAAO;YAAC;YAAoB;YAAgB;YAAgB;SAAU;IACxE;IACA,OAAO;QAAC;QAAgB;QAAgB;QAAgB;KAAU;AACpE;AAEO,SAAS,sBAAsB,EACpC,UAAU,EAGX;IACC,MAAM,SAAS,mBAAmB;QAAE;IAAW;IAC/C,OAAO,OAAO,OAAO,CAAC,CAAC;QACrB,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,GAAG,GAAG;YAC/C,OAAO,MAAM,QAAQ;QACvB;QACA,OAAO;YACL;gBACE,IAAI,MAAM,aAAa;gBACvB,OAAO,MAAM,KAAK;YACpB;SACD;IACH;AACF;AAEO,SAAS,gBACd,MAAuB,EACvB,WAAoB;IAEpB,IAAI,CAAC,aAAa,OAAO;IACzB,OAAO,OAAO,IAAI,CAAC,CAAC;QAClB,IAAI,MAAM,aAAa,KAAK,aAAa,OAAO;QAChD,OAAO,MAAM,QAAQ,EAAE,KAAK,CAAC,QAAU,MAAM,EAAE,KAAK;IACtD;AACF"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/quote-progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/shared/utils\"\nimport { useQuote, StepId } from \"@/app/quote-context\"\nimport { AlertTriangle } from \"lucide-react\"\nimport { findActiveGroup, getQuoteNavigation } from \"@/screens/components/quote-steps\"\n\ninterface QuoteProgressProps {\n  currentStep?: StepId\n  onStepChange?: (step: StepId) => void\n}\n\nexport function QuoteProgress({ \n  currentStep = \"client-info\",\n  onStepChange \n}: QuoteProgressProps) {\n  const { quoteData } = useQuote()\n  const activeTabRef = React.useRef<HTMLButtonElement>(null)\n  const [indicatorStyle, setIndicatorStyle] = React.useState({\n    left: 0,\n    width: 0,\n  })\n\n  const isImported = quoteData.isImported\n  const hasUncheckedItems = quoteData.importSummary?.missingInfo.some(item => !item.checked) ?? false\n\n  // Calculate indicator position when active tab changes\n  React.useEffect(() => {\n    if (activeTabRef.current) {\n      const { offsetLeft, offsetWidth } = activeTabRef.current\n      setIndicatorStyle({\n        left: offsetLeft,\n        width: offsetWidth,\n      })\n    }\n  }, [currentStep])\n\n  // Handle window resize\n  React.useEffect(() => {\n    const handleResize = () => {\n      if (activeTabRef.current) {\n        const { offsetLeft, offsetWidth } = activeTabRef.current\n        setIndicatorStyle({\n          left: offsetLeft,\n          width: offsetWidth,\n        })\n      }\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n    return () => window.removeEventListener(\"resize\", handleResize)\n  }, [currentStep])\n\n  const groups = getQuoteNavigation({ isImported })\n  const activeGroup = findActiveGroup(groups, currentStep) ?? groups[0]\n\n  return (\n    <div className=\"sticky top-0 z-20 mb-8 flex w-full flex-col gap-4 bg-background\">\n      {/* Level 1 Navigation */}\n      <div className=\"relative flex items-center gap-0 border-b border-border\">\n        {/* Animated Sliding Underline Indicator */}\n        <div\n          className=\"absolute bottom-0 h-0.5 rounded-full bg-primary transition-all duration-300 ease-in-out\"\n          style={{\n            left: `${indicatorStyle.left}px`,\n            width: `${indicatorStyle.width}px`,\n            transform: \"translateZ(0)\", // Force GPU acceleration\n          }}\n        />\n\n        {/* Tabs */}\n        {groups.map((group) => {\n          const isActive = group.id === activeGroup?.id\n          const showWarning = group.id === \"import-summary\" && hasUncheckedItems\n          \n          return (\n            <button\n              key={group.id}\n              ref={isActive ? activeTabRef : null}\n              onClick={() => onStepChange?.(group.primaryStepId as StepId)}\n              role=\"tab\"\n              aria-selected={isActive}\n              aria-current={isActive ? \"page\" : undefined}\n              className={cn(\n                \"relative flex items-center gap-2 px-6 py-3.5 text-sm font-medium transition-all duration-200 ease-out\",\n                \"hover:bg-muted/50 hover:text-foreground hover:scale-[1.01]\",\n                \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n                \"active:scale-[0.99]\",\n                isActive\n                  ? \"text-foreground font-semibold\"\n                  : \"text-muted-foreground bg-transparent\"\n              )}\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              {group.label}\n              {showWarning && (\n                <AlertTriangle className=\"h-4 w-4 text-amber-500\" />\n              )}\n            </button>\n          )\n        })}\n      </div>\n\n      {/* Level 2 Navigation */}\n      {activeGroup?.children && activeGroup.children.length > 0 && (\n        <div className=\"flex w-full items-center gap-2 rounded-lg border border-border/60 bg-muted/30 p-1\">\n          {activeGroup.children.map((child) => {\n            const isChildActive = child.id === currentStep\n\n            return (\n              <button\n                key={child.id}\n                onClick={() => onStepChange?.(child.id as StepId)}\n                role=\"tab\"\n                aria-selected={isChildActive}\n                aria-current={isChildActive ? \"page\" : undefined}\n                className={cn(\n                  \"flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-medium transition-colors\",\n                  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n                  isChildActive\n                    ? \"bg-background text-foreground shadow-sm\"\n                    : \"text-muted-foreground hover:bg-muted/60 hover:text-foreground\"\n                )}\n              >\n                {child.label}\n              </button>\n            )\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAaO,SAAS,cAAc,EAC5B,cAAc,aAAa,EAC3B,YAAY,EACO;IACnB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,6JAAQ;IAC9B,MAAM,eAAe,+MAAY,CAAoB;IACrD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,iNAAc,CAAC;QACzD,MAAM;QACN,OAAO;IACT;IAEA,MAAM,aAAa,UAAU,UAAU;IACvC,MAAM,oBAAoB,UAAU,aAAa,EAAE,YAAY,KAAK,CAAA,OAAQ,CAAC,KAAK,OAAO,KAAK;IAE9F,uDAAuD;IACvD,kNAAe,CAAC;QACd,IAAI,aAAa,OAAO,EAAE;YACxB,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,aAAa,OAAO;YACxD,kBAAkB;gBAChB,MAAM;gBACN,OAAO;YACT;QACF;IACF,GAAG;QAAC;KAAY;IAEhB,uBAAuB;IACvB,kNAAe,CAAC;QACd,MAAM,eAAe;YACnB,IAAI,aAAa,OAAO,EAAE;gBACxB,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,aAAa,OAAO;gBACxD,kBAAkB;oBAChB,MAAM;oBACN,OAAO;gBACT;YACF;QACF;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG;QAAC;KAAY;IAEhB,MAAM,SAAS,IAAA,sLAAkB,EAAC;QAAE;IAAW;IAC/C,MAAM,cAAc,IAAA,mLAAe,EAAC,QAAQ,gBAAgB,MAAM,CAAC,EAAE;IAErE,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBACC,WAAU;wBACV,OAAO;4BACL,MAAM,GAAG,eAAe,IAAI,CAAC,EAAE,CAAC;4BAChC,OAAO,GAAG,eAAe,KAAK,CAAC,EAAE,CAAC;4BAClC,WAAW;wBACb;;;;;;oBAID,OAAO,GAAG,CAAC,CAAC;wBACX,MAAM,WAAW,MAAM,EAAE,KAAK,aAAa;wBAC3C,MAAM,cAAc,MAAM,EAAE,KAAK,oBAAoB;wBAErD,qBACE,8OAAC;4BAEC,KAAK,WAAW,eAAe;4BAC/B,SAAS,IAAM,eAAe,MAAM,aAAa;4BACjD,MAAK;4BACL,iBAAe;4BACf,gBAAc,WAAW,SAAS;4BAClC,WAAW,IAAA,8IAAE,EACX,yGACA,8DACA,uGACA,uBACA,WACI,kCACA;4BAEN,OAAO;gCAAE,YAAY;4BAAoB;;gCAExC,MAAM,KAAK;gCACX,6BACC,8OAAC,yOAAa;oCAAC,WAAU;;;;;;;2BAnBtB,MAAM,EAAE;;;;;oBAuBnB;;;;;;;YAID,aAAa,YAAY,YAAY,QAAQ,CAAC,MAAM,GAAG,mBACtD,8OAAC;gBAAI,WAAU;0BACZ,YAAY,QAAQ,CAAC,GAAG,CAAC,CAAC;oBACzB,MAAM,gBAAgB,MAAM,EAAE,KAAK;oBAEnC,qBACE,8OAAC;wBAEC,SAAS,IAAM,eAAe,MAAM,EAAE;wBACtC,MAAK;wBACL,iBAAe;wBACf,gBAAc,gBAAgB,SAAS;wBACvC,WAAW,IAAA,8IAAE,EACX,wFACA,uGACA,gBACI,4CACA;kCAGL,MAAM,KAAK;uBAbP,MAAM,EAAE;;;;;gBAgBnB;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/incidents/types.ts"],"sourcesContent":["export type Incident = {\n  id: string\n  incidentType: string\n  incidentDate: string\n  source: string\n  driverId: string\n  totalDamagesOver1000: boolean\n  atFault: boolean\n  policeReportFiled: boolean\n}\n\nexport const INCIDENT_TYPE_OPTIONS = [\n  \"Accident\",\n  \"Violation\",\n  \"Claim\",\n  \"Other\",\n]\n\nexport const INCIDENT_SOURCE_OPTIONS = [\n  \"Self Reported\",\n  \"Police Report\",\n  \"Carrier Reported\",\n  \"Other\",\n]\n\nexport function createEmptyIncident(): Incident {\n  return {\n    id: `incident-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n    incidentType: \"\",\n    incidentDate: \"\",\n    source: \"Self Reported\",\n    driverId: \"\",\n    totalDamagesOver1000: false,\n    atFault: false,\n    policeReportFiled: false,\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAWO,MAAM,wBAAwB;IACnC;IACA;IACA;IACA;CACD;AAEM,MAAM,0BAA0B;IACrC;IACA;IACA;IACA;CACD;AAEM,SAAS;IACd,OAAO;QACL,IAAI,CAAC,SAAS,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,IAAI;QACtE,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,sBAAsB;QACtB,SAAS;QACT,mBAAmB;IACrB;AACF"}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/incidents/incidents-page.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Trash2 } from \"lucide-react\"\nimport { Button } from \"@novo/ui\"\nimport { Input } from \"@novo/ui\"\nimport { Label } from \"@novo/ui\"\nimport { RadioGroup, RadioGroupItem } from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport { useQuote } from \"@/app/quote-context\"\nimport { useAutoSave } from \"@/shared/hooks/use-auto-save\"\nimport {\n  Incident,\n  createEmptyIncident,\n  INCIDENT_SOURCE_OPTIONS,\n  INCIDENT_TYPE_OPTIONS,\n} from \"./types\"\n\nconst getYesNoValue = (value: boolean) => (value ? \"yes\" : \"no\")\n\nexport function IncidentsPage() {\n  const { quoteData, updateIncidents, saveQuote } = useQuote()\n\n  const [incidents, setIncidents] = React.useState<Incident[]>(() => {\n    if (quoteData.incidents && quoteData.incidents.length > 0) {\n      return quoteData.incidents\n    }\n    return [createEmptyIncident()]\n  })\n\n  const hasInitialized = React.useRef(false)\n\n  React.useEffect(() => {\n    if (!hasInitialized.current && quoteData.incidents && quoteData.incidents.length > 0) {\n      setIncidents(quoteData.incidents)\n      hasInitialized.current = true\n    }\n  }, [quoteData.incidents])\n\n  useAutoSave({\n    data: incidents,\n    saveFn: async (data) => {\n      updateIncidents(data)\n      await saveQuote()\n    },\n    debounceMs: 2000,\n    enabled: incidents.length > 0,\n  })\n\n  const updateIncident = React.useCallback(\n    (id: string, updates: Partial<Incident>) => {\n      setIncidents((prev) =>\n        prev.map((incident) =>\n          incident.id === id ? { ...incident, ...updates } : incident\n        )\n      )\n    },\n    []\n  )\n\n  const updateBooleanField = React.useCallback(\n    (\n      id: string,\n      field: \"totalDamagesOver1000\" | \"atFault\" | \"policeReportFiled\",\n      value: string\n    ) => {\n      updateIncident(id, { [field]: value === \"yes\" } as Pick<Incident, typeof field>)\n    },\n    [updateIncident]\n  )\n\n  const handleRemoveIncident = React.useCallback((id: string) => {\n    setIncidents((prev) => {\n      const next = prev.filter((incident) => incident.id !== id)\n      return next.length > 0 ? next : [createEmptyIncident()]\n    })\n  }, [])\n\n  const drivers = quoteData.drivers ?? []\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"overflow-hidden rounded-lg border border-border bg-card\">\n        <div className=\"grid grid-cols-[minmax(170px,1.1fr)_minmax(150px,0.9fr)_minmax(170px,1fr)_minmax(170px,1.1fr)_minmax(220px,1.2fr)_minmax(150px,0.8fr)_minmax(190px,1fr)_56px] border-b border-border bg-muted/40 text-xs font-semibold text-muted-foreground\">\n          <div className=\"px-4 py-3\">Incident type</div>\n          <div className=\"px-4 py-3\">Incident date</div>\n          <div className=\"px-4 py-3\">Source</div>\n          <div className=\"px-4 py-3\">Driver</div>\n          <div className=\"px-4 py-3\">Total damages over $1,000?</div>\n          <div className=\"px-4 py-3\">At-fault?</div>\n          <div className=\"px-4 py-3\">Police report filed?</div>\n          <div className=\"px-4 py-3 text-center\"> </div>\n        </div>\n\n        {incidents.map((incident) => (\n          <div\n            key={incident.id}\n            className=\"grid grid-cols-[minmax(170px,1.1fr)_minmax(150px,0.9fr)_minmax(170px,1fr)_minmax(170px,1.1fr)_minmax(220px,1.2fr)_minmax(150px,0.8fr)_minmax(190px,1fr)_56px] items-center border-b border-border last:border-b-0\"\n          >\n            <div className=\"px-4 py-3\">\n              <Select\n                value={incident.incidentType || undefined}\n                onValueChange={(value) => updateIncident(incident.id, { incidentType: value })}\n              >\n                <SelectTrigger className=\"w-full\" size=\"sm\">\n                  <SelectValue placeholder=\"Select\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {INCIDENT_TYPE_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"px-4 py-3\">\n              <Input\n                value={incident.incidentDate}\n                onChange={(event) =>\n                  updateIncident(incident.id, { incidentDate: event.target.value })\n                }\n                placeholder=\"MM/DD/YYYY\"\n              />\n            </div>\n\n            <div className=\"px-4 py-3\">\n              <Select\n                value={incident.source || undefined}\n                onValueChange={(value) => updateIncident(incident.id, { source: value })}\n              >\n                <SelectTrigger className=\"w-full\" size=\"sm\">\n                  <SelectValue placeholder=\"Select\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {INCIDENT_SOURCE_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"px-4 py-3\">\n              <Select\n                value={incident.driverId || undefined}\n                onValueChange={(value) => updateIncident(incident.id, { driverId: value })}\n              >\n                <SelectTrigger className=\"w-full\" size=\"sm\">\n                  <SelectValue placeholder=\"Select Driver\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {drivers.length === 0 && (\n                    <SelectItem value=\"no-drivers\" disabled>\n                      No drivers available\n                    </SelectItem>\n                  )}\n                  {drivers.map((driver) => (\n                    <SelectItem key={driver.id} value={driver.id}>\n                      {driver.firstName} {driver.lastName}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"px-4 py-3\">\n              <RadioGroup\n                value={getYesNoValue(incident.totalDamagesOver1000)}\n                onValueChange={(value) =>\n                  updateBooleanField(incident.id, \"totalDamagesOver1000\", value)\n                }\n                className=\"flex items-center gap-4\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <RadioGroupItem id={`${incident.id}-damages-yes`} value=\"yes\" />\n                  <Label htmlFor={`${incident.id}-damages-yes`} className=\"text-sm\">\n                    Yes\n                  </Label>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <RadioGroupItem id={`${incident.id}-damages-no`} value=\"no\" />\n                  <Label htmlFor={`${incident.id}-damages-no`} className=\"text-sm\">\n                    No\n                  </Label>\n                </div>\n              </RadioGroup>\n            </div>\n\n            <div className=\"px-4 py-3\">\n              <RadioGroup\n                value={getYesNoValue(incident.atFault)}\n                onValueChange={(value) =>\n                  updateBooleanField(incident.id, \"atFault\", value)\n                }\n                className=\"flex items-center gap-4\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <RadioGroupItem id={`${incident.id}-fault-yes`} value=\"yes\" />\n                  <Label htmlFor={`${incident.id}-fault-yes`} className=\"text-sm\">\n                    Yes\n                  </Label>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <RadioGroupItem id={`${incident.id}-fault-no`} value=\"no\" />\n                  <Label htmlFor={`${incident.id}-fault-no`} className=\"text-sm\">\n                    No\n                  </Label>\n                </div>\n              </RadioGroup>\n            </div>\n\n            <div className=\"px-4 py-3\">\n              <RadioGroup\n                value={getYesNoValue(incident.policeReportFiled)}\n                onValueChange={(value) =>\n                  updateBooleanField(incident.id, \"policeReportFiled\", value)\n                }\n                className=\"flex items-center gap-4\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <RadioGroupItem id={`${incident.id}-police-yes`} value=\"yes\" />\n                  <Label htmlFor={`${incident.id}-police-yes`} className=\"text-sm\">\n                    Yes\n                  </Label>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <RadioGroupItem id={`${incident.id}-police-no`} value=\"no\" />\n                  <Label htmlFor={`${incident.id}-police-no`} className=\"text-sm\">\n                    No\n                  </Label>\n                </div>\n              </RadioGroup>\n            </div>\n\n            <div className=\"flex items-center justify-center px-2 py-3\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                aria-label=\"Remove incident\"\n                onClick={() => handleRemoveIncident(incident.id)}\n              >\n                <Trash2 className=\"h-4 w-4 text-primary\" />\n              </Button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1084, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/reports/reports-page.tsx"],"sourcesContent":["\"use client\"\n\nimport { FileText } from \"lucide-react\"\nimport {\n  Empty,\n  EmptyContent,\n  EmptyDescription,\n  EmptyHeader,\n  EmptyMedia,\n  EmptyTitle,\n} from \"@novo/ui\"\n\nexport function ReportsPage() {\n  return (\n    <div className=\"w-full\">\n      <Empty className=\"border border-dashed\">\n        <EmptyHeader>\n          <EmptyMedia variant=\"icon\">\n            <FileText className=\"h-5 w-5\" />\n          </EmptyMedia>\n          <EmptyTitle>Reports</EmptyTitle>\n          <EmptyDescription>\n            Review third-party reports before binding the policy.\n          </EmptyDescription>\n        </EmptyHeader>\n        <EmptyContent>\n          Run and review MVR, CLUE, and other underwriting reports here.\n        </EmptyContent>\n      </Empty>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAYO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,sJAAK;YAAC,WAAU;;8BACf,8OAAC,4JAAW;;sCACV,8OAAC,2JAAU;4BAAC,SAAQ;sCAClB,cAAA,8OAAC,0NAAQ;gCAAC,WAAU;;;;;;;;;;;sCAEtB,8OAAC,2JAAU;sCAAC;;;;;;sCACZ,8OAAC,iKAAgB;sCAAC;;;;;;;;;;;;8BAIpB,8OAAC,6JAAY;8BAAC;;;;;;;;;;;;;;;;;AAMtB"}},
    {"offset": {"line": 1161, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/e-signature/mock-documents.ts"],"sourcesContent":["import { Document } from \"./types\"\n\nexport const MOCK_DOCUMENTS: Document[] = [\n  {\n    id: \"doc-1\",\n    name: \"Electronic Signature\",\n    type: \"signature\",\n    status: \"awaiting-signature\",\n    sentDate: new Date(\"2026-01-12\"),\n  },\n  {\n    id: \"doc-2\",\n    name: \"Application for Insurance\",\n    type: \"application\",\n    status: \"awaiting-signature\",\n    sentDate: new Date(\"2026-01-12\"),\n  },\n  {\n    id: \"doc-3\",\n    name: \"Uninsured motorist and underinsured motorist coverage offer form\",\n    type: \"coverage-form\",\n    status: \"awaiting-signature\",\n    sentDate: new Date(\"2026-01-12\"),\n  },\n]\n"],"names":[],"mappings":";;;;AAEO,MAAM,iBAA6B;IACxC;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,UAAU,IAAI,KAAK;IACrB;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,UAAU,IAAI,KAAK;IACrB;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,UAAU,IAAI,KAAK;IACrB;CACD"}},
    {"offset": {"line": 1192, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/e-signature/e-signature-form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Download, FileText, Pencil, Check, X } from \"lucide-react\"\nimport { useQuote } from \"@/app/quote-context\"\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@novo/ui\"\nimport { Button } from \"@novo/ui\"\nimport { Badge } from \"@novo/ui\"\nimport { Input } from \"@novo/ui\"\nimport { toast } from \"sonner\"\nimport { ESignatureData, DocumentStatus } from \"./types\"\nimport { MOCK_DOCUMENTS } from \"./mock-documents\"\n\n// Format date as \"December 13, 2025\"\nfunction formatDate(date: Date): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"long\",\n    day: \"numeric\",\n    year: \"numeric\",\n  }).format(date)\n}\n\n// Get status badge variant based on status\nfunction getStatusBadgeVariant(status: DocumentStatus): \"default\" | \"secondary\" | \"outline\" {\n  switch (status) {\n    case \"awaiting-signature\":\n      return \"secondary\"\n    case \"signed\":\n      return \"default\"\n    case \"expired\":\n    case \"cancelled\":\n      return \"outline\"\n    default:\n      return \"secondary\"\n  }\n}\n\n// Get status badge text\nfunction getStatusBadgeText(status: DocumentStatus): string {\n  switch (status) {\n    case \"awaiting-signature\":\n      return \"Awaiting signature\"\n    case \"signed\":\n      return \"Signed\"\n    case \"expired\":\n      return \"Expired\"\n    case \"cancelled\":\n      return \"Cancelled\"\n    default:\n      return \"Unknown\"\n  }\n}\n\nexport function ESignatureForm() {\n  const { quoteData, updateESignature, saveQuote } = useQuote()\n  const [isEditingEmail, setIsEditingEmail] = React.useState(false)\n  const [emailValue, setEmailValue] = React.useState(\"\")\n  const [isDownloading, setIsDownloading] = React.useState(false)\n\n  // Initialize e-signature data if not present\n  React.useEffect(() => {\n    if (!quoteData.eSignature) {\n      const clientEmail = quoteData.clientInfo?.email || \"\"\n      const initialESignature: ESignatureData = {\n        documents: MOCK_DOCUMENTS,\n        sentDate: new Date(\"2026-01-12\"),\n        reminderEmail: clientEmail,\n        reminderCount: 0,\n        lastReminderSent: null,\n      }\n      updateESignature(initialESignature)\n    } else {\n      // Update email if client email is available and reminder email is empty\n      // This ensures primary insured email is suggested when no email is set\n      const clientEmail = quoteData.clientInfo?.email || \"\"\n      const currentReminderEmail = quoteData.eSignature.reminderEmail || \"\"\n      \n      if (clientEmail && !currentReminderEmail) {\n        updateESignature({\n          ...quoteData.eSignature,\n          reminderEmail: clientEmail,\n        })\n      }\n    }\n  }, [quoteData.eSignature, quoteData.clientInfo?.email, updateESignature])\n\n  // Initialize email value - prioritize saved reminder email, fallback to primary insured email\n  React.useEffect(() => {\n    const reminderEmail = quoteData.eSignature?.reminderEmail || \"\"\n    const primaryInsuredEmail = quoteData.clientInfo?.email || \"\"\n    \n    // Use reminder email if set, otherwise use primary insured email as suggestion\n    if (reminderEmail) {\n      setEmailValue(reminderEmail)\n    } else if (primaryInsuredEmail) {\n      setEmailValue(primaryInsuredEmail)\n    } else {\n      setEmailValue(\"\")\n    }\n  }, [quoteData.eSignature?.reminderEmail, quoteData.clientInfo?.email])\n\n  const eSignatureData = quoteData.eSignature\n\n  if (!eSignatureData) {\n    return null\n  }\n\n  const handleDownloadDocuments = async () => {\n    setIsDownloading(true)\n    try {\n      // Mock download - simulate delay\n      await new Promise((resolve) => setTimeout(resolve, 1000))\n      toast.success(\"Documents downloaded\", {\n        description: \"All documents have been downloaded as a ZIP file\",\n        duration: 2000,\n      })\n    } catch (error) {\n      toast.error(\"Download failed\", {\n        description: \"Failed to download documents. Please try again.\",\n        duration: 3000,\n      })\n    } finally {\n      setIsDownloading(false)\n    }\n  }\n\n  const handleEmailEdit = () => {\n    setIsEditingEmail(true)\n  }\n\n  const handleEmailSave = () => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (!emailValue || !emailRegex.test(emailValue)) {\n      toast.error(\"Invalid email\", {\n        description: \"Please enter a valid email address\",\n        duration: 2000,\n      })\n      return\n    }\n\n    updateESignature({\n      ...eSignatureData,\n      reminderEmail: emailValue,\n    })\n    setIsEditingEmail(false)\n    saveQuote().catch(console.error)\n  }\n\n  const handleEmailCancel = () => {\n    setEmailValue(eSignatureData.reminderEmail || quoteData.clientInfo?.email || \"\")\n    setIsEditingEmail(false)\n  }\n\n  const handleSendReminder = async () => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (!emailValue || !emailRegex.test(emailValue)) {\n      toast.error(\"Invalid email\", {\n        description: \"Please enter a valid email address\",\n        duration: 2000,\n      })\n      return\n    }\n\n    // Update email if changed\n    if (emailValue !== eSignatureData.reminderEmail) {\n      updateESignature({\n        ...eSignatureData,\n        reminderEmail: emailValue,\n      })\n    }\n\n    // Update reminder count and last sent date\n    updateESignature({\n      ...eSignatureData,\n      reminderEmail: emailValue,\n      reminderCount: eSignatureData.reminderCount + 1,\n      lastReminderSent: new Date(),\n    })\n\n    await saveQuote()\n\n    toast.success(\"Reminder sent\", {\n      description: `Reminder email sent to ${emailValue}`,\n      duration: 2000,\n    })\n  }\n\n  return (\n    <Card className=\"mb-8 w-full rounded-[12px] gap-0\">\n      <CardHeader className=\"px-6 pt-6 pb-0\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex flex-col gap-1\">\n            <CardTitle\n              className=\"text-[24px] font-semibold leading-[1.2] tracking-[-0.48px] text-card-foreground\"\n              style={{ fontFamily: \"Geist, sans-serif\" }}\n            >\n              Signature\n            </CardTitle>\n            <CardDescription\n              className=\"text-base font-normal leading-[1.5] text-muted-foreground\"\n              style={{ fontFamily: \"Geist, sans-serif\" }}\n            >\n              The client must sign the application to finalize the binding.\n            </CardDescription>\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"lg\"\n            onClick={handleDownloadDocuments}\n            disabled={isDownloading}\n            className=\"h-9 gap-2\"\n          >\n            <Download className=\"h-4 w-4\" />\n            Download documents\n          </Button>\n        </div>\n      </CardHeader>\n      <CardContent className=\"px-6 pb-6 pt-6\">\n        <div className=\"flex flex-col gap-6\">\n          {/* Sent On Date */}\n          {eSignatureData.sentDate && (\n            <div className=\"text-base leading-[1.5] text-muted-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n              Sent on {formatDate(eSignatureData.sentDate)}\n            </div>\n          )}\n\n          {/* Documents List */}\n          <div className=\"flex flex-col gap-4\">\n            {eSignatureData.documents.map((document) => (\n              <div\n                key={document.id}\n                className=\"flex items-center gap-3 rounded-lg border border-border bg-card p-4\"\n              >\n                <FileText className=\"h-5 w-5 text-primary flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <div\n                    className=\"text-base font-medium leading-[1.5] text-foreground truncate\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    {document.name}\n                  </div>\n                </div>\n                <Badge\n                  variant={getStatusBadgeVariant(document.status)}\n                  className=\"flex-shrink-0\"\n                >\n                  {getStatusBadgeText(document.status)}\n                </Badge>\n              </div>\n            ))}\n          </div>\n\n          {/* Send Reminder Section */}\n          <div className=\"flex flex-col gap-4 rounded-lg border border-border bg-card p-4\">\n            <div\n              className=\"text-base font-semibold leading-[1.5] text-foreground\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Send reminder\n            </div>\n            <div className=\"flex items-center gap-3\">\n              {isEditingEmail ? (\n                <>\n                  <Input\n                    type=\"email\"\n                    value={emailValue}\n                    onChange={(e) => setEmailValue(e.target.value)}\n                    className=\"h-10 flex-1 text-base\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                    placeholder={quoteData.clientInfo?.email || \"email@example.com\"}\n                    autoFocus\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\") {\n                        handleEmailSave()\n                      } else if (e.key === \"Escape\") {\n                        handleEmailCancel()\n                      }\n                    }}\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={handleEmailSave}\n                    className=\"h-9 w-9\"\n                  >\n                    <Check className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={handleEmailCancel}\n                    className=\"h-9 w-9\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <div\n                    className=\"flex-1 text-base leading-[1.5] text-foreground\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    {emailValue || \"No email set\"}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={handleEmailEdit}\n                    className=\"h-9 w-9\"\n                  >\n                    <Pencil className=\"h-4 w-4\" />\n                  </Button>\n                </>\n              )}\n              <Button\n                variant=\"default\"\n                size=\"lg\"\n                onClick={handleSendReminder}\n                disabled={!emailValue || isEditingEmail}\n                className=\"h-9\"\n              >\n                Send\n              </Button>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAXA;;;;;;;;;;;AAaA,qCAAqC;AACrC,SAAS,WAAW,IAAU;IAC5B,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,OAAO;QACP,KAAK;QACL,MAAM;IACR,GAAG,MAAM,CAAC;AACZ;AAEA,2CAA2C;AAC3C,SAAS,sBAAsB,MAAsB;IACnD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEA,wBAAwB;AACxB,SAAS,mBAAmB,MAAsB;IAChD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS;IACd,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,SAAS,EAAE,GAAG,IAAA,6JAAQ;IAC3D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,iNAAc,CAAC;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,iNAAc,CAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,iNAAc,CAAC;IAEzD,6CAA6C;IAC7C,kNAAe,CAAC;QACd,IAAI,CAAC,UAAU,UAAU,EAAE;YACzB,MAAM,cAAc,UAAU,UAAU,EAAE,SAAS;YACnD,MAAM,oBAAoC;gBACxC,WAAW,uMAAc;gBACzB,UAAU,IAAI,KAAK;gBACnB,eAAe;gBACf,eAAe;gBACf,kBAAkB;YACpB;YACA,iBAAiB;QACnB,OAAO;YACL,wEAAwE;YACxE,uEAAuE;YACvE,MAAM,cAAc,UAAU,UAAU,EAAE,SAAS;YACnD,MAAM,uBAAuB,UAAU,UAAU,CAAC,aAAa,IAAI;YAEnE,IAAI,eAAe,CAAC,sBAAsB;gBACxC,iBAAiB;oBACf,GAAG,UAAU,UAAU;oBACvB,eAAe;gBACjB;YACF;QACF;IACF,GAAG;QAAC,UAAU,UAAU;QAAE,UAAU,UAAU,EAAE;QAAO;KAAiB;IAExE,8FAA8F;IAC9F,kNAAe,CAAC;QACd,MAAM,gBAAgB,UAAU,UAAU,EAAE,iBAAiB;QAC7D,MAAM,sBAAsB,UAAU,UAAU,EAAE,SAAS;QAE3D,+EAA+E;QAC/E,IAAI,eAAe;YACjB,cAAc;QAChB,OAAO,IAAI,qBAAqB;YAC9B,cAAc;QAChB,OAAO;YACL,cAAc;QAChB;IACF,GAAG;QAAC,UAAU,UAAU,EAAE;QAAe,UAAU,UAAU,EAAE;KAAM;IAErE,MAAM,iBAAiB,UAAU,UAAU;IAE3C,IAAI,CAAC,gBAAgB;QACnB,OAAO;IACT;IAEA,MAAM,0BAA0B;QAC9B,iBAAiB;QACjB,IAAI;YACF,iCAAiC;YACjC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;YACnD,iJAAK,CAAC,OAAO,CAAC,wBAAwB;gBACpC,aAAa;gBACb,UAAU;YACZ;QACF,EAAE,OAAO,OAAO;YACd,iJAAK,CAAC,KAAK,CAAC,mBAAmB;gBAC7B,aAAa;gBACb,UAAU;YACZ;QACF,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,kBAAkB;QACtB,kBAAkB;IACpB;IAEA,MAAM,kBAAkB;QACtB,MAAM,aAAa;QACnB,IAAI,CAAC,cAAc,CAAC,WAAW,IAAI,CAAC,aAAa;YAC/C,iJAAK,CAAC,KAAK,CAAC,iBAAiB;gBAC3B,aAAa;gBACb,UAAU;YACZ;YACA;QACF;QAEA,iBAAiB;YACf,GAAG,cAAc;YACjB,eAAe;QACjB;QACA,kBAAkB;QAClB,YAAY,KAAK,CAAC,QAAQ,KAAK;IACjC;IAEA,MAAM,oBAAoB;QACxB,cAAc,eAAe,aAAa,IAAI,UAAU,UAAU,EAAE,SAAS;QAC7E,kBAAkB;IACpB;IAEA,MAAM,qBAAqB;QACzB,MAAM,aAAa;QACnB,IAAI,CAAC,cAAc,CAAC,WAAW,IAAI,CAAC,aAAa;YAC/C,iJAAK,CAAC,KAAK,CAAC,iBAAiB;gBAC3B,aAAa;gBACb,UAAU;YACZ;YACA;QACF;QAEA,0BAA0B;QAC1B,IAAI,eAAe,eAAe,aAAa,EAAE;YAC/C,iBAAiB;gBACf,GAAG,cAAc;gBACjB,eAAe;YACjB;QACF;QAEA,2CAA2C;QAC3C,iBAAiB;YACf,GAAG,cAAc;YACjB,eAAe;YACf,eAAe,eAAe,aAAa,GAAG;YAC9C,kBAAkB,IAAI;QACxB;QAEA,MAAM;QAEN,iJAAK,CAAC,OAAO,CAAC,iBAAiB;YAC7B,aAAa,CAAC,uBAAuB,EAAE,YAAY;YACnD,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC,oJAAI;QAAC,WAAU;;0BACd,8OAAC,0JAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,yJAAS;oCACR,WAAU;oCACV,OAAO;wCAAE,YAAY;oCAAoB;8CAC1C;;;;;;8CAGD,8OAAC,+JAAe;oCACd,WAAU;oCACV,OAAO;wCAAE,YAAY;oCAAoB;8CAC1C;;;;;;;;;;;;sCAIH,8OAAC,wJAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;;8CAEV,8OAAC,sNAAQ;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAKtC,8OAAC,2JAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC;oBAAI,WAAU;;wBAEZ,eAAe,QAAQ,kBACtB,8OAAC;4BAAI,WAAU;4BAAgD,OAAO;gCAAE,YAAY;4BAAoB;;gCAAG;gCAChG,WAAW,eAAe,QAAQ;;;;;;;sCAK/C,8OAAC;4BAAI,WAAU;sCACZ,eAAe,SAAS,CAAC,GAAG,CAAC,CAAC,yBAC7B,8OAAC;oCAEC,WAAU;;sDAEV,8OAAC,0NAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,YAAY;gDAAoB;0DAExC,SAAS,IAAI;;;;;;;;;;;sDAGlB,8OAAC,sJAAK;4CACJ,SAAS,sBAAsB,SAAS,MAAM;4CAC9C,WAAU;sDAET,mBAAmB,SAAS,MAAM;;;;;;;mCAhBhC,SAAS,EAAE;;;;;;;;;;sCAuBtB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,YAAY;oCAAoB;8CAC1C;;;;;;8CAGD,8OAAC;oCAAI,WAAU;;wCACZ,+BACC;;8DACE,8OAAC,sJAAK;oDACJ,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oDAC7C,WAAU;oDACV,OAAO;wDAAE,YAAY;oDAAoB;oDACzC,aAAa,UAAU,UAAU,EAAE,SAAS;oDAC5C,SAAS;oDACT,WAAW,CAAC;wDACV,IAAI,EAAE,GAAG,KAAK,SAAS;4DACrB;wDACF,OAAO,IAAI,EAAE,GAAG,KAAK,UAAU;4DAC7B;wDACF;oDACF;;;;;;8DAEF,8OAAC,wJAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,SAAS;oDACT,WAAU;8DAEV,cAAA,8OAAC,6MAAK;wDAAC,WAAU;;;;;;;;;;;8DAEnB,8OAAC,wJAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,SAAS;oDACT,WAAU;8DAEV,cAAA,8OAAC,iMAAC;wDAAC,WAAU;;;;;;;;;;;;yEAIjB;;8DACE,8OAAC;oDACC,WAAU;oDACV,OAAO;wDAAE,YAAY;oDAAoB;8DAExC,cAAc;;;;;;8DAEjB,8OAAC,wJAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,SAAS;oDACT,WAAU;8DAEV,cAAA,8OAAC,gNAAM;wDAAC,WAAU;;;;;;;;;;;;;sDAIxB,8OAAC,wJAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS;4CACT,UAAU,CAAC,cAAc;4CACzB,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}},
    {"offset": {"line": 1677, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette/commands.ts"],"sourcesContent":["import type { StepId } from \"../../contexts/quote-context\"\nimport {\n  Plus,\n  Search,\n  User,\n  Car,\n  Users,\n  AlertTriangle,\n  Shield,\n  FileCheck,\n  RefreshCw,\n  Send,\n  Download,\n  FileText,\n  FileDown,\n  CreditCard,\n  FileSignature,\n  Moon,\n  Sun,\n  Monitor,\n  Home,\n  X,\n  Filter,\n  type LucideIcon,\n} from \"lucide-react\"\nimport type { RecentQuote } from \"./quote-types\"\nimport type { CommandHistoryEntry } from \"./use-command-history\"\nimport type { QuoteListItem } from \"../quotes-list/types\"\nimport { getQuoteProgressSteps } from \"../quote-steps\"\n\nexport interface CommandParameter {\n  name: string\n  type: string\n  required: boolean\n  description?: string\n}\n\nexport interface Command {\n  id: string\n  label: string\n  keywords: string[]\n  shortcut?: string\n  icon: LucideIcon\n  group:\n    | \"quick-actions\"\n    | \"navigation\"\n    | \"quote-actions\"\n    | \"recent\"\n    | \"favorites\"\n    | \"history\"\n    | \"settings\"\n    | \"quotes-list\"\n  context: \"always\" | \"in-quote\" | \"has-quote\" | \"quotes-page\"\n  action: () => void\n  // Optional metadata for display\n  meta?: string\n  status?: \"draft\" | \"pending\" | \"sent\" | \"accepted\" | \"rejected\"\n  disabled?: boolean\n  // History and favorites\n  usageCount?: number\n  isFavorite?: boolean\n  customShortcut?: string\n  // Documentation for agents\n  description?: string // Human-readable description of what the command does\n  agentDescription?: string // Description optimized for AI agents\n  parameters?: CommandParameter[] // What parameters does this command accept/require\n  contextRequirements?: string[] // What conditions must be met (e.g., \"quote-id\", \"current-step\")\n}\n\ninterface CommandContext {\n  currentStep?: StepId\n  onStepChange?: (step: StepId) => void\n  onFindClient?: () => void\n  // Quote context\n  currentQuoteId?: string\n  isImported?: boolean\n  isUnbindable?: boolean\n  onRunReports?: () => void\n  onSendQuote?: () => void\n  onDownloadPDF?: () => void\n  onImportEzlynx?: () => void\n  // Recent quotes\n  recentQuotes?: RecentQuote[]\n  onOpenQuote?: (quoteId: string) => void\n  // History and favorites\n  history?: CommandHistoryEntry[]\n  favorites?: Set<string>\n  customShortcuts?: Map<string, string>\n  // Theme\n  onSetTheme?: (theme: \"light\" | \"dark\" | \"system\") => void\n  currentTheme?: \"light\" | \"dark\" | \"system\"\n  // Quotes page context\n  isQuotesPage?: boolean\n  availableQuotes?: QuoteListItem[]\n  onStartQuote?: () => void\n  onFilterStatus?: (status: string) => void\n  onClearFilters?: () => void\n}\n\nexport function buildCommands(context: CommandContext): Command[] {\n  const commands: Command[] = []\n\n  // Quick Actions (always available)\n  commands.push({\n    id: \"new-quote\",\n    label: \"New Quote\",\n    keywords: [\"new\", \"create\", \"quote\"],\n    shortcut: \"N\",\n    icon: Plus,\n    group: \"quick-actions\",\n    context: \"always\",\n    description: \"Creates a new insurance quote and navigates to the client information step\",\n    agentDescription: \"Creates a new insurance quote. Navigates to the client information step where you can enter client details. This is the first step in the quote workflow.\",\n    contextRequirements: [],\n    action: () => {\n      // Navigate to new quote / reset to first step\n      context.onStepChange?.(\"client-info\")\n    },\n  })\n\n  commands.push({\n    id: \"find-client\",\n    label: \"Find Client\",\n    keywords: [\"find\", \"search\", \"client\", \"customer\"],\n    shortcut: \"F\",\n    icon: Search,\n    group: \"quick-actions\",\n    context: \"always\",\n    description: \"Opens the client search dialog to find and select an existing client\",\n    agentDescription: \"Opens a client search dialog. Use this to find and select an existing client from the database. This is useful when you want to create a quote for a returning client.\",\n    contextRequirements: [],\n    action: () => {\n      context.onFindClient?.()\n    },\n  })\n\n  commands.push({\n    id: \"import-ezlynx\",\n    label: \"Import Quote from Ezlynx\",\n    keywords: [\"import\", \"ezlynx\", \"quote\", \"aggregator\"],\n    shortcut: undefined,\n    icon: FileDown,\n    group: \"quick-actions\",\n    context: \"always\",\n    description: \"Imports a quote from the Ezlynx aggregator system\",\n    agentDescription: \"Imports an existing quote from the Ezlynx aggregator system. This allows you to work with quotes that were created or managed in Ezlynx. After import, you'll see an import summary before proceeding with the quote workflow.\",\n    contextRequirements: [],\n    action: () => {\n      context.onImportEzlynx?.()\n    },\n  })\n\n  // Navigation (only in quote workflow)\n  if (context.currentStep) {\n    const stepMeta: Partial<\n      Record<\n        StepId,\n        {\n          shortcut?: string\n          icon: LucideIcon\n          keywords: string[]\n          description: string\n          agentDescription: string\n        }\n      >\n    > = {\n      \"import-summary\": {\n        icon: FileText,\n        keywords: [\"import\", \"summary\", \"missing\", \"report\"],\n        description: \"Shows the import summary for the imported quote\",\n        agentDescription: \"Navigates to the Import Summary step. Review missing info and required actions from the import before continuing the quote flow.\",\n      },\n      \"client-info\": {\n        shortcut: \"1\",\n        icon: User,\n        keywords: [\"basic\", \"info\", \"client\", \"information\", \"step\", \"1\"],\n        description: \"Navigates to the Basic Information section of the quote workflow\",\n        agentDescription: \"Navigates to the Basic Information step (step 1). Enter core client details like name, address, and contact information.\",\n      },\n      vehicle: {\n        shortcut: \"2\",\n        icon: Car,\n        keywords: [\"vehicle\", \"vehicles\", \"car\", \"cars\", \"step\", \"2\"],\n        description: \"Navigates to the Vehicles section of the quote workflow\",\n        agentDescription: \"Navigates to the Vehicles step (step 2). Add vehicles that need coverage, including make, model, year, and VIN.\",\n      },\n      driver: {\n        shortcut: \"3\",\n        icon: Users,\n        keywords: [\"driver\", \"drivers\", \"step\", \"3\"],\n        description: \"Navigates to the Drivers section of the quote workflow\",\n        agentDescription: \"Navigates to the Drivers step (step 3). Add drivers and their license details for rating and underwriting.\",\n      },\n      incidents: {\n        icon: AlertTriangle,\n        keywords: [\"incident\", \"incidents\", \"claims\", \"loss\", \"history\"],\n        description: \"Navigates to the Incidents section of the quote workflow\",\n        agentDescription: \"Navigates to the Incidents step. Review and record driver or vehicle incidents for underwriting.\",\n      },\n      reports: {\n        icon: FileText,\n        keywords: [\"reports\", \"report\", \"mvr\", \"clue\", \"third-party\"],\n        description: \"Navigates to the Reports section of the quote workflow\",\n        agentDescription: \"Navigates to the Reports step. Review third-party reports such as MVR and CLUE.\",\n      },\n      coverage: {\n        shortcut: \"4\",\n        icon: Shield,\n        keywords: [\"coverage\", \"coverages\", \"step\", \"4\"],\n        description: \"Navigates to the Coverages section of the quote workflow\",\n        agentDescription: \"Navigates to the Coverages step (step 4). Configure coverage limits and options for the quote.\",\n      },\n      payment: {\n        shortcut: \"5\",\n        icon: CreditCard,\n        keywords: [\"payment\", \"billing\", \"checkout\", \"step\", \"5\"],\n        description: \"Navigates to the Payment section of the quote workflow\",\n        agentDescription: \"Navigates to the Payment step (step 5). Collect payment details required to bind the policy.\",\n      },\n      \"e-sign\": {\n        shortcut: \"6\",\n        icon: FileSignature,\n        keywords: [\"e-sign\", \"esign\", \"signature\", \"sign\", \"step\", \"6\"],\n        description: \"Navigates to the E-Sign section of the quote workflow\",\n        agentDescription: \"Navigates to the E-Sign step (step 6). Review and send documents for electronic signature.\",\n      },\n      review: {\n        shortcut: \"7\",\n        icon: FileCheck,\n        keywords: [\"review\", \"final\", \"step\", \"7\"],\n        description: \"Navigates to the Review section of the quote workflow\",\n        agentDescription: \"Navigates to the Review step. Review the full quote before finalizing.\",\n      },\n    }\n\n    const steps = getQuoteProgressSteps({ isImported: context.isImported })\n\n    steps.forEach((step) => {\n      const stepInfo = stepMeta[step.id] || {\n        icon: FileCheck,\n        keywords: [\"step\"],\n        description: `Navigates to the ${step.label} section of the quote workflow`,\n        agentDescription: `Navigates to the ${step.label} step. Use this to jump directly to this section of the quote workflow.`,\n      }\n\n      const keywords = Array.from(\n        new Set([\n          step.label.toLowerCase(),\n          step.id,\n          step.id.replace(\"-\", \" \"),\n          ...stepInfo.keywords,\n        ])\n      )\n\n      const isBindBlockedStep =\n        !!context.isUnbindable &&\n        (step.id === \"payment\" || step.id === \"e-sign\")\n\n      commands.push({\n        id: `go-${step.id}`,\n        label: step.label,\n        keywords,\n        shortcut: stepInfo.shortcut,\n        icon: stepInfo.icon,\n        group: \"navigation\",\n        context: \"in-quote\",\n        description: stepInfo.description,\n        agentDescription: stepInfo.agentDescription,\n        contextRequirements: [\"current-step\"],\n        disabled: isBindBlockedStep,\n        meta: isBindBlockedStep ? \"Unavailable\" : undefined,\n        action: () => {\n          if (isBindBlockedStep) return\n          context.onStepChange?.(step.id as StepId)\n        },\n      })\n    })\n  }\n\n  // Quote-specific actions (only when a quote exists)\n  if (context.currentQuoteId) {\n    commands.push({\n      id: \"run-reports\",\n      label: \"Run 3rd Party Reports\",\n      keywords: [\"run\", \"reports\", \"mvr\", \"clue\", \"generate\"],\n      icon: RefreshCw,\n      group: \"quote-actions\",\n      context: \"has-quote\",\n      description: \"Generates third-party reports (MVR, CLUE) for the current quote\",\n      agentDescription: \"Generates third-party reports including MVR (Motor Vehicle Record) and CLUE (Comprehensive Loss Underwriting Exchange) reports for the current quote. These reports provide driving history and claims information to help assess risk and determine pricing.\",\n      contextRequirements: [\"quote-id\"],\n      action: () => {\n        context.onRunReports?.()\n      },\n    })\n\n    commands.push({\n      id: \"send-quote\",\n      label: \"Send Quote to Client\",\n      keywords: [\"send\", \"quote\", \"client\", \"email\"],\n      icon: Send,\n      group: \"quote-actions\",\n      context: \"has-quote\",\n      description: \"Sends the current quote to the client via email\",\n      agentDescription: \"Sends the current quote to the client via email. This allows the client to review the quote and either accept or reject it. The quote will be marked as 'sent' status after sending.\",\n      contextRequirements: [\"quote-id\"],\n      action: () => {\n        context.onSendQuote?.()\n      },\n    })\n\n    commands.push({\n      id: \"download-pdf\",\n      label: \"Download PDF\",\n      keywords: [\"download\", \"pdf\", \"export\", \"print\"],\n      icon: Download,\n      group: \"quote-actions\",\n      context: \"has-quote\",\n      description: \"Downloads the current quote as a PDF document\",\n      agentDescription: \"Downloads the current quote as a PDF document. This creates a formatted PDF version of the quote that can be saved, printed, or shared with the client offline.\",\n      contextRequirements: [\"quote-id\"],\n      action: () => {\n        context.onDownloadPDF?.()\n      },\n    })\n  }\n\n  // Recent Quotes (if available)\n  if (context.recentQuotes && context.recentQuotes.length > 0) {\n    context.recentQuotes.forEach((quote) => {\n      commands.push({\n        id: `recent-${quote.id}`,\n        label: quote.clientName,\n        keywords: [\n          quote.clientName.toLowerCase(),\n          quote.quoteNumber.toLowerCase(),\n          \"recent\",\n          \"quote\",\n        ],\n        icon: FileText,\n        group: \"recent\",\n        context: \"always\",\n        meta: quote.quoteNumber,\n        status: quote.status,\n        description: `Opens the recent quote ${quote.quoteNumber} for ${quote.clientName}`,\n        agentDescription: `Opens quote ${quote.quoteNumber} for client ${quote.clientName}. This is a recently accessed quote that you can quickly return to. The quote status is ${quote.status}.`,\n        action: () => {\n          context.onOpenQuote?.(quote.id)\n        },\n      })\n    })\n  }\n\n  // Quotes page commands (only on quotes page)\n  if (context.isQuotesPage) {\n    // Start New Quote\n    if (context.onStartQuote) {\n      commands.push({\n        id: \"start-quote\",\n        label: \"Start New Quote\",\n        keywords: [\"start\", \"new\", \"quote\", \"create\"],\n        shortcut: \"N\",\n        icon: Plus,\n        group: \"quotes-list\",\n        context: \"quotes-page\",\n        description: \"Starts a new quote and navigates to the quote creation page\",\n        agentDescription: \"Starts a new insurance quote. Navigates to the home page where you can begin creating a new quote from scratch. This is available on the quotes list page.\",\n        contextRequirements: [\"quotes-page\"],\n        action: () => {\n          context.onStartQuote?.()\n        },\n      })\n    }\n\n    // Navigate to Home\n    commands.push({\n      id: \"go-home\",\n      label: \"Go to Home\",\n      keywords: [\"home\", \"navigate\", \"main\", \"dashboard\"],\n      shortcut: \"H\",\n      icon: Home,\n      group: \"quotes-list\",\n      context: \"quotes-page\",\n      description: \"Navigates to the home page\",\n      agentDescription: \"Navigates to the home page (main dashboard). Use this to return to the main quote creation interface from the quotes list page.\",\n      contextRequirements: [\"quotes-page\"],\n      action: () => {\n        context.onStartQuote?.() // Navigate to home\n      },\n    })\n\n    // Clear Filters\n    if (context.onClearFilters) {\n      commands.push({\n        id: \"clear-filters\",\n        label: \"Clear All Filters\",\n        keywords: [\"clear\", \"reset\", \"filters\", \"all\"],\n        icon: X,\n        group: \"quotes-list\",\n        context: \"quotes-page\",\n        description: \"Clears all filters on the quotes list page\",\n        agentDescription: \"Clears all active filters on the quotes list page. This resets status, date range, agency, and agent filters to their default values, showing all quotes.\",\n        contextRequirements: [\"quotes-page\"],\n        action: () => {\n          context.onClearFilters?.()\n        },\n      })\n    }\n\n    // Filter by Status\n    if (context.onFilterStatus) {\n      const statuses = [\"draft\", \"pending\", \"sent\", \"accepted\", \"rejected\"] as const\n      const statusDescriptions: Record<string, string> = {\n        draft: \"Shows only draft quotes that are still being worked on\",\n        pending: \"Shows only pending quotes awaiting action\",\n        sent: \"Shows only quotes that have been sent to clients\",\n        accepted: \"Shows only quotes that have been accepted by clients\",\n        rejected: \"Shows only quotes that have been rejected by clients\",\n      }\n      statuses.forEach((status) => {\n        commands.push({\n          id: `filter-status-${status}`,\n          label: `Filter: ${status.charAt(0).toUpperCase() + status.slice(1)}`,\n          keywords: [\"filter\", \"status\", status],\n          icon: Filter,\n          group: \"quotes-list\",\n          context: \"quotes-page\",\n          description: `Filters quotes to show only ${status} quotes`,\n          agentDescription: `Filters the quotes list to show only quotes with ${status} status. ${statusDescriptions[status]}. This helps you focus on quotes in a specific state.`,\n          contextRequirements: [\"quotes-page\"],\n          parameters: [{ name: \"status\", type: \"string\", required: true, description: `The status to filter by: ${status}` }],\n          action: () => {\n            context.onFilterStatus?.(status)\n          },\n        })\n      })\n    }\n\n    // Open quotes from list\n    if (context.availableQuotes && context.availableQuotes.length > 0 && context.onOpenQuote) {\n      context.availableQuotes.forEach((quote) => {\n        commands.push({\n          id: `open-quote-${quote.id}`,\n          label: quote.name,\n          keywords: [\n            quote.name.toLowerCase(),\n            quote.quoteNumber.toLowerCase(),\n            \"open\",\n            \"quote\",\n            quote.status || \"\",\n          ],\n          icon: FileText,\n          group: \"quotes-list\",\n          context: \"quotes-page\",\n          meta: quote.quoteNumber,\n          status: quote.status as \"draft\" | \"pending\" | \"sent\" | \"accepted\" | \"rejected\",\n          description: `Opens quote ${quote.quoteNumber} for ${quote.name}`,\n          agentDescription: `Opens quote ${quote.quoteNumber} for client ${quote.name}. This quote has status ${quote.status}. Opening it will navigate to the quote detail page where you can view and edit the quote.`,\n          contextRequirements: [\"quotes-page\"],\n          action: () => {\n            context.onOpenQuote?.(quote.id)\n          },\n        })\n      })\n    }\n  }\n\n  // Theme settings (always available)\n  if (context.onSetTheme) {\n    const themeCommands = [\n      {\n        id: \"theme-light\",\n        label: \"Switch to Light Theme\",\n        keywords: [\"light\", \"theme\", \"bright\", \"day\"],\n        icon: Sun,\n        theme: \"light\" as const,\n      },\n      {\n        id: \"theme-dark\",\n        label: \"Switch to Dark Theme\",\n        keywords: [\"dark\", \"theme\", \"night\", \"black\"],\n        icon: Moon,\n        theme: \"dark\" as const,\n      },\n      {\n        id: \"theme-system\",\n        label: \"Use System Theme\",\n        keywords: [\"system\", \"theme\", \"auto\", \"default\"],\n        icon: Monitor,\n        theme: \"system\" as const,\n      },\n    ]\n\n    themeCommands.forEach(({ id, label, keywords, icon, theme }) => {\n      const isActive = context.currentTheme === theme\n      const themeDescriptions: Record<string, { description: string; agentDescription: string }> = {\n        light: {\n          description: \"Switches the application theme to light mode\",\n          agentDescription: \"Switches the application theme to light mode. This provides a bright, light-colored interface suitable for daytime use or users who prefer light backgrounds.\",\n        },\n        dark: {\n          description: \"Switches the application theme to dark mode\",\n          agentDescription: \"Switches the application theme to dark mode. This provides a dark interface that's easier on the eyes in low-light conditions and reduces eye strain.\",\n        },\n        system: {\n          description: \"Uses the system theme preference\",\n          agentDescription: \"Uses the system theme preference. The application will automatically match your operating system's theme setting (light or dark) and switch accordingly.\",\n        },\n      }\n      const themeInfo = themeDescriptions[theme]\n      commands.push({\n        id,\n        label,\n        keywords,\n        icon,\n        group: \"settings\",\n        context: \"always\",\n        meta: isActive ? \"Active\" : undefined,\n        description: themeInfo.description,\n        agentDescription: themeInfo.agentDescription,\n        contextRequirements: [],\n        action: () => {\n          context.onSetTheme?.(theme)\n        },\n      })\n    })\n  }\n\n  return commands\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2262, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette/fuzzy-search.ts"],"sourcesContent":["/**\n * Calculate fuzzy match score between text and query\n * Returns a score between 0 and 1, where 1 is a perfect match\n */\nexport function fuzzyMatch(text: string, query: string): number {\n  const lowerText = text.toLowerCase()\n  const lowerQuery = query.toLowerCase()\n\n  // Exact match = highest priority\n  if (lowerText === lowerQuery) {\n    return 1.0\n  }\n\n  // Starts with = very high priority\n  if (lowerText.startsWith(lowerQuery)) {\n    return 0.9\n  }\n\n  // Contains = high priority\n  if (lowerText.includes(lowerQuery)) {\n    return 0.7\n  }\n\n  // Fuzzy match (characters in order) = medium priority\n  let queryIndex = 0\n  let consecutiveMatches = 0\n  let maxConsecutive = 0\n\n  for (let i = 0; i < lowerText.length && queryIndex < lowerQuery.length; i++) {\n    if (lowerText[i] === lowerQuery[queryIndex]) {\n      consecutiveMatches++\n      maxConsecutive = Math.max(maxConsecutive, consecutiveMatches)\n      queryIndex++\n    } else {\n      consecutiveMatches = 0\n    }\n  }\n\n  // If all query characters were found in order\n  if (queryIndex === lowerQuery.length) {\n    // Score based on how many consecutive matches we found\n    const consecutiveScore = maxConsecutive / lowerQuery.length\n    return 0.3 + consecutiveScore * 0.2 // Range: 0.3 - 0.5\n  }\n\n  // No match\n  return 0\n}\n\n/**\n * Calculate match score for a command item\n * Takes into account label, keywords, and shortcut\n */\nexport function calculateCommandScore(\n  command: {\n    label: string\n    keywords: string[]\n    shortcut?: string\n  },\n  query: string\n): number {\n  const lowerQuery = query.toLowerCase()\n\n  // Check label match\n  const labelScore = fuzzyMatch(command.label, lowerQuery)\n\n  // Check keyword matches\n  const keywordScores = command.keywords.map((keyword) =>\n    fuzzyMatch(keyword, lowerQuery)\n  )\n  const maxKeywordScore = Math.max(...keywordScores, 0)\n\n  // Check shortcut match (exact match only)\n  let shortcutScore = 0\n  if (command.shortcut) {\n    const shortcutText = command.shortcut.toLowerCase().replace(/[ctrl]/g, \"\")\n    if (shortcutText === lowerQuery || shortcutText.includes(lowerQuery)) {\n      shortcutScore = 0.8\n    }\n  }\n\n  // Return the highest score\n  return Math.max(labelScore, maxKeywordScore, shortcutScore)\n}\n\n/**\n * Custom filter function for cmdk\n * Returns a number between 0 and 1 indicating match quality\n */\nexport function commandFilter(value: string, search: string): number {\n  if (!search) {\n    return 1 // Show all when no search\n  }\n\n  const lowerSearch = search.toLowerCase()\n  const lowerValue = value.toLowerCase()\n\n  // Exact match\n  if (lowerValue === lowerSearch) {\n    return 1\n  }\n\n  // Starts with\n  if (lowerValue.startsWith(lowerSearch)) {\n    return 0.9\n  }\n\n  // Contains\n  if (lowerValue.includes(lowerSearch)) {\n    return 0.7\n  }\n\n  // Fuzzy match\n  return fuzzyMatch(lowerValue, lowerSearch)\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;AACM,SAAS,WAAW,IAAY,EAAE,KAAa;IACpD,MAAM,YAAY,KAAK,WAAW;IAClC,MAAM,aAAa,MAAM,WAAW;IAEpC,iCAAiC;IACjC,IAAI,cAAc,YAAY;QAC5B,OAAO;IACT;IAEA,mCAAmC;IACnC,IAAI,UAAU,UAAU,CAAC,aAAa;QACpC,OAAO;IACT;IAEA,2BAA2B;IAC3B,IAAI,UAAU,QAAQ,CAAC,aAAa;QAClC,OAAO;IACT;IAEA,sDAAsD;IACtD,IAAI,aAAa;IACjB,IAAI,qBAAqB;IACzB,IAAI,iBAAiB;IAErB,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,IAAI,aAAa,WAAW,MAAM,EAAE,IAAK;QAC3E,IAAI,SAAS,CAAC,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE;YAC3C;YACA,iBAAiB,KAAK,GAAG,CAAC,gBAAgB;YAC1C;QACF,OAAO;YACL,qBAAqB;QACvB;IACF;IAEA,8CAA8C;IAC9C,IAAI,eAAe,WAAW,MAAM,EAAE;QACpC,uDAAuD;QACvD,MAAM,mBAAmB,iBAAiB,WAAW,MAAM;QAC3D,OAAO,MAAM,mBAAmB,IAAI,mBAAmB;;IACzD;IAEA,WAAW;IACX,OAAO;AACT;AAMO,SAAS,sBACd,OAIC,EACD,KAAa;IAEb,MAAM,aAAa,MAAM,WAAW;IAEpC,oBAAoB;IACpB,MAAM,aAAa,WAAW,QAAQ,KAAK,EAAE;IAE7C,wBAAwB;IACxB,MAAM,gBAAgB,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC,UAC1C,WAAW,SAAS;IAEtB,MAAM,kBAAkB,KAAK,GAAG,IAAI,eAAe;IAEnD,0CAA0C;IAC1C,IAAI,gBAAgB;IACpB,IAAI,QAAQ,QAAQ,EAAE;QACpB,MAAM,eAAe,QAAQ,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAC,YAAY;QACxE,IAAI,iBAAiB,cAAc,aAAa,QAAQ,CAAC,aAAa;YACpE,gBAAgB;QAClB;IACF;IAEA,2BAA2B;IAC3B,OAAO,KAAK,GAAG,CAAC,YAAY,iBAAiB;AAC/C;AAMO,SAAS,cAAc,KAAa,EAAE,MAAc;IACzD,IAAI,CAAC,QAAQ;QACX,OAAO,EAAE,0BAA0B;;IACrC;IAEA,MAAM,cAAc,OAAO,WAAW;IACtC,MAAM,aAAa,MAAM,WAAW;IAEpC,cAAc;IACd,IAAI,eAAe,aAAa;QAC9B,OAAO;IACT;IAEA,cAAc;IACd,IAAI,WAAW,UAAU,CAAC,cAAc;QACtC,OAAO;IACT;IAEA,WAAW;IACX,IAAI,WAAW,QAAQ,CAAC,cAAc;QACpC,OAAO;IACT;IAEA,cAAc;IACd,OAAO,WAAW,YAAY;AAChC"}},
    {"offset": {"line": 2355, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette/use-recent-quotes.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport type { RecentQuote, QuoteStatus } from \"./quote-types\"\n\nconst STORAGE_KEY = \"command-palette-recent-quotes\"\nconst MAX_RECENT_QUOTES = 10\n\n/**\n * Hook for managing recent quotes in localStorage\n */\nexport function useRecentQuotes() {\n  const [recentQuotes, setRecentQuotes] = useState<RecentQuote[]>([])\n\n  // Load recent quotes from localStorage on mount\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem(STORAGE_KEY)\n      if (stored) {\n        const parsed = JSON.parse(stored) as RecentQuote[]\n        // Sort by accessedAt (most recent first)\n        const sorted = parsed.sort(\n          (a, b) =>\n            new Date(b.accessedAt).getTime() - new Date(a.accessedAt).getTime()\n        )\n        setRecentQuotes(sorted.slice(0, MAX_RECENT_QUOTES))\n      }\n    } catch (error) {\n      console.error(\"Failed to load recent quotes:\", error)\n    }\n  }, [])\n\n  // Save recent quotes to localStorage\n  const saveRecentQuotes = useCallback((quotes: RecentQuote[]) => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(quotes))\n      setRecentQuotes(quotes)\n    } catch (error) {\n      console.error(\"Failed to save recent quotes:\", error)\n    }\n  }, [])\n\n  // Add a quote to recent quotes\n  const addRecentQuote = useCallback(\n    (quote: {\n      id: string\n      quoteNumber: string\n      clientName: string\n      status: QuoteStatus\n    }) => {\n      const newRecent: RecentQuote = {\n        ...quote,\n        accessedAt: new Date().toISOString(),\n      }\n\n      setRecentQuotes((prev) => {\n        // Remove if already exists\n        const filtered = prev.filter((q) => q.id !== quote.id)\n        // Add to beginning\n        const updated = [newRecent, ...filtered]\n        // Keep only MAX_RECENT_QUOTES\n        const limited = updated.slice(0, MAX_RECENT_QUOTES)\n        saveRecentQuotes(limited)\n        return limited\n      })\n    },\n    [saveRecentQuotes]\n  )\n\n  // Clear all recent quotes\n  const clearRecentQuotes = useCallback(() => {\n    localStorage.removeItem(STORAGE_KEY)\n    setRecentQuotes([])\n  }, [])\n\n  return {\n    recentQuotes,\n    addRecentQuote,\n    clearRecentQuotes,\n  }\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAKA,MAAM,cAAc;AACpB,MAAM,oBAAoB;AAKnB,SAAS;IACd,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IAElE,gDAAgD;IAChD,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,QAAQ;gBACV,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,yCAAyC;gBACzC,MAAM,SAAS,OAAO,IAAI,CACxB,CAAC,GAAG,IACF,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO;gBAErE,gBAAgB,OAAO,KAAK,CAAC,GAAG;YAClC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF,GAAG,EAAE;IAEL,qCAAqC;IACrC,MAAM,mBAAmB,IAAA,oNAAW,EAAC,CAAC;QACpC,IAAI;YACF,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACjD,gBAAgB;QAClB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF,GAAG,EAAE;IAEL,+BAA+B;IAC/B,MAAM,iBAAiB,IAAA,oNAAW,EAChC,CAAC;QAMC,MAAM,YAAyB;YAC7B,GAAG,KAAK;YACR,YAAY,IAAI,OAAO,WAAW;QACpC;QAEA,gBAAgB,CAAC;YACf,2BAA2B;YAC3B,MAAM,WAAW,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,MAAM,EAAE;YACrD,mBAAmB;YACnB,MAAM,UAAU;gBAAC;mBAAc;aAAS;YACxC,8BAA8B;YAC9B,MAAM,UAAU,QAAQ,KAAK,CAAC,GAAG;YACjC,iBAAiB;YACjB,OAAO;QACT;IACF,GACA;QAAC;KAAiB;IAGpB,0BAA0B;IAC1B,MAAM,oBAAoB,IAAA,oNAAW,EAAC;QACpC,aAAa,UAAU,CAAC;QACxB,gBAAgB,EAAE;IACpB,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 2426, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette/use-command-history.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\n\nconst STORAGE_KEY_HISTORY = \"command-palette-history\"\nconst STORAGE_KEY_FAVORITES = \"command-palette-favorites\"\nconst STORAGE_KEY_CUSTOM_SHORTCUTS = \"command-palette-custom-shortcuts\"\nconst MAX_HISTORY = 20\n\nexport interface CommandHistoryEntry {\n  commandId: string\n  executedAt: string\n  count: number\n}\n\nexport interface FavoriteCommand {\n  commandId: string\n  favoritedAt: string\n}\n\nexport interface CustomShortcut {\n  commandId: string\n  shortcut: string\n}\n\n/**\n * Hook for managing command history, favorites, and custom shortcuts\n */\nexport function useCommandHistory() {\n  const [history, setHistory] = useState<CommandHistoryEntry[]>([])\n  const [favorites, setFavorites] = useState<Set<string>>(new Set())\n  const [customShortcuts, setCustomShortcuts] = useState<\n    Map<string, string>\n  >(new Map())\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      // Load history\n      const storedHistory = localStorage.getItem(STORAGE_KEY_HISTORY)\n      if (storedHistory) {\n        const parsed = JSON.parse(storedHistory) as CommandHistoryEntry[]\n        setHistory(parsed.slice(0, MAX_HISTORY))\n      }\n\n      // Load favorites\n      const storedFavorites = localStorage.getItem(STORAGE_KEY_FAVORITES)\n      if (storedFavorites) {\n        const parsed = JSON.parse(storedFavorites) as FavoriteCommand[]\n        setFavorites(new Set(parsed.map((f) => f.commandId)))\n      }\n\n      // Load custom shortcuts\n      const storedShortcuts = localStorage.getItem(STORAGE_KEY_CUSTOM_SHORTCUTS)\n      if (storedShortcuts) {\n        const parsed = JSON.parse(storedShortcuts) as CustomShortcut[]\n        setCustomShortcuts(\n          new Map(parsed.map((s) => [s.commandId, s.shortcut]))\n        )\n      }\n    } catch (error) {\n      console.error(\"Failed to load command preferences:\", error)\n    }\n  }, [])\n\n  // Track command execution\n  const trackCommand = useCallback((commandId: string) => {\n    setHistory((prev) => {\n      const existing = prev.find((entry) => entry.commandId === commandId)\n      let updated: CommandHistoryEntry[]\n\n      if (existing) {\n        // Update existing entry\n        updated = prev.map((entry) =>\n          entry.commandId === commandId\n            ? {\n                ...entry,\n                count: entry.count + 1,\n                executedAt: new Date().toISOString(),\n              }\n            : entry\n        )\n        // Move to top\n        updated = [\n          updated.find((e) => e.commandId === commandId)!,\n          ...updated.filter((e) => e.commandId !== commandId),\n        ]\n      } else {\n        // Add new entry\n        updated = [\n          {\n            commandId,\n            executedAt: new Date().toISOString(),\n            count: 1,\n          },\n          ...prev,\n        ]\n      }\n\n      // Keep only MAX_HISTORY entries\n      const limited = updated.slice(0, MAX_HISTORY)\n\n      // Save to localStorage\n      try {\n        localStorage.setItem(STORAGE_KEY_HISTORY, JSON.stringify(limited))\n      } catch (error) {\n        console.error(\"Failed to save command history:\", error)\n      }\n\n      return limited\n    })\n  }, [])\n\n  // Toggle favorite\n  const toggleFavorite = useCallback((commandId: string) => {\n    setFavorites((prev) => {\n      const updated = new Set(prev)\n      if (updated.has(commandId)) {\n        updated.delete(commandId)\n      } else {\n        updated.add(commandId)\n      }\n\n      // Save to localStorage\n      try {\n        const favoritesArray: FavoriteCommand[] = Array.from(updated).map(\n          (id) => ({\n            commandId: id,\n            favoritedAt: new Date().toISOString(),\n          })\n        )\n        localStorage.setItem(\n          STORAGE_KEY_FAVORITES,\n          JSON.stringify(favoritesArray)\n        )\n      } catch (error) {\n        console.error(\"Failed to save favorites:\", error)\n      }\n\n      return updated\n    })\n  }, [])\n\n  // Set custom shortcut\n  const setCustomShortcut = useCallback(\n    (commandId: string, shortcut: string | null) => {\n      setCustomShortcuts((prev) => {\n        const updated = new Map(prev)\n        if (shortcut === null) {\n          updated.delete(commandId)\n        } else {\n          updated.set(commandId, shortcut)\n        }\n\n        // Save to localStorage\n        try {\n          const shortcutsArray: CustomShortcut[] = Array.from(\n            updated.entries()\n          ).map(([id, shortcut]) => ({\n            commandId: id,\n            shortcut,\n          }))\n          localStorage.setItem(\n            STORAGE_KEY_CUSTOM_SHORTCUTS,\n            JSON.stringify(shortcutsArray)\n          )\n        } catch (error) {\n          console.error(\"Failed to save custom shortcuts:\", error)\n        }\n\n        return updated\n      })\n    },\n    []\n  )\n\n  // Get command usage count\n  const getUsageCount = useCallback(\n    (commandId: string) => {\n      const entry = history.find((e) => e.commandId === commandId)\n      return entry?.count || 0\n    },\n    [history]\n  )\n\n  // Get most used commands\n  const getMostUsed = useCallback(\n    (limit: number = 5) => {\n      return [...history]\n        .sort((a, b) => b.count - a.count)\n        .slice(0, limit)\n        .map((e) => e.commandId)\n    },\n    [history]\n  )\n\n  // Clear history\n  const clearHistory = useCallback(() => {\n    setHistory([])\n    localStorage.removeItem(STORAGE_KEY_HISTORY)\n  }, [])\n\n  return {\n    history,\n    favorites,\n    customShortcuts,\n    trackCommand,\n    toggleFavorite,\n    setCustomShortcut,\n    getUsageCount,\n    getMostUsed,\n    clearHistory,\n    isFavorite: (commandId: string) => favorites.has(commandId),\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2589, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette/command-hints.ts"],"sourcesContent":["import type { Command } from \"./commands\"\n\n/**\n * Structured format for agent consumption\n * Provides a simplified view of commands optimized for AI agents\n */\nexport interface CommandHint {\n  id: string\n  label: string\n  description: string\n  group: string\n  context: string\n  available: boolean\n  shortcut?: string\n  keywords: string[]\n  parameters?: Array<{\n    name: string\n    type: string\n    required: boolean\n    description?: string\n  }>\n  contextRequirements?: string[]\n}\n\n/**\n * Converts a Command to a CommandHint for agent consumption\n */\nexport function commandToHint(command: Command, available: boolean = true): CommandHint {\n  return {\n    id: command.id,\n    label: command.label,\n    description: command.agentDescription || command.description || command.label,\n    group: command.group,\n    context: command.context,\n    available,\n    shortcut: command.shortcut || command.customShortcut,\n    keywords: command.keywords,\n    parameters: command.parameters,\n    contextRequirements: command.contextRequirements,\n  }\n}\n\n/**\n * Converts an array of Commands to CommandHints\n */\nexport function commandsToHints(commands: Command[]): CommandHint[] {\n  return commands.map((cmd) => commandToHint(cmd, true))\n}\n"],"names":[],"mappings":";;;;;;AA2BO,SAAS,cAAc,OAAgB,EAAE,YAAqB,IAAI;IACvE,OAAO;QACL,IAAI,QAAQ,EAAE;QACd,OAAO,QAAQ,KAAK;QACpB,aAAa,QAAQ,gBAAgB,IAAI,QAAQ,WAAW,IAAI,QAAQ,KAAK;QAC7E,OAAO,QAAQ,KAAK;QACpB,SAAS,QAAQ,OAAO;QACxB;QACA,UAAU,QAAQ,QAAQ,IAAI,QAAQ,cAAc;QACpD,UAAU,QAAQ,QAAQ;QAC1B,YAAY,QAAQ,UAAU;QAC9B,qBAAqB,QAAQ,mBAAmB;IAClD;AACF;AAKO,SAAS,gBAAgB,QAAmB;IACjD,OAAO,SAAS,GAAG,CAAC,CAAC,MAAQ,cAAc,KAAK;AAClD"}},
    {"offset": {"line": 2616, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette/command-registry.ts"],"sourcesContent":["\"use client\"\n\nimport { useMemo } from \"react\"\nimport type { Command } from \"./commands\"\nimport { commandToHint, type CommandHint } from \"./command-hints\"\n\n/**\n * Command Registry Hook\n * Provides programmatic access to available commands\n */\nexport function useCommandRegistry(commands: Command[]) {\n  const registry = useMemo(() => {\n    return {\n      /**\n       * Get all available commands\n       */\n      getAvailableCommands: (): Command[] => {\n        return commands.filter((cmd) => isCommandAvailable(cmd))\n      },\n\n      /**\n       * Get commands filtered by group\n       */\n      getCommandsByGroup: (group: string): Command[] => {\n        return commands.filter(\n          (cmd) => cmd.group === group && isCommandAvailable(cmd)\n        )\n      },\n\n      /**\n       * Get commands filtered by context requirement\n       */\n      getCommandsByContext: (context: string): Command[] => {\n        return commands.filter(\n          (cmd) => cmd.context === context && isCommandAvailable(cmd)\n        )\n      },\n\n      /**\n       * Get a specific command by ID\n       */\n      getCommandById: (id: string): Command | undefined => {\n        const cmd = commands.find((c) => c.id === id)\n        return cmd && isCommandAvailable(cmd) ? cmd : undefined\n      },\n\n      /**\n       * Get command hints optimized for AI agents\n       */\n      getCommandHints: (): CommandHint[] => {\n        return commands\n          .filter((cmd) => isCommandAvailable(cmd))\n          .map((cmd) => commandToHint(cmd, true))\n      },\n\n      /**\n       * Get command hints filtered by group\n       */\n      getHintsByGroup: (group: string): CommandHint[] => {\n        return commands\n          .filter((cmd) => cmd.group === group && isCommandAvailable(cmd))\n          .map((cmd) => commandToHint(cmd, true))\n      },\n\n      /**\n       * Get command hints filtered by context\n       */\n      getHintsByContext: (context: string): CommandHint[] => {\n        return commands\n          .filter((cmd) => cmd.context === context && isCommandAvailable(cmd))\n          .map((cmd) => commandToHint(cmd, true))\n      },\n\n      /**\n       * Search commands by keyword or label\n       */\n      searchCommands: (query: string): Command[] => {\n        const lowerQuery = query.toLowerCase()\n        return commands.filter((cmd) => {\n          if (!isCommandAvailable(cmd)) return false\n          const labelMatch = cmd.label.toLowerCase().includes(lowerQuery)\n          const keywordMatch = cmd.keywords.some((kw) =>\n            kw.toLowerCase().includes(lowerQuery)\n          )\n          const descriptionMatch =\n            cmd.description?.toLowerCase().includes(lowerQuery) ||\n            cmd.agentDescription?.toLowerCase().includes(lowerQuery)\n          return labelMatch || keywordMatch || descriptionMatch\n        })\n      },\n\n      /**\n       * Check if a command is available\n       */\n      isCommandAvailable: (id: string): boolean => {\n        const cmd = commands.find((c) => c.id === id)\n        return cmd ? isCommandAvailable(cmd) : false\n      },\n    }\n  }, [commands])\n\n  return registry\n}\n\n/**\n * Determines if a command is available based on its context requirements\n * This is a simplified check - in a real implementation, you'd check\n * actual context values (e.g., quote-id exists, current-step is set, etc.)\n */\nfunction isCommandAvailable(cmd: Command): boolean {\n  // For now, all commands are considered available\n  // In a real implementation, you'd check context requirements here\n  // e.g., if cmd.contextRequirements includes \"quote-id\", check if quoteId exists\n  return true\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;AAUO,SAAS,mBAAmB,QAAmB;IACpD,MAAM,WAAW,IAAA,gNAAO,EAAC;QACvB,OAAO;YACL;;OAEC,GACD,sBAAsB;gBACpB,OAAO,SAAS,MAAM,CAAC,CAAC,MAAQ,mBAAmB;YACrD;YAEA;;OAEC,GACD,oBAAoB,CAAC;gBACnB,OAAO,SAAS,MAAM,CACpB,CAAC,MAAQ,IAAI,KAAK,KAAK,SAAS,mBAAmB;YAEvD;YAEA;;OAEC,GACD,sBAAsB,CAAC;gBACrB,OAAO,SAAS,MAAM,CACpB,CAAC,MAAQ,IAAI,OAAO,KAAK,WAAW,mBAAmB;YAE3D;YAEA;;OAEC,GACD,gBAAgB,CAAC;gBACf,MAAM,MAAM,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAC1C,OAAO,OAAO,mBAAmB,OAAO,MAAM;YAChD;YAEA;;OAEC,GACD,iBAAiB;gBACf,OAAO,SACJ,MAAM,CAAC,CAAC,MAAQ,mBAAmB,MACnC,GAAG,CAAC,CAAC,MAAQ,IAAA,yMAAa,EAAC,KAAK;YACrC;YAEA;;OAEC,GACD,iBAAiB,CAAC;gBAChB,OAAO,SACJ,MAAM,CAAC,CAAC,MAAQ,IAAI,KAAK,KAAK,SAAS,mBAAmB,MAC1D,GAAG,CAAC,CAAC,MAAQ,IAAA,yMAAa,EAAC,KAAK;YACrC;YAEA;;OAEC,GACD,mBAAmB,CAAC;gBAClB,OAAO,SACJ,MAAM,CAAC,CAAC,MAAQ,IAAI,OAAO,KAAK,WAAW,mBAAmB,MAC9D,GAAG,CAAC,CAAC,MAAQ,IAAA,yMAAa,EAAC,KAAK;YACrC;YAEA;;OAEC,GACD,gBAAgB,CAAC;gBACf,MAAM,aAAa,MAAM,WAAW;gBACpC,OAAO,SAAS,MAAM,CAAC,CAAC;oBACtB,IAAI,CAAC,mBAAmB;;oBACxB,MAAM,aAAa,IAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC;oBACpD,MAAM,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,KACtC,GAAG,WAAW,GAAG,QAAQ,CAAC;oBAE5B,MAAM,mBACJ,IAAI,WAAW,EAAE,cAAc,SAAS,eACxC,IAAI,gBAAgB,EAAE,cAAc,SAAS;oBAC/C,OAAO,cAAc,gBAAgB;gBACvC;YACF;YAEA;;OAEC,GACD,oBAAoB,CAAC;gBACnB,MAAM,MAAM,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAC1C,OAAO,MAAM,mBAAmB,OAAO;YACzC;QACF;IACF,GAAG;QAAC;KAAS;IAEb,OAAO;AACT;AAEA;;;;CAIC,GACD,SAAS,mBAAmB,GAAY;IACtC,iDAAiD;IACjD,kEAAkE;IAClE,gFAAgF;IAChF,OAAO;AACT"}},
    {"offset": {"line": 2703, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/hooks/use-command-palette.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useMemo } from \"react\"\nimport { buildCommands, Command } from \"../command-palette/commands\"\nimport type { StepId } from \"../../contexts/quote-context\"\nimport type { RecentQuote } from \"../command-palette/quote-types\"\nimport type {\n  CommandHistoryEntry,\n} from \"../command-palette/use-command-history\"\nimport type { QuoteListItem } from \"../quotes-list/types\"\n\ninterface UseCommandPaletteProps {\n  currentStep?: StepId\n  onStepChange?: (step: StepId) => void\n  onFindClient?: () => void\n  // Quote context\n  currentQuoteId?: string\n  isImported?: boolean\n  isUnbindable?: boolean\n  onRunReports?: () => void\n  onSendQuote?: () => void\n  onDownloadPDF?: () => void\n  onImportEzlynx?: () => void\n  // Recent quotes\n  recentQuotes?: RecentQuote[]\n  onOpenQuote?: (quoteId: string) => void\n  // History and favorites\n  history?: CommandHistoryEntry[]\n  favorites?: Set<string>\n  customShortcuts?: Map<string, string>\n  // Theme\n  onSetTheme?: (theme: \"light\" | \"dark\" | \"system\") => void\n  currentTheme?: \"light\" | \"dark\" | \"system\"\n  // Quotes page context\n  isQuotesPage?: boolean\n  availableQuotes?: QuoteListItem[]\n  onStartQuote?: () => void\n  onFilterStatus?: (status: string) => void\n  onClearFilters?: () => void\n}\n\ninterface GroupedCommand {\n  group: string\n  commands: Command[]\n}\n\ninterface UseCommandPaletteReturn {\n  isOpen: boolean\n  setIsOpen: (open: boolean) => void\n  commands: GroupedCommand[]\n}\n\nexport function useCommandPalette({\n  currentStep,\n  onStepChange,\n  onFindClient,\n  currentQuoteId,\n  isImported,\n  isUnbindable,\n  onRunReports,\n  onSendQuote,\n  onDownloadPDF,\n  onImportEzlynx,\n  recentQuotes,\n  onOpenQuote,\n  history = [],\n  favorites = new Set(),\n  customShortcuts = new Map(),\n  onSetTheme,\n  currentTheme,\n  isQuotesPage,\n  availableQuotes,\n  onStartQuote,\n  onFilterStatus,\n  onClearFilters,\n}: UseCommandPaletteProps): UseCommandPaletteReturn {\n  const [isOpen, setIsOpen] = useState(false)\n\n  // Build commands based on context\n  const allCommands = useMemo(\n    () =>\n      buildCommands({\n        currentStep,\n        onStepChange,\n        onFindClient,\n        currentQuoteId,\n        isImported,\n        isUnbindable,\n        onRunReports,\n        onSendQuote,\n        onDownloadPDF,\n        onImportEzlynx,\n        recentQuotes,\n        onOpenQuote,\n        history,\n        favorites,\n        customShortcuts,\n        onSetTheme,\n        currentTheme,\n        isQuotesPage,\n        availableQuotes,\n        onStartQuote,\n        onFilterStatus,\n        onClearFilters,\n      }),\n    [\n      currentStep,\n      onStepChange,\n      onFindClient,\n      currentQuoteId,\n      isImported,\n      isUnbindable,\n      onRunReports,\n      onSendQuote,\n      onDownloadPDF,\n      onImportEzlynx,\n      recentQuotes,\n      onOpenQuote,\n      history,\n      favorites,\n      customShortcuts,\n      onSetTheme,\n      currentTheme,\n      isQuotesPage,\n      availableQuotes,\n      onStartQuote,\n      onFilterStatus,\n      onClearFilters,\n    ]\n  )\n\n  // Group commands by category and enhance with history/favorites\n  const groupedCommands = useMemo(() => {\n    const groups = new Map<string, Command[]>()\n    const favoriteCommands: Command[] = []\n    const historyCommands: Command[] = []\n    const historyMap = new Map(\n      history.map((entry) => [entry.commandId, entry])\n    )\n\n    // Process all commands\n    const enhancedCommands = allCommands.map((cmd) => {\n      const customShortcut = customShortcuts.get(cmd.id)\n      const historyEntry = historyMap.get(cmd.id)\n      const isFav = favorites.has(cmd.id)\n\n      return {\n        ...cmd,\n        customShortcut: customShortcut || cmd.customShortcut,\n        usageCount: historyEntry?.count,\n        isFavorite: isFav,\n      }\n    })\n\n    // Track command IDs that are in favorites or history to avoid duplicates\n    const commandsInSpecialGroups = new Set<string>()\n\n    // Group commands\n    enhancedCommands.forEach((cmd) => {\n      // Add to favorites if favorite\n      if (cmd.isFavorite) {\n        favoriteCommands.push(cmd)\n        commandsInSpecialGroups.add(cmd.id)\n      }\n\n      // Add to history group if recently used\n      if (cmd.usageCount && cmd.usageCount > 0) {\n        historyCommands.push(cmd)\n        commandsInSpecialGroups.add(cmd.id)\n      }\n\n      // Add to regular groups only if not already in favorites or history\n      if (!commandsInSpecialGroups.has(cmd.id)) {\n        if (!groups.has(cmd.group)) {\n          groups.set(cmd.group, [])\n        }\n        groups.get(cmd.group)!.push(cmd)\n      }\n    })\n\n    // Sort history commands by most recent\n    historyCommands.sort((a, b) => {\n      const aEntry = historyMap.get(a.id)\n      const bEntry = historyMap.get(b.id)\n      if (!aEntry || !bEntry) return 0\n      return (\n        new Date(bEntry.executedAt).getTime() -\n        new Date(aEntry.executedAt).getTime()\n      )\n    })\n\n    // Sort favorites by usage count\n    favoriteCommands.sort((a, b) => {\n      const aCount = a.usageCount || 0\n      const bCount = b.usageCount || 0\n      return bCount - aCount\n    })\n\n    // Add favorites and history groups at the beginning\n    const result: Array<{ group: string; commands: Command[] }> = []\n\n    if (favoriteCommands.length > 0) {\n      result.push({ group: \"favorites\", commands: favoriteCommands })\n    }\n\n    if (historyCommands.length > 0) {\n      result.push({\n        group: \"history\",\n        commands: historyCommands.slice(0, 5), // Show top 5 recently used\n      })\n    }\n\n    // Add other groups\n    groups.forEach((commands, group) => {\n      // Skip groups that are already added\n      if (group !== \"favorites\" && group !== \"history\") {\n        result.push({ group, commands })\n      }\n    })\n\n    return result\n  }, [allCommands, history, favorites, customShortcuts])\n\n  // Handle K / Ctrl+K keyboard shortcut\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // K on Mac, Ctrl+K on Windows/Linux\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault()\n        setIsOpen((prev) => !prev)\n      }\n\n      // Prevent default browser shortcuts when palette is open\n      if (isOpen) {\n        // Note: S is no longer intercepted since auto-save handles saving\n        // Prevent F from triggering browser find\n        if ((e.metaKey || e.ctrlKey) && e.key === \"f\") {\n          e.preventDefault()\n        }\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [isOpen])\n\n  // Commands are already grouped in groupedCommands\n  const commands = groupedCommands\n\n  return {\n    isOpen,\n    setIsOpen,\n    commands,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2883, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/command-palette.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo, useEffect, useCallback } from \"react\"\nimport { Search } from \"lucide-react\"\nimport {\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n} from \"@novo/ui\"\nimport { useCommandPalette } from \"./hooks/use-command-palette\"\nimport { commandFilter } from \"./command-palette/fuzzy-search\"\nimport { useRecentQuotes } from \"./command-palette/use-recent-quotes\"\nimport { useCommandHistory } from \"./command-palette/use-command-history\"\nimport { useCommandPaletteContext } from \"./command-palette-context\"\nimport { useTheme } from \"@/shared/hooks/use-theme\"\nimport { useCommandRegistry } from \"./command-palette/command-registry\"\nimport type { StepId } from \"../contexts/quote-context\"\nimport type { Command } from \"./command-palette/commands\"\nimport type { RecentQuote } from \"./command-palette/quote-types\"\nimport { Badge } from \"@novo/ui\"\nimport { Star } from \"lucide-react\"\n\nimport type { QuoteListItem } from \"./quotes-list/types\"\n\ninterface CommandPaletteProps {\n  currentStep?: StepId\n  onStepChange?: (step: StepId) => void\n  onFindClient?: () => void\n  // Quote context\n  currentQuoteId?: string\n  isImported?: boolean\n  isUnbindable?: boolean\n  onRunReports?: () => void\n  onSendQuote?: () => void\n  onDownloadPDF?: () => void\n  onImportEzlynx?: () => void\n  onOpenQuote?: (quoteId: string) => void\n  // Quotes page context\n  isQuotesPage?: boolean\n  availableQuotes?: QuoteListItem[]\n  onStartQuote?: () => void\n  onFilterStatus?: (status: string) => void\n  onClearFilters?: () => void\n}\n\nconst groupLabels: Record<string, string> = {\n  favorites: \"Favorites\",\n  history: \"Recently Used\",\n  \"quick-actions\": \"Quick Actions\",\n  navigation: \"Jump to Section\",\n  \"quote-actions\": \"Reports & Actions\",\n  recent: \"Recent Quotes\",\n  settings: \"Settings\",\n  \"quotes-list\": \"Quotes\",\n}\n\nexport function CommandPalette({\n  currentStep,\n  onStepChange,\n  onFindClient,\n  currentQuoteId,\n  isImported,\n  isUnbindable,\n  onRunReports,\n  onSendQuote,\n  onDownloadPDF,\n  onImportEzlynx,\n  onOpenQuote,\n  isQuotesPage,\n  availableQuotes,\n  onStartQuote,\n  onFilterStatus,\n  onClearFilters,\n}: CommandPaletteProps) {\n  // Get recent quotes\n  const { recentQuotes, addRecentQuote } = useRecentQuotes()\n\n  // Get command history and favorites\n  const {\n    history,\n    favorites,\n    customShortcuts,\n    trackCommand,\n    toggleFavorite,\n    getUsageCount,\n    getMostUsed,\n    isFavorite,\n  } = useCommandHistory()\n\n  // Get theme functions\n  const { setTheme, theme } = useTheme()\n\n  // Wrap onOpenQuote to track recent quotes\n  const handleOpenQuoteWithTracking = (quoteId: string) => {\n    // Add to recent quotes (with mock data for demo)\n    // In a real app, you'd fetch quote data first\n    addRecentQuote({\n      id: quoteId,\n      quoteNumber: `Q-${quoteId.slice(-6)}`,\n      clientName: `Client ${quoteId.slice(-3)}`,\n      status: \"draft\",\n    })\n    onOpenQuote?.(quoteId)\n  }\n\n  const context = useCommandPaletteContext()\n  const { isOpen: hookIsOpen, setIsOpen: setHookIsOpen, commands } = useCommandPalette({\n    currentStep,\n    onStepChange,\n    onFindClient,\n    currentQuoteId,\n    isImported,\n    isUnbindable,\n    onRunReports,\n    onSendQuote,\n    onDownloadPDF,\n    onImportEzlynx,\n    recentQuotes,\n    onOpenQuote: handleOpenQuoteWithTracking,\n    history,\n    favorites,\n    customShortcuts,\n    onSetTheme: setTheme,\n    currentTheme: theme as \"light\" | \"dark\" | \"system\" | undefined,\n    isQuotesPage,\n    availableQuotes,\n    onStartQuote,\n    onFilterStatus,\n    onClearFilters,\n  })\n\n  // Use hook state as source of truth\n  const isOpen = hookIsOpen\n  \n  // Sync context to hook when opened from hint button (one-way: context -> hook)\n  useEffect(() => {\n    if (context.isOpen && !hookIsOpen) {\n      setHookIsOpen(true)\n    }\n  }, [context.isOpen, hookIsOpen, setHookIsOpen])\n\n  // Unified setIsOpen that updates both states\n  const setIsOpen = useCallback((open: boolean) => {\n    setHookIsOpen(open)\n    context.setIsOpen(open)\n  }, [context.setIsOpen])\n\n  const [search, setSearch] = useState(\"\")\n\n  // Get all available commands for suggestions\n  const allCommands = useMemo(() => {\n    return commands.flatMap(({ commands: groupCommands }) => groupCommands)\n  }, [commands])\n\n  // Create registry from all commands\n  const registry = useCommandRegistry(allCommands)\n\n  // Register registry with context (for agent access)\n  useEffect(() => {\n    if (context && '_registerRegistry' in context && typeof context._registerRegistry === 'function') {\n      context._registerRegistry(registry)\n    }\n  }, [registry, context])\n\n  // Get popular/suggested commands for empty state\n  const suggestedCommands = useMemo(() => {\n    if (!search) {\n      // When no search, suggest common commands\n      return allCommands\n        .filter((cmd) => [\"new-quote\", \"find-client\"].includes(cmd.id))\n        .slice(0, 3)\n    }\n\n    // When there's a search but no results, suggest similar commands\n    const lowerSearch = search.toLowerCase()\n    return allCommands\n      .filter((cmd) => {\n        const label = cmd.label.toLowerCase()\n        const keywords = cmd.keywords.join(\" \").toLowerCase()\n        return (\n          label.includes(lowerSearch[0]) ||\n          keywords.includes(lowerSearch[0]) ||\n          cmd.label.toLowerCase().startsWith(lowerSearch[0])\n        )\n      })\n      .slice(0, 3)\n  }, [search, allCommands])\n\n  const handleSelect = (command: Command) => {\n    if (command.disabled) return\n    // Track command execution\n    trackCommand(command.id)\n    command.action()\n    setIsOpen(false)\n    setSearch(\"\")\n  }\n\n  // Handle right-click or long-press to favorite (for future enhancement)\n  const handleFavoriteToggle = (\n    e: React.MouseEvent,\n    command: Command\n  ) => {\n    e.preventDefault()\n    e.stopPropagation()\n    toggleFavorite(command.id)\n  }\n\n  // Reset search when dialog closes\n  const handleOpenChange = (open: boolean) => {\n    setIsOpen(open)\n    if (!open) {\n      setSearch(\"\")\n    }\n  }\n\n  return (\n    <CommandDialog open={isOpen} onOpenChange={handleOpenChange} filter={commandFilter}>\n      <CommandInput\n        placeholder=\"Type a command or search...\"\n        value={search}\n        onValueChange={setSearch}\n      />\n      <CommandList>\n        <CommandEmpty>\n          <div className=\"flex flex-col items-center gap-3 py-6\">\n            <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-muted\">\n              <Search className=\"h-6 w-6 text-muted-foreground\" />\n            </div>\n            <div className=\"flex flex-col items-center gap-1\">\n              <p className=\"text-sm font-medium text-foreground\">\n                No results found\n                {search && (\n                  <span className=\"text-muted-foreground\"> for \"{search}\"</span>\n                )}\n              </p>\n              {search && suggestedCommands.length > 0 && (\n                <div className=\"mt-3 flex flex-col gap-1\">\n                  <p className=\"text-xs text-muted-foreground\">\n                    Did you mean:\n                  </p>\n                  <div className=\"flex flex-wrap gap-1.5 justify-center\">\n                    {suggestedCommands.map((cmd) => {\n                      const Icon = cmd.icon\n                      return (\n                        <button\n                          key={cmd.id}\n                          onClick={() => handleSelect(cmd)}\n                          className=\"inline-flex items-center gap-1.5 rounded-md border border-border bg-background px-2.5 py-1 text-xs font-medium text-foreground hover:bg-accent transition-colors\"\n                        >\n                          <Icon className=\"h-3 w-3\" />\n                          {cmd.label}\n                        </button>\n                      )\n                    })}\n                  </div>\n                </div>\n              )}\n              {!search && (\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  Try searching for actions, navigation, or use shortcuts\n                </p>\n              )}\n            </div>\n          </div>\n        </CommandEmpty>\n        {commands.map(({ group, commands: groupCommands }) => (\n          <CommandGroup key={group} heading={groupLabels[group] || group}>\n            {groupCommands.map((command: Command) => {\n              const Icon = command.icon\n              const statusColors: Record<string, string> = {\n                draft: \"bg-muted text-muted-foreground\",\n                pending: \"bg-yellow-500/10 text-yellow-600 dark:text-yellow-500\",\n                sent: \"bg-blue-500/10 text-blue-600 dark:text-blue-500\",\n                accepted: \"bg-green-500/10 text-green-600 dark:text-green-500\",\n                rejected: \"bg-red-500/10 text-red-600 dark:text-red-500\",\n              }\n              const favorite = isFavorite(command.id)\n              const displayShortcut = command.customShortcut || command.shortcut\n              const isActiveTheme = command.meta === \"Active\"\n              return (\n                <CommandItem\n                  key={command.id}\n                  value={`${command.id} ${command.label} ${command.keywords.join(\" \")} ${displayShortcut || \"\"} ${command.meta || \"\"}`}\n                  onSelect={() => handleSelect(command)}\n                  disabled={command.disabled}\n                  className={\n                    command.disabled\n                      ? \"group/item opacity-50 cursor-not-allowed\"\n                      : \"group/item\"\n                  }\n                >\n                  <Icon className=\"h-4 w-4\" />\n                  <div className=\"flex flex-1 items-center gap-2\">\n                    <span>{command.label}</span>\n                    {command.meta && !isActiveTheme && (\n                      <span className=\"text-xs text-muted-foreground\">\n                        {command.meta}\n                      </span>\n                    )}\n                    {isActiveTheme && (\n                      <Badge\n                        variant=\"outline\"\n                        className=\"h-5 text-xs bg-primary/10 text-primary border-primary/20\"\n                      >\n                        Active\n                      </Badge>\n                    )}\n                    {command.status && (\n                      <Badge\n                        variant=\"outline\"\n                        className={`h-5 text-xs ${statusColors[command.status] || \"\"}`}\n                      >\n                        {command.status}\n                      </Badge>\n                    )}\n                    {command.usageCount !== undefined && command.usageCount > 0 && (\n                      <span className=\"text-xs text-muted-foreground\">\n                        ({command.usageCount}x)\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {favorite && (\n                      <Star className=\"h-3.5 w-3.5 fill-yellow-500 text-yellow-500\" />\n                    )}\n                    {displayShortcut && (\n                      <CommandShortcut>{displayShortcut}</CommandShortcut>\n                    )}\n                  </div>\n                </CommandItem>\n              )\n            })}\n          </CommandGroup>\n        ))}\n      </CommandList>\n    </CommandDialog>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}