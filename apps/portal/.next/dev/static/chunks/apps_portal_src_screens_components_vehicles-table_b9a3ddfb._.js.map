{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/columns.ts"],"sourcesContent":["import { ColumnDef } from \"./types\"\n\nexport const VEHICLE_FIELDS: ColumnDef[] = [\n  {\n    id: 'vin',\n    label: 'VIN',\n    type: 'text',\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'year',\n    label: 'Year',\n    type: 'number',\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'make',\n    label: 'Make',\n    type: 'text',\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'model',\n    label: 'Model',\n    type: 'text',\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'trim',\n    label: 'Trim',\n    type: 'dropdown',\n    options: [\n      'Base',\n      'LX',\n      'EX',\n      'EX-L',\n      'Touring',\n      'Sport',\n      'Limited',\n      'Premium',\n      'Other',\n    ],\n    editable: true,\n  },\n  {\n    id: 'primaryUse',\n    label: 'Primary Use',\n    type: 'dropdown',\n    options: [\n      'Commute',\n      'Business',\n      'Pleasure',\n      'Farm',\n      'Other',\n    ],\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'annualMileage',\n    label: 'Annual Mileage',\n    type: 'number-with-unit',\n    unit: 'mi',\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'ownershipType',\n    label: 'Owned, Leased or Financed',\n    type: 'radio',\n    radioOptions: [\n      { value: 'Own', label: 'Own' },\n      { value: 'Lease', label: 'Lease' },\n      { value: 'Finance', label: 'Finance' },\n    ],\n    editable: true,\n  },\n  {\n    id: 'ownershipLength',\n    label: 'Ownership Length',\n    type: 'dropdown',\n    options: [\n      '< 1 year',\n      '+1 year',\n      '+2 years',\n      '+3 years',\n      '+4 years',\n      '+5 years',\n      '+6 years',\n      '+7 years',\n      '+8 years',\n      '+9 years',\n      '+10 years',\n      '+10+ years',\n    ],\n    required: true,\n    editable: true,\n  },\n  {\n    id: 'garagingZipSame',\n    label: 'Is the garaging ZIP the same as the primary address?',\n    type: 'radio',\n    radioOptions: [\n      { value: 'Yes', label: 'Yes' },\n      { value: 'No', label: 'No' },\n    ],\n    editable: true,\n  },\n]\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,iBAA8B;IACzC;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;YACP;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;YACP;YACA;YACA;YACA;YACA;SACD;QACD,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,cAAc;YACZ;gBAAE,OAAO;gBAAO,OAAO;YAAM;YAC7B;gBAAE,OAAO;gBAAS,OAAO;YAAQ;YACjC;gBAAE,OAAO;gBAAW,OAAO;YAAU;SACtC;QACD,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;YACP;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,cAAc;YACZ;gBAAE,OAAO;gBAAO,OAAO;YAAM;YAC7B;gBAAE,OAAO;gBAAM,OAAO;YAAK;SAC5B;QACD,UAAU;IACZ;CACD"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/utils/placeholders.ts"],"sourcesContent":["import { ColumnDef } from '../types'\n\n/**\n * Get contextual placeholder text for a field in display mode\n */\nexport function getDisplayPlaceholder(field: ColumnDef, isRequired: boolean = false): string {\n  // Check if field has explicit placeholder\n  if (field.placeholder) {\n    return field.placeholder\n  }\n  \n  // Generate based on field type and ID\n  return generatePlaceholder(field, 'display')\n}\n\n/**\n * Get contextual placeholder text for a field in edit mode\n */\nexport function getEditPlaceholder(field: ColumnDef): string {\n  // Check if field has explicit placeholder\n  if (field.placeholder) {\n    return field.placeholder\n  }\n  \n  // Generate based on field type and ID\n  return generatePlaceholder(field, 'edit')\n}\n\n/**\n * Generate placeholder based on field properties\n */\nfunction generatePlaceholder(field: ColumnDef, mode: 'display' | 'edit'): string {\n  // Field-ID specific placeholders\n  const fieldSpecificPlaceholders: Record<string, string> = {\n    // Vehicles - Text fields\n    vin: mode === 'edit' ? '1HGCM82633A123456' : 'Enter VIN (17 characters)',\n    make: mode === 'edit' ? 'e.g., Honda, Toyota' : 'Enter make',\n    model: mode === 'edit' ? 'e.g., Accord, Camry' : 'Enter model',\n    year: mode === 'edit' ? 'YYYY' : 'Enter year',\n    \n    // Vehicles - Number fields\n    annualMileage: mode === 'edit' ? 'e.g., 12000' : 'Enter annual mileage',\n    \n    // Vehicles - Dropdown fields\n    trim: 'Select trim level',\n    primaryUse: 'Select primary use',\n    ownershipLength: 'Select ownership length',\n    \n    // Vehicles - Radio fields (no placeholder needed)\n    ownershipType: '',\n    garagingZipSame: '',\n  }\n  \n  if (fieldSpecificPlaceholders[field.id]) {\n    return fieldSpecificPlaceholders[field.id]\n  }\n  \n  // Type-based placeholders (fallback)\n  switch (field.type) {\n    case 'dropdown':\n      return `Select ${field.label.toLowerCase()}`\n    case 'date':\n      return mode === 'display' ? 'Select date' : 'MM/DD/YYYY'\n    case 'number':\n    case 'number-with-unit':\n      return `Enter ${field.label.toLowerCase()}`\n    case 'text':\n      return `Enter ${field.label.toLowerCase()}`\n    case 'radio':\n    case 'boolean':\n      return '' // No placeholder for radio/boolean\n    default:\n      return `Enter ${field.label.toLowerCase()}`\n  }\n}\n"],"names":[],"mappings":";;;;;;AAKO,SAAS,sBAAsB,KAAgB,EAAE,aAAsB,KAAK;IACjF,0CAA0C;IAC1C,IAAI,MAAM,WAAW,EAAE;QACrB,OAAO,MAAM,WAAW;IAC1B;IAEA,sCAAsC;IACtC,OAAO,oBAAoB,OAAO;AACpC;AAKO,SAAS,mBAAmB,KAAgB;IACjD,0CAA0C;IAC1C,IAAI,MAAM,WAAW,EAAE;QACrB,OAAO,MAAM,WAAW;IAC1B;IAEA,sCAAsC;IACtC,OAAO,oBAAoB,OAAO;AACpC;AAEA;;CAEC,GACD,SAAS,oBAAoB,KAAgB,EAAE,IAAwB;IACrE,iCAAiC;IACjC,MAAM,4BAAoD;QACxD,yBAAyB;QACzB,KAAK,SAAS,SAAS,sBAAsB;QAC7C,MAAM,SAAS,SAAS,wBAAwB;QAChD,OAAO,SAAS,SAAS,wBAAwB;QACjD,MAAM,SAAS,SAAS,SAAS;QAEjC,2BAA2B;QAC3B,eAAe,SAAS,SAAS,gBAAgB;QAEjD,6BAA6B;QAC7B,MAAM;QACN,YAAY;QACZ,iBAAiB;QAEjB,kDAAkD;QAClD,eAAe;QACf,iBAAiB;IACnB;IAEA,IAAI,yBAAyB,CAAC,MAAM,EAAE,CAAC,EAAE;QACvC,OAAO,yBAAyB,CAAC,MAAM,EAAE,CAAC;IAC5C;IAEA,qCAAqC;IACrC,OAAQ,MAAM,IAAI;QAChB,KAAK;YACH,OAAO,CAAC,OAAO,EAAE,MAAM,KAAK,CAAC,WAAW,IAAI;QAC9C,KAAK;YACH,OAAO,SAAS,YAAY,gBAAgB;QAC9C,KAAK;QACL,KAAK;YACH,OAAO,CAAC,MAAM,EAAE,MAAM,KAAK,CAAC,WAAW,IAAI;QAC7C,KAAK;YACH,OAAO,CAAC,MAAM,EAAE,MAAM,KAAK,CAAC,WAAW,IAAI;QAC7C,KAAK;QACL,KAAK;YACH,OAAO,GAAG,mCAAmC;;QAC/C;YACE,OAAO,CAAC,MAAM,EAAE,MAAM,KAAK,CAAC,WAAW,IAAI;IAC/C;AACF"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/editable-table-cell.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Input } from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport { RadioGroup, RadioGroupItem } from \"@novo/ui\"\nimport { Label } from \"@novo/ui\"\nimport { ColumnDef } from \"./types\"\nimport { getDisplayPlaceholder, getEditPlaceholder } from \"./utils/placeholders\"\n\ninterface EditableTableCellProps {\n  value: any\n  field: ColumnDef\n  isEditing: boolean\n  onFocus: () => void\n  onEdit: () => void\n  onBlur: (moveNext?: boolean, undo?: boolean) => void\n  onChange: (value: any) => void\n  onDoubleClick?: () => void\n  error?: string\n  isMissing?: boolean\n}\n\nexport const EditableTableCell = React.memo(function EditableTableCell({\n  value,\n  field,\n  isEditing,\n  onFocus,\n  onEdit,\n  onBlur,\n  onChange,\n  onDoubleClick,\n  error,\n  isMissing = false,\n}: EditableTableCellProps) {\n  const inputRef = React.useRef<HTMLInputElement>(null)\n  const selectTriggerRef = React.useRef<HTMLButtonElement>(null)\n\n  // Auto-focus input when editing starts\n  React.useEffect(() => {\n    if (isEditing && inputRef.current) {\n      if (field.type === 'text' || field.type === 'date' || field.type === 'number' || field.type === 'number-with-unit') {\n        inputRef.current.focus()\n        inputRef.current.select()\n      }\n    }\n  }, [isEditing, field.type])\n\n  // Auto-open dropdown when entering edit mode via Enter key\n  React.useEffect(() => {\n    if (isEditing && field.type === 'dropdown' && selectTriggerRef.current) {\n      // Small delay to ensure the select is rendered\n      setTimeout(() => {\n        selectTriggerRef.current?.click()\n      }, 50)\n    }\n  }, [isEditing, field.type])\n\n  const formatDisplayValue = () => {\n    if (value === null || value === undefined || value === '') return null\n    \n    if (field.type === 'number-with-unit') {\n      const numValue = Number(value)\n      if (isNaN(numValue)) return value\n      return `${numValue.toLocaleString()} ${field.unit || ''}`\n    }\n    \n    if (field.type === 'boolean') {\n      return value ? 'Yes' : 'No'\n    }\n    \n    if (field.type === 'date') {\n      // Handle both Date objects and date strings\n      let date: Date\n      if (value instanceof Date) {\n        date = value\n      } else if (typeof value === 'string') {\n        date = new Date(value)\n      } else {\n        return String(value)\n      }\n      \n      if (!isNaN(date.getTime())) {\n        const month = String(date.getMonth() + 1).padStart(2, '0')\n        const day = String(date.getDate()).padStart(2, '0')\n        const year = date.getFullYear()\n        return `${month}/${day}/${year}`\n      }\n      return String(value)\n    }\n    \n    return String(value)\n  }\n\n  const formatDateForInput = (dateValue: string): string => {\n    if (!dateValue) return ''\n    const date = new Date(dateValue)\n    if (isNaN(date.getTime())) return dateValue\n    const year = date.getFullYear()\n    const month = String(date.getMonth() + 1).padStart(2, '0')\n    const day = String(date.getDate()).padStart(2, '0')\n    return `${year}-${month}-${day}`\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      onBlur(true, false) // Apply changes and move to next cell\n    } else if (e.key === 'Escape') {\n      e.preventDefault()\n      onBlur(false, true) // Undo changes and cancel editing\n    } else if (e.key === 'Tab') {\n      e.preventDefault()\n      e.stopPropagation()\n      onBlur(!e.shiftKey, false) // Apply changes and move to next/previous cell\n    }\n  }\n\n  // Wrapper to convert React's FocusEvent to our onBlur signature\n  const handleBlur = () => {\n    onBlur(false, false) // Apply changes, don't move to next cell\n  }\n\n  const handleKeyDownDisplay = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      onEdit()\n      return\n    }\n    // Tab navigation - prevent default and stop propagation\n    // Global handler will handle navigation\n    if (e.key === 'Tab') {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n  }\n\n  // Render based on field type\n  if (!isEditing) {\n    // Display mode - click/double-click enters edit mode, Enter key also enters edit mode\n    const displayValue = formatDisplayValue()\n    const isEmpty = !displayValue || displayValue === ''\n    const placeholder = isEmpty ? getDisplayPlaceholder(field, field.required) : null\n    \n    return (\n      <div\n        className={`h-full px-4 flex items-center cursor-text hover:bg-muted transition-colors ${\n          error ? 'bg-red-50 dark:bg-red-950/30' : ''\n        } ${isMissing && !error ? 'bg-amber-50 dark:bg-amber-950/30' : ''}`}\n        onDoubleClick={onDoubleClick}\n        onClick={onEdit}\n        onFocus={(e) => {\n          // Handle focus from keyboard navigation - just focus, don't edit\n          e.currentTarget.focus()\n          onFocus()\n        }}\n        onKeyDown={handleKeyDownDisplay}\n        tabIndex={0}\n        role=\"gridcell\"\n        aria-label={`${field.label}, ${error ? `Error: ${error}` : isMissing ? 'Required field is empty' : ''} ${displayValue || placeholder || 'empty'}`}\n        aria-invalid={error ? 'true' : 'false'}\n        aria-required={field.required ? 'true' : 'false'}\n        style={{ fontFamily: \"Inter, sans-serif\" }}\n      >\n        <div className=\"flex items-center gap-2 w-full\">\n          <span className={`text-sm font-normal w-full ${\n            error ? 'text-red-700 dark:text-red-400' : \n            isMissing && !error && isEmpty ? 'text-amber-600 dark:text-amber-400 italic' :\n            isEmpty && field.required ? 'text-amber-600 dark:text-amber-400 italic' :\n            isEmpty ? 'text-muted-foreground italic' :\n            isMissing && !error ? 'text-amber-900 dark:text-amber-300' : \n            'text-foreground'\n          }`}>\n            {displayValue || (placeholder ? placeholder : <span className=\"text-muted-foreground\">—</span>)}\n          </span>\n          {error && (\n            <span className=\"text-xs text-red-600 shrink-0\" title={error}>\n              ⚠\n            </span>\n          )}\n          {isMissing && !error && (\n            <span className=\"text-xs text-amber-600 shrink-0\" title=\"Required field is empty\">\n              ○\n            </span>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  // Editing mode\n  if (field.type === 'text' || field.type === 'number') {\n    const inputType = field.type === 'number' ? 'number' : 'text'\n    const placeholder = getEditPlaceholder(field)\n    return (\n      <div className=\"h-full px-4 flex items-center\">\n        <Input\n          ref={inputRef}\n          type={inputType}\n          value={value || ''}\n          placeholder={placeholder || undefined}\n          onChange={(e) => onChange(e.target.value)}\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n          className={`h-8 text-sm border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 px-0 ${\n            error ? 'text-red-700' : ''\n          }`}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-describedby={error ? `${field.id}-error` : undefined}\n          style={{ fontFamily: \"Inter, sans-serif\" }}\n        />\n        {error && (\n          <span id={`${field.id}-error`} className=\"sr-only\">\n            {error}\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  if (field.type === 'number-with-unit') {\n    const placeholder = getEditPlaceholder(field)\n    return (\n      <div className=\"h-full px-4 flex items-center gap-2\">\n        <Input\n          ref={inputRef}\n          type=\"number\"\n          value={value || ''}\n          placeholder={placeholder || undefined}\n          onChange={(e) => onChange(e.target.value)}\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n          className={`h-8 text-sm border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 px-0 flex-1 ${\n            error ? 'text-red-700' : ''\n          }`}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-describedby={error ? `${field.id}-error` : undefined}\n          style={{ fontFamily: \"Inter, sans-serif\" }}\n        />\n        <span className=\"text-sm text-muted-foreground shrink-0\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n          {field.unit || ''}\n        </span>\n        {error && (\n          <span id={`${field.id}-error`} className=\"sr-only\">\n            {error}\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  if (field.type === 'date') {\n    const dateValue = formatDateForInput(value || '')\n    const placeholder = getEditPlaceholder(field)\n    return (\n      <div className=\"h-full px-4 flex items-center\">\n        <Input\n          ref={inputRef}\n          type=\"date\"\n          value={dateValue}\n          placeholder={placeholder || undefined}\n          onChange={(e) => onChange(e.target.value)}\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n          className={`h-8 text-sm border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 px-0 ${\n            error ? 'text-red-700' : ''\n          }`}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-describedby={error ? `${field.id}-error` : undefined}\n          style={{ fontFamily: \"Inter, sans-serif\" }}\n        />\n        {error && (\n          <span id={`${field.id}-error`} className=\"sr-only\">\n            {error}\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  if (field.type === 'dropdown' && field.options) {\n    const placeholder = getEditPlaceholder(field)\n    return (\n      <div className=\"h-full px-4 flex items-center\">\n        <Select\n          value={value || ''}\n          onValueChange={(newValue) => {\n            onChange(newValue)\n            onBlur(false, false) // Apply changes, don't move to next\n          }}\n        >\n          <SelectTrigger\n            ref={selectTriggerRef}\n            className=\"h-8 text-sm border-0 bg-transparent focus:ring-0 focus:ring-offset-0 px-0 shadow-none\"\n            onKeyDown={handleKeyDown}\n            style={{ fontFamily: \"Inter, sans-serif\" }}\n          >\n            <SelectValue placeholder={placeholder || \"Select...\"} />\n          </SelectTrigger>\n          <SelectContent>\n            {field.options.map((option) => (\n              <SelectItem key={option} value={option}>\n                {option}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        {error && (\n          <span id={`${field.id}-error`} className=\"sr-only\">\n            {error}\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  if (field.type === 'radio' && field.radioOptions) {\n    return (\n      <div className=\"h-full px-4 flex items-center\">\n        <RadioGroup\n          value={value || ''}\n          onValueChange={(newValue) => {\n            onChange(newValue)\n            // Auto-blur after selection for better UX\n            setTimeout(() => onBlur(true, false), 100) // Apply changes and move to next\n          }}\n          className=\"flex flex-row gap-4\"\n        >\n          {field.radioOptions.map((option) => (\n            <div key={option.value} className=\"flex items-center gap-2\">\n              <RadioGroupItem\n                value={option.value}\n                id={`${field.id}-${option.value}`}\n                className=\"h-4 w-4\"\n              />\n              <Label\n                htmlFor={`${field.id}-${option.value}`}\n                className=\"text-sm font-normal text-foreground cursor-pointer\"\n                style={{ fontFamily: \"Inter, sans-serif\" }}\n              >\n                {option.label}\n              </Label>\n            </div>\n          ))}\n        </RadioGroup>\n        {error && (\n          <span id={`${field.id}-error`} className=\"sr-only\">\n            {error}\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  if (field.type === 'boolean') {\n    return (\n      <div className=\"h-full px-4 flex items-center\">\n        <RadioGroup\n          value={value ? 'yes' : 'no'}\n          onValueChange={(newValue) => {\n            onChange(newValue === 'yes')\n            setTimeout(() => onBlur(true, false), 100) // Apply changes and move to next\n          }}\n          className=\"flex flex-row gap-4\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <RadioGroupItem value=\"yes\" id={`${field.id}-yes`} className=\"h-4 w-4\" />\n            <Label\n              htmlFor={`${field.id}-yes`}\n              className=\"text-sm font-normal text-foreground cursor-pointer\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Yes\n            </Label>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <RadioGroupItem value=\"no\" id={`${field.id}-no`} className=\"h-4 w-4\" />\n            <Label\n              htmlFor={`${field.id}-no`}\n              className=\"text-sm font-normal text-foreground cursor-pointer\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              No\n            </Label>\n          </div>\n        </RadioGroup>\n        {error && (\n          <span id={`${field.id}-error`} className=\"sr-only\">\n            {error}\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  return null\n})\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/use-keyboard-navigation.ts"],"sourcesContent":["import { useState, useCallback, useEffect, useRef } from \"react\"\n\nexport type ActiveCell = {\n  vehicleIndex: number\n  fieldIndex: number\n} | null\n\ninterface UseKeyboardNavigationProps {\n  vehicleCount: number\n  fieldCount: number\n  onCellChange?: (vehicleIndex: number, fieldIndex: number, value: any) => void\n  onAddVehicle?: () => void\n}\n\nexport function useKeyboardNavigation({\n  vehicleCount,\n  fieldCount,\n  onCellChange,\n  onAddVehicle,\n}: UseKeyboardNavigationProps) {\n  const [activeCell, setActiveCell] = useState<ActiveCell>(null)\n  const [editingCell, setEditingCell] = useState<ActiveCell>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  // Move to a specific cell (navigation only - does NOT enter edit mode)\n  const moveToCell = useCallback(\n    (vehicleIndex: number, fieldIndex: number) => {\n      // Clamp indices to valid ranges\n      const clampedVehicleIndex = Math.max(0, Math.min(vehicleIndex, vehicleCount - 1))\n      const clampedFieldIndex = Math.max(0, Math.min(fieldIndex, fieldCount - 1))\n\n      const newCell: ActiveCell = {\n        vehicleIndex: clampedVehicleIndex,\n        fieldIndex: clampedFieldIndex,\n      }\n\n      setActiveCell(newCell)\n      // Don't automatically enter edit mode - just move focus\n      // Edit mode is only entered via Enter key or click\n\n      // Scroll cell into view and focus it (with a small delay to ensure DOM is updated)\n      setTimeout(() => {\n        const cellElement = containerRef.current?.querySelector(\n          `[data-cell-id=\"vehicle-${clampedVehicleIndex}-field-${clampedFieldIndex}\"]`\n        ) as HTMLElement\n\n        if (cellElement) {\n          // Focus the cell div so it can receive keyboard events\n          // Look for the inner div with tabindex\n          const focusableElement = cellElement.querySelector('div[tabindex]') as HTMLElement\n          if (focusableElement) {\n            // Use setTimeout to ensure DOM is ready and prevent focus conflicts\n            setTimeout(() => {\n              focusableElement.focus()\n            }, 10)\n          }\n        }\n      }, 10)\n    },\n    [vehicleCount, fieldCount]\n  )\n\n  // Navigation functions\n  const moveNext = useCallback(() => {\n    if (!activeCell) {\n      // If no active cell, start at first cell\n      if (vehicleCount > 0 && fieldCount > 0) {\n        moveToCell(0, 0)\n      }\n      return\n    }\n\n    const { vehicleIndex, fieldIndex } = activeCell\n    // Move down (next field), then right (next vehicle)\n    if (fieldIndex < fieldCount - 1) {\n      moveToCell(vehicleIndex, fieldIndex + 1)\n    } else if (vehicleIndex < vehicleCount - 1) {\n      moveToCell(vehicleIndex + 1, 0)\n    }\n  }, [activeCell, vehicleCount, fieldCount, moveToCell])\n\n  const movePrevious = useCallback(() => {\n    if (!activeCell) {\n      // If no active cell, start at last cell\n      if (vehicleCount > 0 && fieldCount > 0) {\n        moveToCell(vehicleCount - 1, fieldCount - 1)\n      }\n      return\n    }\n\n    const { vehicleIndex, fieldIndex } = activeCell\n    // Move up (previous field), then left (previous vehicle)\n    if (fieldIndex > 0) {\n      moveToCell(vehicleIndex, fieldIndex - 1)\n    } else if (vehicleIndex > 0) {\n      moveToCell(vehicleIndex - 1, fieldCount - 1)\n    }\n  }, [activeCell, vehicleCount, fieldCount, moveToCell])\n\n  const moveUp = useCallback(() => {\n    if (!activeCell) return\n    const { vehicleIndex, fieldIndex } = activeCell\n    if (fieldIndex > 0) {\n      moveToCell(vehicleIndex, fieldIndex - 1)\n    }\n  }, [activeCell, fieldCount, moveToCell])\n\n  const moveDown = useCallback(() => {\n    if (!activeCell) return\n    const { vehicleIndex, fieldIndex } = activeCell\n    if (fieldIndex < fieldCount - 1) {\n      moveToCell(vehicleIndex, fieldIndex + 1)\n    }\n  }, [activeCell, fieldCount, moveToCell])\n\n  const moveLeft = useCallback(() => {\n    if (!activeCell) return\n    const { vehicleIndex, fieldIndex } = activeCell\n    if (vehicleIndex > 0) {\n      moveToCell(vehicleIndex - 1, fieldIndex)\n    }\n  }, [activeCell, vehicleCount, moveToCell])\n\n  const moveRight = useCallback(() => {\n    if (!activeCell) return\n    const { vehicleIndex, fieldIndex } = activeCell\n    if (vehicleIndex < vehicleCount - 1) {\n      moveToCell(vehicleIndex + 1, fieldIndex)\n    }\n  }, [activeCell, vehicleCount, moveToCell])\n\n  // Start editing current cell\n  const startEditing = useCallback(() => {\n    if (activeCell) {\n      setEditingCell(activeCell)\n    }\n  }, [activeCell])\n\n  // Stop editing\n  const stopEditing = useCallback(() => {\n    setEditingCell(null)\n  }, [])\n\n  // Handle keyboard events\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      // Don't handle keys if user is typing in an input\n      const target = e.target as HTMLElement\n      const isInput = target.tagName === \"INPUT\" || target.tagName === \"TEXTAREA\" || target.isContentEditable\n      const isSelect = target.closest('[data-slot=\"select\"]') !== null\n      \n      // Handle Tab key for navigation (both in inputs and display mode)\n      if (e.key === \"Tab\") {\n        e.preventDefault()\n        e.stopPropagation()\n        \n        if (isInput || isSelect) {\n          // If in an input/select, stop editing first, then navigate\n          if (editingCell) {\n            stopEditing()\n          }\n          // Small delay to let blur/stopEditing complete, then navigate\n          setTimeout(() => {\n            if (e.shiftKey) {\n              movePrevious()\n            } else {\n              moveNext()\n            }\n          }, 50)\n        } else {\n          // In display mode, navigate immediately\n          // Blur any currently focused element first to prevent conflicts\n          if (document.activeElement && document.activeElement instanceof HTMLElement) {\n            document.activeElement.blur()\n          }\n          // Small delay to ensure blur completes\n          setTimeout(() => {\n            if (e.shiftKey) {\n              movePrevious()\n            } else {\n              moveNext()\n            }\n          }, 10)\n        }\n        return\n      }\n      \n      if (isInput || isSelect) {\n        // For other keys in inputs/selects, let them work normally\n        return\n      }\n\n      switch (e.key) {\n\n        case \"ArrowUp\":\n          e.preventDefault()\n          moveUp()\n          break\n\n        case \"ArrowDown\":\n          e.preventDefault()\n          moveDown()\n          break\n\n        case \"ArrowLeft\":\n          e.preventDefault()\n          moveLeft()\n          break\n\n        case \"ArrowRight\":\n          e.preventDefault()\n          moveRight()\n          break\n\n        case \"Enter\":\n          if (!editingCell) {\n            e.preventDefault()\n            // Enter key is the only way to enter edit mode via keyboard\n            startEditing()\n          }\n          // If already editing, let the input handle it (it will call onBlur which stops editing)\n          break\n\n        case \"Escape\":\n          if (editingCell) {\n            e.preventDefault()\n            stopEditing()\n          }\n          break\n      }\n\n      // Handle Ctrl/Cmd + N to add new vehicle (only when not in input/select)\n      if ((e.ctrlKey || e.metaKey) && e.key === \"n\" && !isInput && !isSelect) {\n        e.preventDefault()\n        if (onAddVehicle) {\n          onAddVehicle()\n        }\n        return\n      }\n    },\n    [editingCell, moveNext, movePrevious, moveUp, moveDown, moveLeft, moveRight, startEditing, stopEditing, onAddVehicle]\n  )\n\n  // Set up keyboard listeners\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown)\n    }\n  }, [handleKeyDown])\n\n  return {\n    activeCell,\n    editingCell,\n    moveToCell,\n    startEditing,\n    stopEditing,\n    containerRef,\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1074, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/keyboard-shortcuts.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Kbd } from \"@novo/ui\"\n\nexport function KeyboardShortcuts() {\n  return (\n    <div className=\"mt-4 p-3 bg-muted rounded-md border border-border\">\n      <p\n        className=\"text-xs font-medium text-muted-foreground mb-2\"\n        style={{ fontFamily: \"Inter, sans-serif\" }}\n      >\n        Keyboard Shortcuts\n      </p>\n      <div className=\"space-y-1.5\">\n        <div className=\"flex items-center justify-between text-xs\">\n          <span className=\"text-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Navigate cells\n          </span>\n          <div className=\"flex items-center gap-1\">\n            <Kbd>Tab</Kbd>\n            <span className=\"text-muted-foreground\">/</span>\n            <Kbd>↑</Kbd>\n            <Kbd>↓</Kbd>\n            <Kbd>←</Kbd>\n            <Kbd>→</Kbd>\n          </div>\n        </div>\n        <div className=\"flex items-center justify-between text-xs\">\n          <span className=\"text-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Edit cell\n          </span>\n          <Kbd>Enter</Kbd>\n        </div>\n        <div className=\"flex items-center justify-between text-xs\">\n          <span className=\"text-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Cancel editing\n          </span>\n          <Kbd>Esc</Kbd>\n        </div>\n        <div className=\"flex items-center justify-between text-xs\">\n          <span className=\"text-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Add new vehicle\n          </span>\n          <div className=\"flex items-center gap-1\">\n            <Kbd>Ctrl</Kbd>\n            <span className=\"text-muted-foreground\">/</span>\n            <Kbd>⌘</Kbd>\n            <span className=\"text-muted-foreground\">+</span>\n            <Kbd>N</Kbd>\n          </div>\n        </div>\n        <div className=\"flex items-center justify-between text-xs\">\n          <span className=\"text-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            Toggle missing fields\n          </span>\n          <div className=\"flex items-center gap-1\">\n            <Kbd>Ctrl</Kbd>\n            <span className=\"text-muted-foreground\">/</span>\n            <Kbd>⌘</Kbd>\n            <span className=\"text-muted-foreground\">+</span>\n            <Kbd>M</Kbd>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAKO,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,YAAY;gBAAoB;0BAC1C;;;;;;0BAGD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;gCAAkB,OAAO;oCAAE,YAAY;gCAAoB;0CAAG;;;;;;0CAG9E,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC,qJAAG;kDAAC;;;;;;;;;;;;;;;;;;kCAGT,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;gCAAkB,OAAO;oCAAE,YAAY;gCAAoB;0CAAG;;;;;;0CAG9E,6LAAC,qJAAG;0CAAC;;;;;;;;;;;;kCAEP,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;gCAAkB,OAAO;oCAAE,YAAY;gCAAoB;0CAAG;;;;;;0CAG9E,6LAAC,qJAAG;0CAAC;;;;;;;;;;;;kCAEP,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;gCAAkB,OAAO;oCAAE,YAAY;gCAAoB;0CAAG;;;;;;0CAG9E,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,6LAAC,qJAAG;kDAAC;;;;;;;;;;;;;;;;;;kCAGT,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;gCAAkB,OAAO;oCAAE,YAAY;gCAAoB;0CAAG;;;;;;0CAG9E,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,6LAAC,qJAAG;kDAAC;;;;;;kDACL,6LAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,6LAAC,qJAAG;kDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjB;KA9DgB"}},
    {"offset": {"line": 1383, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/vehicle-suggestions.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@novo/ui\"\nimport { Car } from \"lucide-react\"\nimport { DiscoveredVehicle, Vehicle } from \"./types\"\n\ninterface VehicleSuggestionsProps {\n  discoveredVehicles: DiscoveredVehicle[]\n  existingVehicles: Vehicle[]\n  onAddVehicle: (discoveredVehicle: DiscoveredVehicle) => void\n  isLoading?: boolean\n}\n\nexport function VehicleSuggestions({\n  discoveredVehicles,\n  existingVehicles,\n  onAddVehicle,\n  isLoading = false,\n}: VehicleSuggestionsProps) {\n  // Filter out vehicles that already exist in the table\n  const filteredDiscoveredVehicles = React.useMemo(() => {\n    return discoveredVehicles.filter((discoveredVehicle) => {\n      // Check if a vehicle with the same VIN, or same make/model/year already exists\n      const exists = existingVehicles.some((vehicle) => {\n        // If both have VINs, compare by VIN\n        if (discoveredVehicle.vin && vehicle.vin) {\n          return discoveredVehicle.vin.toLowerCase() === vehicle.vin.toLowerCase()\n        }\n        // Otherwise, compare by make, model, and year\n        const vehicleMake = vehicle.make.toLowerCase().trim()\n        const vehicleModel = vehicle.model.toLowerCase().trim()\n        const vehicleYear = vehicle.year.trim()\n        const discoveredMake = discoveredVehicle.make.toLowerCase().trim()\n        const discoveredModel = discoveredVehicle.model.toLowerCase().trim()\n        const discoveredYear = discoveredVehicle.year.trim()\n        \n        return (\n          vehicleMake === discoveredMake &&\n          vehicleModel === discoveredModel &&\n          vehicleYear === discoveredYear\n        )\n      })\n      return !exists\n    })\n  }, [discoveredVehicles, existingVehicles])\n\n  if (filteredDiscoveredVehicles.length === 0) {\n    return (\n      <div>\n        <h3\n          className=\"text-sm font-medium text-foreground mb-3\"\n          style={{ fontFamily: \"Inter, sans-serif\" }}\n        >\n          Vehicles Found\n        </h3>\n        <p\n          className=\"text-xs text-muted-foreground\"\n          style={{ fontFamily: \"Inter, sans-serif\" }}\n        >\n          No additional vehicles found\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h3\n        className=\"text-sm font-medium text-foreground mb-3\"\n        style={{ fontFamily: \"Inter, sans-serif\" }}\n      >\n        Vehicles Found\n      </h3>\n      <div className=\"space-y-2\">\n        {filteredDiscoveredVehicles.map((discoveredVehicle, index) => (\n          <VehicleSuggestionCard\n            key={`${discoveredVehicle.make}-${discoveredVehicle.model}-${discoveredVehicle.year}-${index}`}\n            discoveredVehicle={discoveredVehicle}\n            onAdd={() => onAddVehicle(discoveredVehicle)}\n            isLoading={isLoading}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\ninterface VehicleSuggestionCardProps {\n  discoveredVehicle: DiscoveredVehicle\n  onAdd: () => void\n  isLoading?: boolean\n}\n\nfunction VehicleSuggestionCard({ discoveredVehicle, onAdd, isLoading = false }: VehicleSuggestionCardProps) {\n  const formatConfidence = (confidence: number): string => {\n    return `${Math.round(confidence * 100)}%`\n  }\n\n  const getVehicleDisplay = (): string => {\n    const parts = [discoveredVehicle.year, discoveredVehicle.make, discoveredVehicle.model].filter(Boolean)\n    return parts.join(' ')\n  }\n\n  return (\n    <div className=\"border border-border bg-card rounded-md p-3 hover:bg-muted transition-colors\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <p\n              className=\"text-sm font-medium text-foreground truncate\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              {getVehicleDisplay()}\n            </p>\n            {discoveredVehicle.confidence && (\n              <span\n                className=\"text-xs text-muted-foreground shrink-0\"\n                style={{ fontFamily: \"Inter, sans-serif\" }}\n              >\n                {formatConfidence(discoveredVehicle.confidence)}\n              </span>\n            )}\n          </div>\n          <div className=\"flex items-center gap-3 flex-wrap\">\n            {discoveredVehicle.vin && (\n              <p\n                className=\"text-xs text-muted-foreground font-mono\"\n                style={{ fontFamily: \"Inter, sans-serif\" }}\n              >\n                {discoveredVehicle.vin}\n              </p>\n            )}\n            {discoveredVehicle.source && (\n              <span\n                className=\"text-xs text-muted-foreground\"\n                style={{ fontFamily: \"Inter, sans-serif\" }}\n              >\n                • {discoveredVehicle.source}\n              </span>\n            )}\n          </div>\n          {/* Badges from discovery */}\n          {(discoveredVehicle.badges?.cleanTitle || discoveredVehicle.badges?.carfaxVerified) && (\n            <div className=\"flex items-center gap-1 mt-2\">\n              {discoveredVehicle.badges.cleanTitle && (\n                <span\n                  className=\"text-xs px-1.5 py-0.5 bg-muted text-muted-foreground rounded\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Clean title\n                </span>\n              )}\n              {discoveredVehicle.badges.carfaxVerified && (\n                <span\n                  className=\"text-xs px-1.5 py-0.5 bg-muted text-muted-foreground rounded\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Carfax ✓\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={onAdd}\n          disabled={isLoading}\n          className=\"h-8 w-8 shrink-0 ml-2\"\n          aria-label={isLoading ? \"Adding vehicle...\" : \"Add vehicle\"}\n        >\n          <Car className={`h-4 w-4 ${isLoading ? 'opacity-50' : ''}`} />\n        </Button>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1664, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/validation.ts"],"sourcesContent":["import { Vehicle, ColumnDef } from \"./types\"\n\nexport interface ValidationError {\n  fieldId: string\n  message: string\n}\n\nexport function validateVehicle(vehicle: Vehicle, fields: ColumnDef[]): ValidationError[] {\n  const errors: ValidationError[] = []\n\n  fields.forEach((field) => {\n    if (field.required) {\n      const value = vehicle[field.id as keyof Vehicle]\n      \n      if (value === null || value === undefined || value === '') {\n        errors.push({\n          fieldId: field.id,\n          message: `${field.label} is required`,\n        })\n      }\n    }\n\n    // VIN validation\n    if (field.id === 'vin' && vehicle.vin) {\n      const vinRegex = /^[A-HJ-NPR-Z0-9]{17}$/i\n      if (!vinRegex.test(vehicle.vin)) {\n        errors.push({\n          fieldId: 'vin',\n          message: 'VIN must be 17 characters (alphanumeric)',\n        })\n      }\n    }\n\n    // Year validation\n    if (field.id === 'year' && vehicle.year) {\n      const year = parseInt(vehicle.year)\n      const currentYear = new Date().getFullYear()\n      const minYear = 1900\n      const maxYear = currentYear + 1 // Allow next year for new vehicles\n      \n      if (isNaN(year) || year < minYear || year > maxYear) {\n        errors.push({\n          fieldId: 'year',\n          message: `Year must be between ${minYear} and ${maxYear}`,\n        })\n      }\n    }\n\n    // Annual Mileage validation\n    if (field.id === 'annualMileage' && vehicle.annualMileage) {\n      const mileage = parseFloat(vehicle.annualMileage)\n      if (isNaN(mileage) || mileage < 0) {\n        errors.push({\n          fieldId: 'annualMileage',\n          message: 'Annual mileage must be a positive number',\n        })\n      }\n    }\n  })\n\n  return errors\n}\n\nexport function validateCellValue(\n  value: any,\n  field: ColumnDef\n): string | null {\n  if (field.required && (value === null || value === undefined || value === '')) {\n    return `${field.label} is required`\n  }\n\n  if (field.id === 'vin' && value) {\n    const vinRegex = /^[A-HJ-NPR-Z0-9]{17}$/i\n    if (!vinRegex.test(value)) {\n      return 'VIN must be 17 characters (alphanumeric)'\n    }\n  }\n\n  if (field.id === 'year' && value) {\n    const year = parseInt(value)\n    const currentYear = new Date().getFullYear()\n    const minYear = 1900\n    const maxYear = currentYear + 1\n    \n    if (isNaN(year) || year < minYear || year > maxYear) {\n      return `Year must be between ${minYear} and ${maxYear}`\n    }\n  }\n\n  if (field.id === 'annualMileage' && value) {\n    const mileage = parseFloat(value)\n    if (isNaN(mileage) || mileage < 0) {\n      return 'Annual mileage must be a positive number'\n    }\n  }\n\n  return null\n}\n\n"],"names":[],"mappings":";;;;;;AAOO,SAAS,gBAAgB,OAAgB,EAAE,MAAmB;IACnE,MAAM,SAA4B,EAAE;IAEpC,OAAO,OAAO,CAAC,CAAC;QACd,IAAI,MAAM,QAAQ,EAAE;YAClB,MAAM,QAAQ,OAAO,CAAC,MAAM,EAAE,CAAkB;YAEhD,IAAI,UAAU,QAAQ,UAAU,aAAa,UAAU,IAAI;gBACzD,OAAO,IAAI,CAAC;oBACV,SAAS,MAAM,EAAE;oBACjB,SAAS,GAAG,MAAM,KAAK,CAAC,YAAY,CAAC;gBACvC;YACF;QACF;QAEA,iBAAiB;QACjB,IAAI,MAAM,EAAE,KAAK,SAAS,QAAQ,GAAG,EAAE;YACrC,MAAM,WAAW;YACjB,IAAI,CAAC,SAAS,IAAI,CAAC,QAAQ,GAAG,GAAG;gBAC/B,OAAO,IAAI,CAAC;oBACV,SAAS;oBACT,SAAS;gBACX;YACF;QACF;QAEA,kBAAkB;QAClB,IAAI,MAAM,EAAE,KAAK,UAAU,QAAQ,IAAI,EAAE;YACvC,MAAM,OAAO,SAAS,QAAQ,IAAI;YAClC,MAAM,cAAc,IAAI,OAAO,WAAW;YAC1C,MAAM,UAAU;YAChB,MAAM,UAAU,cAAc,EAAE,mCAAmC;;YAEnE,IAAI,MAAM,SAAS,OAAO,WAAW,OAAO,SAAS;gBACnD,OAAO,IAAI,CAAC;oBACV,SAAS;oBACT,SAAS,CAAC,qBAAqB,EAAE,QAAQ,KAAK,EAAE,SAAS;gBAC3D;YACF;QACF;QAEA,4BAA4B;QAC5B,IAAI,MAAM,EAAE,KAAK,mBAAmB,QAAQ,aAAa,EAAE;YACzD,MAAM,UAAU,WAAW,QAAQ,aAAa;YAChD,IAAI,MAAM,YAAY,UAAU,GAAG;gBACjC,OAAO,IAAI,CAAC;oBACV,SAAS;oBACT,SAAS;gBACX;YACF;QACF;IACF;IAEA,OAAO;AACT;AAEO,SAAS,kBACd,KAAU,EACV,KAAgB;IAEhB,IAAI,MAAM,QAAQ,IAAI,CAAC,UAAU,QAAQ,UAAU,aAAa,UAAU,EAAE,GAAG;QAC7E,OAAO,GAAG,MAAM,KAAK,CAAC,YAAY,CAAC;IACrC;IAEA,IAAI,MAAM,EAAE,KAAK,SAAS,OAAO;QAC/B,MAAM,WAAW;QACjB,IAAI,CAAC,SAAS,IAAI,CAAC,QAAQ;YACzB,OAAO;QACT;IACF;IAEA,IAAI,MAAM,EAAE,KAAK,UAAU,OAAO;QAChC,MAAM,OAAO,SAAS;QACtB,MAAM,cAAc,IAAI,OAAO,WAAW;QAC1C,MAAM,UAAU;QAChB,MAAM,UAAU,cAAc;QAE9B,IAAI,MAAM,SAAS,OAAO,WAAW,OAAO,SAAS;YACnD,OAAO,CAAC,qBAAqB,EAAE,QAAQ,KAAK,EAAE,SAAS;QACzD;IACF;IAEA,IAAI,MAAM,EAAE,KAAK,mBAAmB,OAAO;QACzC,MAAM,UAAU,WAAW;QAC3B,IAAI,MAAM,YAAY,UAAU,GAAG;YACjC,OAAO;QACT;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 1753, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/utils/missing-data.ts"],"sourcesContent":["import { ColumnDef } from '../types'\nimport { Vehicle } from '../types'\n\nexport interface MissingField {\n  rowIndex: number\n  fieldId: string\n  isRequired: boolean\n}\n\n/**\n * Check if a field value is considered \"missing\"\n */\nexport function isFieldMissing(value: any, field: ColumnDef): boolean {\n  if (!field.required) return false\n  \n  // Check for empty values\n  if (value === null || value === undefined || value === '') {\n    return true\n  }\n  \n  // Check for empty strings after trim\n  if (typeof value === 'string' && value.trim() === '') {\n    return true\n  }\n  \n  // Check for \"Select\" placeholder in dropdowns\n  if (field.type === 'dropdown' && value === 'Select') {\n    return true\n  }\n  \n  return false\n}\n\n/**\n * Get all missing required fields for a vehicle\n */\nexport function getMissingFields(\n  vehicle: Vehicle,\n  fields: ColumnDef[]\n): string[] {\n  return fields\n    .filter(field => isFieldMissing(vehicle[field.id as keyof Vehicle], field))\n    .map(field => field.id)\n}\n\n/**\n * Get all missing fields across all vehicles\n */\nexport function getAllMissingFields(\n  vehicles: Vehicle[],\n  fields: ColumnDef[]\n): MissingField[] {\n  const missing: MissingField[] = []\n  \n  vehicles.forEach((vehicle, rowIndex) => {\n    fields.forEach((field) => {\n      if (isFieldMissing(vehicle[field.id as keyof Vehicle], field)) {\n        missing.push({\n          rowIndex,\n          fieldId: field.id,\n          isRequired: field.required || false,\n        })\n      }\n    })\n  })\n  \n  return missing\n}\n\n/**\n * Calculate if a vehicle row is complete (all required fields filled)\n */\nexport function isRowComplete(vehicle: Vehicle, fields: ColumnDef[]): boolean {\n  return getMissingFields(vehicle, fields).length === 0\n}\n\n/**\n * Calculate the number of missing required fields for a vehicle\n */\nexport function getRowMissingCount(vehicle: Vehicle, fields: ColumnDef[]): number {\n  return getMissingFields(vehicle, fields).length\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAYO,SAAS,eAAe,KAAU,EAAE,KAAgB;IACzD,IAAI,CAAC,MAAM,QAAQ,EAAE,OAAO;IAE5B,yBAAyB;IACzB,IAAI,UAAU,QAAQ,UAAU,aAAa,UAAU,IAAI;QACzD,OAAO;IACT;IAEA,qCAAqC;IACrC,IAAI,OAAO,UAAU,YAAY,MAAM,IAAI,OAAO,IAAI;QACpD,OAAO;IACT;IAEA,8CAA8C;IAC9C,IAAI,MAAM,IAAI,KAAK,cAAc,UAAU,UAAU;QACnD,OAAO;IACT;IAEA,OAAO;AACT;AAKO,SAAS,iBACd,OAAgB,EAChB,MAAmB;IAEnB,OAAO,OACJ,MAAM,CAAC,CAAA,QAAS,eAAe,OAAO,CAAC,MAAM,EAAE,CAAkB,EAAE,QACnE,GAAG,CAAC,CAAA,QAAS,MAAM,EAAE;AAC1B;AAKO,SAAS,oBACd,QAAmB,EACnB,MAAmB;IAEnB,MAAM,UAA0B,EAAE;IAElC,SAAS,OAAO,CAAC,CAAC,SAAS;QACzB,OAAO,OAAO,CAAC,CAAC;YACd,IAAI,eAAe,OAAO,CAAC,MAAM,EAAE,CAAkB,EAAE,QAAQ;gBAC7D,QAAQ,IAAI,CAAC;oBACX;oBACA,SAAS,MAAM,EAAE;oBACjB,YAAY,MAAM,QAAQ,IAAI;gBAChC;YACF;QACF;IACF;IAEA,OAAO;AACT;AAKO,SAAS,cAAc,OAAgB,EAAE,MAAmB;IACjE,OAAO,iBAAiB,SAAS,QAAQ,MAAM,KAAK;AACtD;AAKO,SAAS,mBAAmB,OAAgB,EAAE,MAAmB;IACtE,OAAO,iBAAiB,SAAS,QAAQ,MAAM;AACjD"}},
    {"offset": {"line": 1812, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/vehicles-table/vehicles-table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Badge } from \"@novo/ui\"\nimport { Button } from \"@novo/ui\"\nimport { Card, CardContent } from \"@novo/ui\"\nimport { Switch } from \"@novo/ui\"\nimport { Plus, Car, X, Trash2, Check, AlertCircle, CheckCircle } from \"lucide-react\"\nimport { Vehicle, ColumnDef, DiscoveredVehicle } from \"./types\"\nimport { VEHICLE_FIELDS } from \"./columns\"\nimport { EditableTableCell } from \"./editable-table-cell\"\nimport { useKeyboardNavigation, ActiveCell } from \"./use-keyboard-navigation\"\nimport { KeyboardShortcuts } from \"./keyboard-shortcuts\"\nimport { VehicleSuggestions } from \"./vehicle-suggestions\"\nimport { validateCellValue, ValidationError } from \"./validation\"\nimport { getRowMissingCount, isRowComplete } from \"./utils/missing-data\"\nimport { useQuote } from \"@/app/quote-context\"\nimport { useAutoSave } from \"@/shared/hooks/use-auto-save\"\n\ninterface VehiclesTableProps {\n  vehicles?: Vehicle[]\n  fields?: ColumnDef[]\n}\n\n// Sample static data for Phase 1 - matching wireframe\nconst SAMPLE_VEHICLES: Vehicle[] = [\n  {\n    id: 'vehicle-1',\n    vin: '1HGCM82633A123456',\n    year: '2021',\n    make: 'Honda',\n    model: 'Accord',\n    trim: 'EX-L',\n    primaryUse: 'Commute',\n    annualMileage: '12000',\n    ownershipType: 'Own',\n    ownershipLength: '+5 years',\n    garagingZipSame: 'Yes',\n    badges: {\n      cleanTitle: true,\n      carfaxVerified: true,\n    },\n  },\n  {\n    id: 'vehicle-2',\n    vin: '1HGCM82633A123457',\n    year: '2021',\n    make: 'Honda',\n    model: 'Accord',\n    trim: 'EX-L',\n    primaryUse: 'Commute',\n    annualMileage: '12000',\n    ownershipType: 'Own',\n    ownershipLength: '+5 years',\n    garagingZipSame: 'Yes',\n    badges: {\n      cleanTitle: true,\n      carfaxVerified: true,\n    },\n  },\n]\n\n// Sample discovered vehicles\nconst SAMPLE_DISCOVERED_VEHICLES: DiscoveredVehicle[] = [\n  {\n    make: 'Ford',\n    model: 'Fiesta',\n    year: '2010',\n    confidence: 0.95,\n    source: 'DMV',\n    badges: {\n      cleanTitle: true,\n    },\n  },\n  {\n    make: 'Toyota',\n    model: 'Camry',\n    year: '2018',\n    vin: '4T1B11HK5JU123456',\n    confidence: 0.92,\n    source: 'Carfax',\n    badges: {\n      cleanTitle: true,\n      carfaxVerified: true,\n    },\n  },\n]\n\nexport function VehiclesTable({ \n  vehicles: initialVehicles, \n  fields = VEHICLE_FIELDS \n}: VehiclesTableProps) {\n  const { quoteData, updateVehicles, saveQuote } = useQuote()\n  \n  // Use quote data if available, otherwise use initialVehicles prop, otherwise use sample data\n  const defaultVehicles = React.useMemo(() => {\n    if (quoteData.vehicles && quoteData.vehicles.length > 0) {\n      return quoteData.vehicles\n    }\n    if (initialVehicles && initialVehicles.length > 0) {\n      return initialVehicles\n    }\n    return SAMPLE_VEHICLES\n  }, [quoteData.vehicles, initialVehicles])\n  \n  const [vehicles, setVehicles] = React.useState<Vehicle[]>(defaultVehicles)\n  const [newVehicleIds, setNewVehicleIds] = React.useState<Set<string>>(new Set())\n  const [discoveredVehicles] = React.useState<DiscoveredVehicle[]>(SAMPLE_DISCOVERED_VEHICLES)\n  const [isLoadingDiscovery, setIsLoadingDiscovery] = React.useState(false)\n  const [validationErrors, setValidationErrors] = React.useState<Map<string, string>>(new Map())\n  const [missingFields, setMissingFields] = React.useState<Set<string>>(new Set())\n  const [showMissingOnly, setShowMissingOnly] = React.useState(false)\n  const [originalEditingValue, setOriginalEditingValue] = React.useState<{\n    vehicleIndex: number\n    fieldIndex: number\n    value: any\n  } | null>(null)\n  \n  // Track if we've initialized from quote context\n  const hasInitialized = React.useRef(false)\n\n  // Update vehicles when quote data changes (on initial load)\n  React.useEffect(() => {\n    if (!hasInitialized.current && quoteData.vehicles && quoteData.vehicles.length > 0) {\n      setVehicles(quoteData.vehicles)\n      hasInitialized.current = true\n    } else if (initialVehicles && initialVehicles.length > 0 && !hasInitialized.current) {\n      setVehicles(initialVehicles)\n      hasInitialized.current = true\n    }\n  }, [quoteData.vehicles, initialVehicles])\n\n  // Auto-save when vehicles change\n  useAutoSave({\n    data: vehicles,\n    saveFn: async (data) => {\n      updateVehicles(data)\n      await saveQuote()\n    },\n    debounceMs: 2000,\n    enabled: vehicles.length > 0, // Only save if there are vehicles\n  })\n\n  // Recompute missing fields when vehicles or fields change\n  React.useEffect(() => {\n    const missing = new Set<string>()\n    vehicles.forEach((vehicle, vehicleIndex) => {\n      fields.forEach((field) => {\n        if (field.required) {\n          const value = vehicle[field.id as keyof Vehicle]\n          if (value === null || value === undefined || value === '' || \n              (typeof value === 'string' && value.trim() === '') ||\n              (field.type === 'dropdown' && value === 'Select')) {\n            missing.add(`${vehicleIndex}-${field.id}`)\n          }\n        }\n      })\n    })\n    setMissingFields(missing)\n  }, [vehicles, fields])\n\n  // Filter fields to show only missing ones when toggle is on\n  const visibleFields = React.useMemo(() => {\n    if (!showMissingOnly) return fields\n    \n    return fields.filter((field) => {\n      // Check if any vehicle has missing data for this field\n      return vehicles.some((vehicle, vehicleIndex) => {\n        if (!field.required) return false\n        const errorKey = `${vehicleIndex}-${field.id}`\n        return missingFields.has(errorKey)\n      })\n    })\n  }, [fields, vehicles, missingFields, showMissingOnly])\n\n  // Create mapping from visible field index to original field index\n  const getOriginalFieldIndex = React.useCallback((visibleIndex: number): number => {\n    if (!showMissingOnly) return visibleIndex\n    const field = visibleFields[visibleIndex]\n    return fields.findIndex(f => f.id === field.id)\n  }, [showMissingOnly, visibleFields, fields])\n\n  // Create mapping from original field index to visible field index\n  const getVisibleFieldIndex = React.useCallback((originalIndex: number): number | null => {\n    if (!showMissingOnly) return originalIndex\n    const field = fields[originalIndex]\n    return visibleFields.findIndex(f => f.id === field.id)\n  }, [showMissingOnly, visibleFields, fields])\n\n  // Helper to find next visible field index from a given original index\n  const findNextVisibleField = React.useCallback((originalIndex: number): number | null => {\n    if (!showMissingOnly) {\n      return originalIndex < fields.length - 1 ? originalIndex + 1 : null\n    }\n    for (let i = originalIndex + 1; i < fields.length; i++) {\n      if (getVisibleFieldIndex(i) !== null) {\n        return i\n      }\n    }\n    return null\n  }, [showMissingOnly, fields.length, getVisibleFieldIndex])\n\n  // Helper to find previous visible field index from a given original index\n  const findPreviousVisibleField = React.useCallback((originalIndex: number): number | null => {\n    if (!showMissingOnly) {\n      return originalIndex > 0 ? originalIndex - 1 : null\n    }\n    for (let i = originalIndex - 1; i >= 0; i--) {\n      if (getVisibleFieldIndex(i) !== null) {\n        return i\n      }\n    }\n    return null\n  }, [showMissingOnly, getVisibleFieldIndex])\n\n  // Use a ref to store the add vehicle function to avoid circular dependency\n  const handleAddVehicleRef = React.useRef<(() => void) | null>(null)\n\n  // Keyboard navigation hook - update when vehicles change\n  const {\n    activeCell,\n    editingCell,\n    moveToCell,\n    startEditing,\n    stopEditing,\n    containerRef,\n  } = useKeyboardNavigation({\n    vehicleCount: vehicles.length,\n    fieldCount: fields.length,\n    onAddVehicle: () => handleAddVehicleRef.current?.(),\n  })\n\n  // Update navigation when vehicles change\n  React.useEffect(() => {\n    // If active cell is beyond current vehicle count, reset to last vehicle\n    if (activeCell && activeCell.vehicleIndex >= vehicles.length) {\n      if (vehicles.length > 0) {\n        moveToCell(vehicles.length - 1, activeCell.fieldIndex)\n      }\n    }\n  }, [vehicles.length, activeCell, moveToCell])\n\n  // Handle active cell when toggle changes - move to visible field if current is hidden\n  React.useEffect(() => {\n    if (!activeCell || !showMissingOnly) return\n    \n    const visibleIndex = getVisibleFieldIndex(activeCell.fieldIndex)\n    if (visibleIndex === null) {\n      // Current field is hidden, find nearest visible field\n      if (visibleFields.length > 0) {\n        const nextVisible = findNextVisibleField(activeCell.fieldIndex)\n        const prevVisible = findPreviousVisibleField(activeCell.fieldIndex)\n        if (nextVisible !== null) {\n          moveToCell(activeCell.vehicleIndex, nextVisible)\n        } else if (prevVisible !== null) {\n          moveToCell(activeCell.vehicleIndex, prevVisible)\n        } else {\n          // Fallback to first visible field\n          const firstVisibleOriginalIndex = getOriginalFieldIndex(0)\n          moveToCell(activeCell.vehicleIndex, firstVisibleOriginalIndex)\n        }\n      } else {\n        // No visible fields, move to first field\n        moveToCell(activeCell.vehicleIndex, 0)\n      }\n    }\n  }, [showMissingOnly, activeCell, visibleFields.length, getVisibleFieldIndex, getOriginalFieldIndex, findNextVisibleField, findPreviousVisibleField, moveToCell])\n\n  // Ensure active cell is always visible when filtering (handles navigation to hidden fields)\n  React.useEffect(() => {\n    if (!activeCell || !showMissingOnly) return\n    \n    const visibleIndex = getVisibleFieldIndex(activeCell.fieldIndex)\n    if (visibleIndex === null && visibleFields.length > 0) {\n      // Active cell is on a hidden field, move to nearest visible\n      const nextVisible = findNextVisibleField(activeCell.fieldIndex)\n      const prevVisible = findPreviousVisibleField(activeCell.fieldIndex)\n      if (nextVisible !== null) {\n        moveToCell(activeCell.vehicleIndex, nextVisible)\n      } else if (prevVisible !== null) {\n        moveToCell(activeCell.vehicleIndex, prevVisible)\n      } else {\n        moveToCell(activeCell.vehicleIndex, getOriginalFieldIndex(0))\n      }\n    }\n  }, [activeCell, showMissingOnly, visibleFields.length, getVisibleFieldIndex, findNextVisibleField, findPreviousVisibleField, getOriginalFieldIndex, moveToCell])\n\n  // Keyboard shortcut to toggle missing fields filter (Ctrl/Cmd + M)\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Don't trigger if user is typing in an input\n      const target = event.target as HTMLElement\n      const isInput = target.tagName === \"INPUT\" || target.tagName === \"TEXTAREA\" || target.isContentEditable\n      const isSelect = target.closest('[data-slot=\"select\"]') !== null\n      \n      if (\n        (event.ctrlKey || event.metaKey) &&\n        event.key.toLowerCase() === 'm' &&\n        !isInput &&\n        !isSelect\n      ) {\n        event.preventDefault()\n        setShowMissingOnly((prev) => !prev)\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [])\n\n  const handleCellChange = (vehicleIndex: number, fieldIndex: number, value: any) => {\n    const field = fields[fieldIndex]\n    \n    // Update vehicle value\n    const updatedVehicles = vehicles.map((v, idx) =>\n      idx === vehicleIndex\n        ? { ...v, [field.id]: value }\n        : v\n    )\n    setVehicles(updatedVehicles)\n    \n    // Validate the cell value\n    const error = validateCellValue(value, field)\n    const errorKey = `${vehicleIndex}-${field.id}`\n    \n    setValidationErrors((prev) => {\n      const newErrors = new Map(prev)\n      if (error) {\n        newErrors.set(errorKey, error)\n      } else {\n        newErrors.delete(errorKey)\n      }\n      return newErrors\n    })\n  }\n\n  // Handle cell focus (navigation only - no edit mode)\n  const handleCellFocus = (vehicleIndex: number, fieldIndex: number) => {\n    moveToCell(vehicleIndex, fieldIndex)\n    // Don't automatically enter edit mode - just move focus\n  }\n\n  // Handle cell edit (enters edit mode - for click/double-click)\n  const handleCellEdit = (vehicleIndex: number, fieldIndex: number) => {\n    moveToCell(vehicleIndex, fieldIndex)\n    startEditing()\n    // Store original value when editing starts\n    const field = fields[fieldIndex]\n    const vehicle = vehicles[vehicleIndex]\n    setOriginalEditingValue({\n      vehicleIndex,\n      fieldIndex,\n      value: vehicle[field.id as keyof Vehicle]\n    })\n  }\n\n  // Handle undo - restore original value\n  const handleCellUndo = () => {\n    if (!originalEditingValue) return\n    const { vehicleIndex, fieldIndex, value } = originalEditingValue\n    const field = fields[fieldIndex]\n    \n    // Restore original value\n    const updatedVehicles = vehicles.map((v, idx) =>\n      idx === vehicleIndex\n        ? { ...v, [field.id]: value }\n        : v\n    )\n    setVehicles(updatedVehicles)\n    \n    // Clear validation errors for this cell\n    const errorKey = `${vehicleIndex}-${field.id}`\n    setValidationErrors((prev) => {\n      const newErrors = new Map(prev)\n      newErrors.delete(errorKey)\n      return newErrors\n    })\n    \n    // Clear original value tracking\n    setOriginalEditingValue(null)\n  }\n\n  const handleCellBlur = (moveNextAfterBlur = false, undo = false) => {\n    if (undo && originalEditingValue) {\n      handleCellUndo()\n    }\n    stopEditing()\n    setOriginalEditingValue(null)\n    \n    // After blur, if Enter was pressed, move to next cell\n    if (moveNextAfterBlur && !undo && activeCell) {\n      const { vehicleIndex, fieldIndex } = activeCell\n      \n      // Find next visible field\n      const nextFieldIndex = findNextVisibleField(fieldIndex)\n      if (nextFieldIndex !== null) {\n        moveToCell(vehicleIndex, nextFieldIndex)\n      } else if (vehicleIndex < vehicles.length - 1) {\n        // Move to next vehicle, first visible field\n        const firstVisibleIndex = showMissingOnly && visibleFields.length > 0 \n          ? getOriginalFieldIndex(0) \n          : 0\n        moveToCell(vehicleIndex + 1, firstVisibleIndex)\n      }\n    }\n  }\n\n  // Check if a cell is being edited\n  const getEditingState = (vehicleIndex: number, fieldIndex: number) => {\n    if (!editingCell) return false\n    return editingCell.vehicleIndex === vehicleIndex && editingCell.fieldIndex === fieldIndex\n  }\n\n  // Check if a cell is active (focused)\n  const getActiveState = (vehicleIndex: number, fieldIndex: number) => {\n    if (!activeCell) return false\n    return activeCell.vehicleIndex === vehicleIndex && activeCell.fieldIndex === fieldIndex\n  }\n\n  // Define handleAddVehicle after hook so we can use moveToCell and startEditing\n  const handleAddVehicle = React.useCallback(() => {\n    const newVehicle: Vehicle = {\n      id: `vehicle-${Date.now()}`,\n      vin: '',\n      year: '',\n      make: '',\n      model: '',\n      trim: '',\n      primaryUse: '',\n      annualMileage: '',\n      ownershipType: '',\n      ownershipLength: '',\n      garagingZipSame: '',\n    }\n    setVehicles((prev) => [...prev, newVehicle])\n    setNewVehicleIds((prev) => new Set(prev).add(newVehicle.id))\n    \n    // Focus on the new vehicle's first visible cell\n    const newVehicleIndex = vehicles.length\n    setTimeout(() => {\n      const firstVisibleIndex = showMissingOnly && visibleFields.length > 0 \n        ? getOriginalFieldIndex(0) \n        : 0\n      moveToCell(newVehicleIndex, firstVisibleIndex)\n      startEditing()\n    }, 100)\n  }, [vehicles.length, showMissingOnly, visibleFields.length, getOriginalFieldIndex, moveToCell, startEditing])\n\n  // Update the ref whenever handleAddVehicle changes\n  React.useEffect(() => {\n    handleAddVehicleRef.current = handleAddVehicle\n  }, [handleAddVehicle])\n\n  const handleAddFromDiscovery = async (discoveredVehicle: DiscoveredVehicle) => {\n    setIsLoadingDiscovery(true)\n    // Simulate async operation (e.g., API call to add vehicle)\n    await new Promise((resolve) => setTimeout(resolve, 300))\n    \n    // Add the discovered vehicle as a new vehicle\n    const newVehicle: Vehicle = {\n      id: `discovery-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      vin: discoveredVehicle.vin || '',\n      year: discoveredVehicle.year,\n      make: discoveredVehicle.make,\n      model: discoveredVehicle.model,\n      trim: '',\n      primaryUse: '',\n      annualMileage: '',\n      ownershipType: '',\n      ownershipLength: '',\n      garagingZipSame: '',\n      isFromDiscovery: true,\n      discoveryData: {\n        source: discoveredVehicle.source || 'Discovery',\n        confidence: discoveredVehicle.confidence || 0.95,\n      },\n      badges: discoveredVehicle.badges,\n    }\n    setVehicles((prev) => [...prev, newVehicle])\n    setNewVehicleIds((prev) => new Set(prev).add(newVehicle.id))\n    setIsLoadingDiscovery(false)\n    \n    // Focus on the new vehicle's first visible cell\n    setTimeout(() => {\n      const firstVisibleIndex = showMissingOnly && visibleFields.length > 0 \n        ? getOriginalFieldIndex(0) \n        : 0\n      moveToCell(vehicles.length, firstVisibleIndex)\n      startEditing()\n    }, 100)\n  }\n\n  const isNewVehicle = (vehicleId: string) => newVehicleIds.has(vehicleId)\n\n  const getVehicleBadges = (vehicle: Vehicle, vehicleIndex: number) => {\n    const badges: Array<string | { type: 'incomplete' | 'complete'; text: string; count?: number }> = []\n    \n    // Data source badges\n    if (vehicle.isFromDiscovery) {\n      badges.push('Discovery')\n    }\n    if (isNewVehicle(vehicle.id)) {\n      badges.push('New')\n    }\n    \n    // Vehicle condition badges\n    if (vehicle.badges?.cleanTitle) {\n      badges.push('Clean title')\n    }\n    if (vehicle.badges?.carfaxVerified) {\n      badges.push('Carfax ✓')\n    }\n    \n    // Add incomplete/complete badge\n    const missingCount = getRowMissingCount(vehicle, fields)\n    if (missingCount > 0) {\n      badges.push({\n        type: 'incomplete',\n        text: missingCount === 1 ? '1 missing' : `${missingCount} missing`,\n        count: missingCount,\n      })\n    } else if (missingCount === 0 && fields.some(f => f.required)) {\n      badges.push({\n        type: 'complete',\n        text: 'Complete',\n      })\n    }\n    \n    return badges\n  }\n\n  const handleDeleteVehicle = React.useCallback((vehicleId: string, vehicleIndex: number) => {\n    setVehicles((prev) => prev.filter((v) => v.id !== vehicleId))\n    setNewVehicleIds((prev) => {\n      const newSet = new Set(prev)\n      newSet.delete(vehicleId)\n      return newSet\n    })\n    \n    // Clear validation errors for deleted vehicle\n    setValidationErrors((prev) => {\n      const newErrors = new Map(prev)\n      fields.forEach((field) => {\n        newErrors.delete(`${vehicleIndex}-${field.id}`)\n      })\n      // Shift errors for vehicles after the deleted one\n      const shiftedErrors = new Map<string, string>()\n      prev.forEach((errorValue, key) => {\n        const [vehicleIdxStr] = key.split('-')\n        const vehicleIdx = Number(vehicleIdxStr)\n        if (vehicleIdx > vehicleIndex) {\n          fields.forEach((field) => {\n            const oldKey = `${vehicleIdx}-${field.id}`\n            const newKey = `${vehicleIdx - 1}-${field.id}`\n            const error = newErrors.get(oldKey)\n            if (error) {\n              shiftedErrors.set(newKey, error)\n            }\n          })\n        } else if (vehicleIdx < vehicleIndex) {\n          fields.forEach((field) => {\n            const keyToKeep = `${vehicleIdx}-${field.id}`\n            const error = newErrors.get(keyToKeep)\n            if (error) {\n              shiftedErrors.set(keyToKeep, error)\n            }\n          })\n        }\n      })\n      return shiftedErrors\n    })\n    \n    // Adjust active cell if needed\n    if (activeCell) {\n      if (activeCell.vehicleIndex === vehicleIndex) {\n        // If deleted vehicle was active, move to previous vehicle or first vehicle\n        if (vehicles.length > 1) {\n          const newIndex = vehicleIndex > 0 ? vehicleIndex - 1 : 0\n          moveToCell(newIndex, activeCell.fieldIndex)\n        }\n      } else if (activeCell.vehicleIndex > vehicleIndex) {\n        // If active cell is after deleted vehicle, adjust index\n        moveToCell(activeCell.vehicleIndex - 1, activeCell.fieldIndex)\n      }\n    }\n  }, [vehicles.length, fields, activeCell, moveToCell])\n\n  return (\n    <div className=\"mb-8 w-full bg-card rounded-lg border border-border overflow-hidden\">\n      <div className=\"flex\">\n        {/* Main Table Area */}\n        <div \n          className=\"flex-1 overflow-x-auto relative\" \n          ref={containerRef}\n          role=\"grid\"\n          aria-rowcount={visibleFields.length + 1}\n          aria-colcount={vehicles.length + 1}\n        >\n          <div className=\"inline-flex min-w-full\">\n              {/* Field Labels Column - Fixed */}\n            <div \n              className=\"bg-card shrink-0 sticky left-0 z-10 border-r border-border\" \n              style={{ width: '321px' }}\n              role=\"rowgroup\"\n            >\n              {/* Header */}\n              <div \n                className=\"h-[64px] px-4 flex flex-col justify-center gap-2 border-b border-border bg-card\"\n                role=\"columnheader\"\n                aria-label=\"Field labels\"\n              >\n                <span\n                  className=\"text-sm font-medium text-muted-foreground\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Vehicles\n                </span>\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <Switch\n                    checked={showMissingOnly}\n                    onCheckedChange={setShowMissingOnly}\n                    className=\"data-[state=checked]:bg-blue-600\"\n                  />\n                  <span \n                    className=\"text-xs text-muted-foreground\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    Show missing questions only\n                  </span>\n                </label>\n              </div>\n              {/* Field Rows */}\n              {visibleFields.length === 0 && showMissingOnly ? (\n                <div className=\"h-[44px] px-4 flex items-center border-b border-border bg-card\">\n                  <span\n                    className=\"text-sm font-normal text-muted-foreground italic\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    No missing fields\n                  </span>\n                </div>\n              ) : (\n                visibleFields.map((field, visibleIndex) => {\n                  const originalFieldIndex = getOriginalFieldIndex(visibleIndex)\n                  return (\n                    <div\n                      key={field.id}\n                      className=\"h-[44px] px-4 flex items-center border-b border-border last:border-b-0 bg-card\"\n                      role=\"rowheader\"\n                      aria-rowindex={visibleIndex + 2}\n                    >\n                      <span\n                        className=\"text-sm font-normal text-foreground\"\n                        style={{ fontFamily: \"Inter, sans-serif\" }}\n                      >\n                        {field.label}\n                        {field.required && (\n                          <span className=\"text-red-600 ml-1\" aria-label=\"required\">*</span>\n                        )}\n                      </span>\n                    </div>\n                  )\n                })\n              )}\n            </div>\n\n            {/* Vehicle Columns */}\n            {vehicles.map((vehicle, vehicleIndex) => (\n              <div\n                key={vehicle.id}\n                className={`bg-card shrink-0 border-r border-border last:border-r-0 relative ${\n                  isNewVehicle(vehicle.id) ? 'ring-1 ring-blue-500/20' : ''\n                }`}\n                style={{ width: '348px' }}\n                role=\"column\"\n                aria-label={`Vehicle ${vehicleIndex + 1}`}\n              >\n                {/* Header */}\n                <div \n                  className=\"h-[64px] px-4 flex items-center justify-between border-b border-border bg-card group\"\n                  role=\"columnheader\"\n                  aria-colindex={vehicleIndex + 2}\n                >\n                  <div className=\"flex flex-col items-start justify-start gap-2 flex-1 min-w-0\">\n                    <span\n                      className=\"text-sm font-medium text-foreground truncate\"\n                      style={{ fontFamily: \"Inter, sans-serif\" }}\n                    >\n                      Vehicle {vehicleIndex + 1}\n                    </span>\n                    {/* Badges */}\n                    <div className=\"flex items-center gap-1 shrink-0 flex-wrap\">\n                      {getVehicleBadges(vehicle, vehicleIndex).map((badge, idx) => {\n                        // Handle badge objects with type\n                        if (typeof badge === 'object' && badge.type === 'incomplete') {\n                          return (\n                            <Badge\n                              key={idx}\n                              variant=\"secondary\"\n                              className=\"text-xs font-medium border-0 px-1.5 py-0.5 h-5 bg-amber-100 text-amber-800 flex items-center gap-1\"\n                            >\n                              <AlertCircle className=\"h-3 w-3\" />\n                              {badge.text}\n                            </Badge>\n                          )\n                        }\n                        \n                        if (typeof badge === 'object' && badge.type === 'complete') {\n                          return (\n                            <Badge\n                              key={idx}\n                              variant=\"secondary\"\n                              className=\"text-xs font-medium border-0 px-1.5 py-0.5 h-5 bg-green-100 text-green-800 flex items-center gap-1\"\n                            >\n                              <CheckCircle className=\"h-3 w-3\" />\n                              {badge.text}\n                            </Badge>\n                          )\n                        }\n                        \n                        // Style badges differently based on type\n                        const isStatusBadge = badge === 'New' || badge === 'Discovery'\n                        const isConditionBadge = badge === 'Clean title' || badge === 'Carfax ✓'\n                        \n                        return (\n                          <Badge\n                            key={idx}\n                            variant=\"secondary\"\n                            className={`text-xs px-1.5 py-0 h-5 border-0 ${\n                              isStatusBadge\n                                ? 'bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300'\n                                : isConditionBadge\n                                ? 'bg-muted text-muted-foreground'\n                                : 'bg-muted text-muted-foreground'\n                            }`}\n                          >\n                            {typeof badge === 'string' ? badge : badge.text}\n                          </Badge>\n                        )\n                      })}\n                    </div>\n                  </div>\n                  {/* Delete button - appears on hover */}\n                  {vehicles.length > 1 && (\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity shrink-0\"\n                      onClick={() => handleDeleteVehicle(vehicle.id, vehicleIndex)}\n                      aria-label={`Delete vehicle ${vehicleIndex + 1}`}\n                    >\n                      <Trash2 className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                    </Button>\n                  )}\n                </div>\n\n                {/* Field Values */}\n                {visibleFields.length === 0 && showMissingOnly ? (\n                  <div className=\"h-[44px] border-b border-border bg-card flex items-center justify-center\">\n                    <span\n                      className=\"text-xs text-muted-foreground italic\"\n                      style={{ fontFamily: \"Inter, sans-serif\" }}\n                    >\n                      All fields complete\n                    </span>\n                  </div>\n                ) : (\n                  visibleFields.map((field, visibleIndex) => {\n                    const originalFieldIndex = getOriginalFieldIndex(visibleIndex)\n                    const isEditing = getEditingState(vehicleIndex, originalFieldIndex)\n                    const isActive = getActiveState(vehicleIndex, originalFieldIndex)\n                    const cellValue = vehicle[field.id as keyof Vehicle]\n                    const errorKey = `${vehicleIndex}-${field.id}`\n                    const error = validationErrors.get(errorKey)\n                    const isMissing = missingFields.has(errorKey)\n                    const hasError = !!error\n\n                    return (\n                      <div\n                        key={field.id}\n                        data-cell-id={`vehicle-${vehicleIndex}-field-${originalFieldIndex}`}\n                        className={`h-[44px] border-b border-border last:border-b-0 transition-colors ${\n                          isActive ? 'bg-muted' : ''\n                        } ${hasError ? 'bg-red-50/30 dark:bg-red-950/30' : ''} ${\n                          isMissing && !hasError ? 'bg-amber-50 dark:bg-amber-950/30' : ''\n                        }`}\n                        role=\"gridcell\"\n                        aria-rowindex={visibleIndex + 2}\n                        aria-colindex={vehicleIndex + 2}\n                      >\n                        <EditableTableCell\n                          value={cellValue}\n                          field={field}\n                          isEditing={isEditing}\n                          onFocus={() => handleCellFocus(vehicleIndex, originalFieldIndex)}\n                          onEdit={() => handleCellEdit(vehicleIndex, originalFieldIndex)}\n                          onBlur={(moveNext, undo) => handleCellBlur(moveNext, undo)}\n                          onChange={(value) => handleCellChange(vehicleIndex, originalFieldIndex, value)}\n                          onDoubleClick={() => handleCellEdit(vehicleIndex, originalFieldIndex)}\n                          error={error}\n                          isMissing={isMissing && !hasError}\n                        />\n                      </div>\n                    )\n                  })\n                )}\n              </div>\n            ))}\n\n            {/* Right Sidebar - Inside scrollable container, scrolls with content */}\n            {vehicles.length > 0 && (\n              <div className=\"bg-card shrink-0 border-border\" style={{ width: '323px' }}>\n                <div className=\"p-4\">\n                  {/* Add Another Vehicle Button */}\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleAddVehicle}\n                    className=\"w-full h-9 mb-4 text-sm\"\n                  >\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add Another Vehicle\n                  </Button>\n\n                  {/* Vehicles Found Section */}\n                  <VehicleSuggestions\n                    discoveredVehicles={discoveredVehicles}\n                    existingVehicles={vehicles}\n                    onAddVehicle={handleAddFromDiscovery}\n                    isLoading={isLoadingDiscovery}\n                  />\n\n                  {/* Keyboard Shortcuts */}\n                  <KeyboardShortcuts />\n                </div>\n              </div>\n            )}\n\n            {/* Empty State */}\n            {vehicles.length === 0 && (\n              <div className=\"flex-1 flex items-center justify-center py-12\">\n                <div className=\"text-center\">\n                  <Car className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                  <p\n                    className=\"text-sm font-medium text-foreground mb-2\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    No vehicles added yet\n                  </p>\n                  <p\n                    className=\"text-xs text-muted-foreground mb-4\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    Add your first vehicle to get started\n                  </p>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-10\"\n                    onClick={handleAddVehicle}\n                  >\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add First Vehicle\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}