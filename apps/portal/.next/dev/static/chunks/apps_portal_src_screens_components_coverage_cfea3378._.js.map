{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/types.ts"],"sourcesContent":["// Coverage types for insurance quote\n\nexport interface LiabilityCoverage {\n  bodilyInjury: string // e.g., \"$100K/$300K/$100K\"\n  propertyDamage: string // e.g., \"$100K/$300K/$100K\"\n}\n\nexport interface AdditionalCoverage {\n  medicalPayments: string // e.g., \"Not Included\", \"$5K\", \"$10K\"\n  uninsuredMotoristsBodilyInjury: string // e.g., \"Not Included\", \"$100K/$300K/$100K\"\n  underinsuredMotoristsBodilyInjury?: string // e.g., \"Not Included\", \"$100K/$300K/$100K\"\n  uninsuredMotoristsPropertyDamage?: string // Optional, some states don't require this\n  roadsideAssistance?: boolean // Policy-level roadside assistance\n}\n\nexport interface VehicleCoverage {\n  vehicleId: string\n  comprehensiveDeductible: string // e.g., \"$500\", \"$1,000\", \"$2,500\", \"Not Included\"\n  collisionDeductible?: string // e.g., \"$500\", \"$1,000\", \"$2,500\", \"Not Included\"\n  glassDeductible: boolean // Glass Damage Deductible $0\n  loanLeasePayoff: boolean // Covers gap between value and loan\n  customPartsEquipment: boolean\n  customPartsAmount?: number // Coverage amount in dollars\n  rentalReimbursement?: boolean\n}\n\nexport interface CoverageData {\n  liability: LiabilityCoverage\n  additional: AdditionalCoverage\n  vehicleCoverages: VehicleCoverage[]\n}\n\nexport interface PricingPlan {\n  id: string\n  name: string\n  monthlyPrice: number\n  description: string\n  features: string[]\n  discount?: number // Percentage discount\n}\n\nexport interface PricingSummary {\n  selectedPlanId: string\n  startDate: string // ISO date string\n  paymentFrequency: \"Monthly\" | \"Semi-Annual\" | \"Annual\"\n  monthlyPrice: number\n  totalForPeriod: number\n  downPayment: number\n}\n\n// Industry standard coverage options\nexport const BODILY_INJURY_OPTIONS = [\n  \"$25K/$50K\",\n  \"$50K/$100K\",\n  \"$100K/$300K\",\n  \"$250K/$500K\",\n  \"$500K/$1M\",\n  \"$1M/$2M\",\n]\n\nexport const PROPERTY_DAMAGE_OPTIONS = [\n  \"$25K\",\n  \"$50K\",\n  \"$100K\",\n  \"$250K\",\n  \"$500K\",\n  \"$1M\",\n]\n\nexport const MEDICAL_PAYMENTS_OPTIONS = [\n  \"Not Included\",\n  \"$1K\",\n  \"$2K\",\n  \"$5K\",\n  \"$10K\",\n  \"$25K\",\n]\n\nexport const UNINSURED_MOTORISTS_OPTIONS = [\n  \"Not Included\",\n  ...BODILY_INJURY_OPTIONS,\n]\n\nexport const UNDERINSURED_MOTORISTS_OPTIONS = [\n  \"Not Included\",\n  ...BODILY_INJURY_OPTIONS,\n]\n\nexport const COMPREHENSIVE_DEDUCTIBLE_OPTIONS = [\n  \"Not Included\",\n  \"$250\",\n  \"$500\",\n  \"$1,000\",\n  \"$2,500\",\n  \"$5,000\",\n]\n\nexport const COLLISION_DEDUCTIBLE_OPTIONS = [\n  \"Not Included\",\n  \"$250\",\n  \"$500\",\n  \"$1,000\",\n  \"$2,500\",\n  \"$5,000\",\n]\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;;;;;;;;;;;;AAmD9B,MAAM,wBAAwB;IACnC;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,0BAA0B;IACrC;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,2BAA2B;IACtC;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,8BAA8B;IACzC;OACG;CACJ;AAEM,MAAM,iCAAiC;IAC5C;OACG;CACJ;AAEM,MAAM,mCAAmC;IAC9C;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,+BAA+B;IAC1C;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/pricing-calculator.ts"],"sourcesContent":["// Mock pricing calculator for coverage selections\nimport { CoverageData, PricingPlan, PricingSummary } from \"./types\"\n\n// Mock base pricing plans\nexport const PRICING_PLANS: PricingPlan[] = [\n  {\n    id: \"novo-next\",\n    name: \"Novo Next\",\n    monthlyPrice: 124,\n    description: \"Price locked for six months\",\n    features: [\n      \"Price locked for six months\",\n      \"20% discount upfront\",\n      \"Renewal is based on driving behavior\",\n    ],\n    discount: 20,\n  },\n  {\n    id: \"novo-flex\",\n    name: \"Novo Flex\",\n    monthlyPrice: 113,\n    description: \"Flexible monthly payments\",\n    features: [\n      \"Flexible monthly payments\",\n      \"No long-term commitment\",\n      \"Cancel anytime\",\n    ],\n  },\n  {\n    id: \"novo-classic\",\n    name: \"Novo Classic\",\n    monthlyPrice: 132,\n    description: \"Traditional annual policy\",\n    features: [\n      \"Traditional annual policy\",\n      \"Full year coverage\",\n      \"Best for stable drivers\",\n    ],\n  },\n]\n\n// Calculate pricing adjustments based on coverage selections\nexport function calculateCoverageAdjustment(coverage: CoverageData): number {\n  let adjustment = 0\n\n  // Bodily Injury adjustments\n  const biMultipliers: Record<string, number> = {\n    \"$25K/$50K\": 0.9,\n    \"$50K/$100K\": 0.95,\n    \"$100K/$300K\": 1.0,\n    \"$250K/$500K\": 1.15,\n    \"$500K/$1M\": 1.3,\n    \"$1M/$2M\": 1.5,\n  }\n  adjustment += (biMultipliers[coverage.liability.bodilyInjury] || 1.0) - 1.0\n\n  // Property Damage adjustments\n  const pdMultipliers: Record<string, number> = {\n    \"$25K\": 0.9,\n    \"$50K\": 0.95,\n    \"$100K\": 1.0,\n    \"$250K\": 1.1,\n    \"$500K\": 1.2,\n    \"$1M\": 1.35,\n  }\n  adjustment += (pdMultipliers[coverage.liability.propertyDamage] || 1.0) - 1.0\n\n  // Medical Payments adjustments\n  if (coverage.additional.medicalPayments !== \"Not Included\") {\n    const mpMultipliers: Record<string, number> = {\n      \"$1K\": 1.05,\n      \"$2K\": 1.1,\n      \"$5K\": 1.15,\n      \"$10K\": 1.2,\n      \"$25K\": 1.3,\n    }\n    adjustment += (mpMultipliers[coverage.additional.medicalPayments] || 1.0) - 1.0\n  }\n\n  // Uninsured Motorists adjustments\n  if (coverage.additional.uninsuredMotoristsBodilyInjury !== \"Not Included\") {\n    adjustment += 0.1 // 10% increase for uninsured motorists coverage\n  }\n\n  // Underinsured Motorists adjustments\n  if (coverage.additional.underinsuredMotoristsBodilyInjury && coverage.additional.underinsuredMotoristsBodilyInjury !== \"Not Included\") {\n    adjustment += 0.08 // 8% increase for underinsured motorists coverage\n  }\n\n  // Vehicle coverage adjustments\n  coverage.vehicleCoverages.forEach((vc) => {\n    // Comprehensive deductible adjustments (lower deductible = higher premium)\n    const compMultipliers: Record<string, number> = {\n      \"$250\": 1.15,\n      \"$500\": 1.1,\n      \"$1,000\": 1.0,\n      \"$2,500\": 0.9,\n      \"$5,000\": 0.85,\n    }\n    adjustment += (compMultipliers[vc.comprehensiveDeductible] || 1.0) - 1.0\n\n    // Glass deductible adds cost\n    if (vc.glassDeductible) {\n      adjustment += 0.05\n    }\n\n    // Loan/lease payoff adds cost\n    if (vc.loanLeasePayoff) {\n      adjustment += 0.1\n    }\n\n    // Custom parts adds cost\n    if (vc.customPartsEquipment) {\n      adjustment += 0.08\n    }\n  })\n\n  // Policy-level roadside assistance (not per vehicle)\n  if (coverage.additional.roadsideAssistance) {\n    adjustment += 0.06\n  }\n\n  return adjustment\n}\n\n// Calculate final pricing for a plan\nexport function calculatePlanPricing(\n  planId: string,\n  coverage: CoverageData,\n  paymentFrequency: PricingSummary[\"paymentFrequency\"] = \"Monthly\"\n): {\n  monthlyPrice: number\n  totalForPeriod: number\n  downPayment: number\n} {\n  const plan = PRICING_PLANS.find((p) => p.id === planId) || PRICING_PLANS[0]\n  const adjustment = calculateCoverageAdjustment(coverage)\n  \n  // Base monthly price with coverage adjustments\n  let baseMonthlyPrice = plan.monthlyPrice * (1 + adjustment)\n\n  // Apply plan-specific discounts\n  if (plan.discount) {\n    baseMonthlyPrice = baseMonthlyPrice * (1 - plan.discount / 100)\n  }\n\n  // Calculate based on payment frequency\n  let monthlyPrice = baseMonthlyPrice\n  let totalForPeriod = baseMonthlyPrice\n  let downPayment = baseMonthlyPrice * 0.2 // 20% down payment\n\n  if (paymentFrequency === \"Semi-Annual\") {\n    totalForPeriod = baseMonthlyPrice * 6\n    downPayment = totalForPeriod * 0.2\n  } else if (paymentFrequency === \"Annual\") {\n    totalForPeriod = baseMonthlyPrice * 12\n    downPayment = totalForPeriod * 0.2\n  } else {\n    // Monthly\n    totalForPeriod = baseMonthlyPrice * 6 // Default 6 months for Novo Next\n    downPayment = baseMonthlyPrice * 2 // 2 months as down payment\n  }\n\n  return {\n    monthlyPrice: Math.round(monthlyPrice),\n    totalForPeriod: Math.round(totalForPeriod),\n    downPayment: Math.round(downPayment),\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/price-impact.ts"],"sourcesContent":["// Real-time price impact calculation and visualization\nimport { CoverageData, LiabilityCoverage, AdditionalCoverage, VehicleCoverage } from \"./types\"\nimport { calculatePlanPricing } from \"./pricing-calculator\"\n\nexport interface PriceImpact {\n  field: string\n  label: string\n  currentValue: any\n  newValue: any\n  monthlyImpact: number\n  annualImpact: number\n  percentageChange: number\n}\n\nexport interface PriceComparison {\n  option: string\n  value: any\n  monthlyPrice: number\n  impact: number // Difference from current\n  isSelected: boolean\n}\n\n// Calculate price impact of a single change\nexport function calculatePriceImpact(\n  currentCoverage: CoverageData,\n  newCoverage: CoverageData,\n  paymentFrequency: \"Monthly\" | \"Semi-Annual\" | \"Annual\" = \"Monthly\"\n): PriceImpact[] {\n  const impacts: PriceImpact[] = []\n\n  // Calculate current total price\n  const currentPricing = calculatePlanPricing(\n    \"novo-next\", // Use default plan for comparison\n    currentCoverage,\n    paymentFrequency\n  )\n\n  // Calculate new total price\n  const newPricing = calculatePlanPricing(\n    \"novo-next\",\n    newCoverage,\n    paymentFrequency\n  )\n\n  const monthlyDiff = newPricing.monthlyPrice - currentPricing.monthlyPrice\n  const annualDiff = monthlyDiff * 12\n\n  // Check liability changes\n  if (currentCoverage.liability.bodilyInjury !== newCoverage.liability.bodilyInjury) {\n    impacts.push({\n      field: \"bodilyInjury\",\n      label: \"Bodily Injury\",\n      currentValue: currentCoverage.liability.bodilyInjury,\n      newValue: newCoverage.liability.bodilyInjury,\n      monthlyImpact: monthlyDiff,\n      annualImpact: annualDiff,\n      percentageChange: (monthlyDiff / currentPricing.monthlyPrice) * 100,\n    })\n  }\n\n  if (currentCoverage.liability.propertyDamage !== newCoverage.liability.propertyDamage) {\n    impacts.push({\n      field: \"propertyDamage\",\n      label: \"Property Damage\",\n      currentValue: currentCoverage.liability.propertyDamage,\n      newValue: newCoverage.liability.propertyDamage,\n      monthlyImpact: monthlyDiff,\n      annualImpact: annualDiff,\n      percentageChange: (monthlyDiff / currentPricing.monthlyPrice) * 100,\n    })\n  }\n\n  // Check additional coverage changes\n  if (\n    currentCoverage.additional.medicalPayments !== newCoverage.additional.medicalPayments\n  ) {\n    impacts.push({\n      field: \"medicalPayments\",\n      label: \"Medical Payments\",\n      currentValue: currentCoverage.additional.medicalPayments,\n      newValue: newCoverage.additional.medicalPayments,\n      monthlyImpact: monthlyDiff,\n      annualImpact: annualDiff,\n      percentageChange: (monthlyDiff / currentPricing.monthlyPrice) * 100,\n    })\n  }\n\n  if (\n    currentCoverage.additional.uninsuredMotoristsBodilyInjury !==\n    newCoverage.additional.uninsuredMotoristsBodilyInjury\n  ) {\n    impacts.push({\n      field: \"uninsuredMotoristsBodilyInjury\",\n      label: \"Uninsured Motorists\",\n      currentValue: currentCoverage.additional.uninsuredMotoristsBodilyInjury,\n      newValue: newCoverage.additional.uninsuredMotoristsBodilyInjury,\n      monthlyImpact: monthlyDiff,\n      annualImpact: annualDiff,\n      percentageChange: (monthlyDiff / currentPricing.monthlyPrice) * 100,\n    })\n  }\n\n  if (\n    (currentCoverage.additional.underinsuredMotoristsBodilyInjury || \"Not Included\") !==\n    (newCoverage.additional.underinsuredMotoristsBodilyInjury || \"Not Included\")\n  ) {\n    impacts.push({\n      field: \"underinsuredMotoristsBodilyInjury\",\n      label: \"Underinsured Motorists\",\n      currentValue: currentCoverage.additional.underinsuredMotoristsBodilyInjury || \"Not Included\",\n      newValue: newCoverage.additional.underinsuredMotoristsBodilyInjury || \"Not Included\",\n      monthlyImpact: monthlyDiff,\n      annualImpact: annualDiff,\n      percentageChange: (monthlyDiff / currentPricing.monthlyPrice) * 100,\n    })\n  }\n\n  return impacts\n}\n\n// Calculate price comparison for all options of a field\nexport function calculateFieldComparison(\n  coverage: CoverageData,\n  field: \"bodilyInjury\" | \"propertyDamage\" | \"medicalPayments\" | \"uninsuredMotoristsBodilyInjury\",\n  options: string[],\n  paymentFrequency: \"Monthly\" | \"Semi-Annual\" | \"Annual\" = \"Monthly\"\n): PriceComparison[] {\n  const currentValue =\n    field === \"bodilyInjury\" || field === \"propertyDamage\"\n      ? coverage.liability[field]\n      : coverage.additional[field]\n\n  const comparisons: PriceComparison[] = []\n\n  for (const option of options) {\n    // Create modified coverage with this option\n    const modifiedCoverage: CoverageData = {\n      ...coverage,\n      liability:\n        field === \"bodilyInjury\" || field === \"propertyDamage\"\n          ? {\n              ...coverage.liability,\n              [field]: option,\n            }\n          : coverage.liability,\n      additional:\n        field === \"medicalPayments\" || field === \"uninsuredMotoristsBodilyInjury\"\n          ? {\n              ...coverage.additional,\n              [field]: option,\n            }\n          : coverage.additional,\n    }\n\n    const pricing = calculatePlanPricing(\"novo-next\", modifiedCoverage, paymentFrequency)\n    const currentPricing = calculatePlanPricing(\"novo-next\", coverage, paymentFrequency)\n    const impact = pricing.monthlyPrice - currentPricing.monthlyPrice\n\n    comparisons.push({\n      option,\n      value: option,\n      monthlyPrice: pricing.monthlyPrice,\n      impact,\n      isSelected: option === currentValue,\n    })\n  }\n\n  return comparisons.sort((a, b) => a.monthlyPrice - b.monthlyPrice)\n}\n\n// Calculate cumulative price impact\nexport function calculateCumulativeImpact(\n  baseCoverage: CoverageData,\n  modifiedCoverage: CoverageData,\n  paymentFrequency: \"Monthly\" | \"Semi-Annual\" | \"Annual\" = \"Monthly\"\n): {\n  monthlyImpact: number\n  annualImpact: number\n  percentageChange: number\n  newMonthlyPrice: number\n  currentMonthlyPrice: number\n} {\n  const currentPricing = calculatePlanPricing(\"novo-next\", baseCoverage, paymentFrequency)\n  const newPricing = calculatePlanPricing(\"novo-next\", modifiedCoverage, paymentFrequency)\n\n  const monthlyImpact = newPricing.monthlyPrice - currentPricing.monthlyPrice\n  const annualImpact = monthlyImpact * 12\n  const percentageChange = (monthlyImpact / currentPricing.monthlyPrice) * 100\n\n  return {\n    monthlyImpact,\n    annualImpact,\n    percentageChange,\n    newMonthlyPrice: newPricing.monthlyPrice,\n    currentMonthlyPrice: currentPricing.monthlyPrice,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/price-impact-indicator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ArrowUp, ArrowDown, Minus, TrendingUp } from \"lucide-react\"\nimport { cn } from \"@/shared/utils\"\nimport { calculateCumulativeImpact } from \"./price-impact\"\nimport { CoverageData, PricingSummary } from \"./types\"\n\ninterface PriceImpactIndicatorProps {\n  currentCoverage: CoverageData\n  newCoverage: CoverageData\n  pricing: PricingSummary\n  className?: string\n}\n\nexport function PriceImpactIndicator({\n  currentCoverage,\n  newCoverage,\n  pricing,\n  className,\n}: PriceImpactIndicatorProps) {\n  const impact = React.useMemo(() => {\n    return calculateCumulativeImpact(\n      currentCoverage,\n      newCoverage,\n      pricing.paymentFrequency\n    )\n  }, [currentCoverage, newCoverage, pricing.paymentFrequency])\n\n  // Only show if there's a meaningful change (> $0.50)\n  if (Math.abs(impact.monthlyImpact) < 0.5) {\n    return null\n  }\n\n  const isIncrease = impact.monthlyImpact > 0\n  const isDecrease = impact.monthlyImpact < 0\n\n  return (\n    <div\n      className={cn(\n        \"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium\",\n        isIncrease && \"bg-green-50 dark:bg-green-950/20 text-green-700 dark:text-green-400\",\n        isDecrease && \"bg-red-50 dark:bg-red-950/20 text-red-700 dark:text-red-400\",\n        !isIncrease && !isDecrease && \"bg-muted text-muted-foreground\",\n        className\n      )}\n    >\n      {isIncrease ? (\n        <ArrowUp className=\"h-4 w-4\" />\n      ) : isDecrease ? (\n        <ArrowDown className=\"h-4 w-4\" />\n      ) : (\n        <Minus className=\"h-4 w-4\" />\n      )}\n      <span>\n        {isIncrease ? \"+\" : \"\"}${Math.abs(impact.monthlyImpact).toFixed(0)}/mo\n      </span>\n      {Math.abs(impact.percentageChange) > 1 && (\n        <span className=\"text-xs opacity-75\">\n          ({isIncrease ? \"+\" : \"\"}\n          {impact.percentageChange.toFixed(1)}%)\n        </span>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAeO,SAAS,qBAAqB,EACnC,eAAe,EACf,WAAW,EACX,OAAO,EACP,SAAS,EACiB;;IAC1B,MAAM,SAAS,wKAAa;gDAAC;YAC3B,OAAO,IAAA,6MAAyB,EAC9B,iBACA,aACA,QAAQ,gBAAgB;QAE5B;+CAAG;QAAC;QAAiB;QAAa,QAAQ,gBAAgB;KAAC;IAE3D,qDAAqD;IACrD,IAAI,KAAK,GAAG,CAAC,OAAO,aAAa,IAAI,KAAK;QACxC,OAAO;IACT;IAEA,MAAM,aAAa,OAAO,aAAa,GAAG;IAC1C,MAAM,aAAa,OAAO,aAAa,GAAG;IAE1C,qBACE,6LAAC;QACC,WAAW,IAAA,iJAAE,EACX,6EACA,cAAc,uEACd,cAAc,+DACd,CAAC,cAAc,CAAC,cAAc,kCAC9B;;YAGD,2BACC,6LAAC,0NAAO;gBAAC,WAAU;;;;;uBACjB,2BACF,6LAAC,gOAAS;gBAAC,WAAU;;;;;qCAErB,6LAAC,gNAAK;gBAAC,WAAU;;;;;;0BAEnB,6LAAC;;oBACE,aAAa,MAAM;oBAAG;oBAAE,KAAK,GAAG,CAAC,OAAO,aAAa,EAAE,OAAO,CAAC;oBAAG;;;;;;;YAEpE,KAAK,GAAG,CAAC,OAAO,gBAAgB,IAAI,mBACnC,6LAAC;gBAAK,WAAU;;oBAAqB;oBACjC,aAAa,MAAM;oBACpB,OAAO,gBAAgB,CAAC,OAAO,CAAC;oBAAG;;;;;;;;;;;;;AAK9C;GAlDgB;KAAA"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/use-grid-navigation.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\"\n\nexport type ActiveGridCell = {\n  rowIndex: number\n  colIndex: number\n} | null\n\ninterface UseGridNavigationProps {\n  rowCount: number\n  colCount: number\n  isCellDisabled?: (rowIndex: number, colIndex: number) => boolean\n}\n\nconst getCellId = (rowIndex: number, colIndex: number) => `row-${rowIndex}-col-${colIndex}`\n\nexport function useGridNavigation({\n  rowCount,\n  colCount,\n  isCellDisabled,\n}: UseGridNavigationProps) {\n  const [activeCell, setActiveCell] = useState<ActiveGridCell>(null)\n  const [editingCell, setEditingCell] = useState<ActiveGridCell>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const isDisabled = useCallback(\n    (rowIndex: number, colIndex: number) => {\n      return isCellDisabled ? isCellDisabled(rowIndex, colIndex) : false\n    },\n    [isCellDisabled]\n  )\n\n  const focusCellElement = useCallback(\n    (rowIndex: number, colIndex: number) => {\n      const cellElement = containerRef.current?.querySelector(\n        `[data-cell-id=\"${getCellId(rowIndex, colIndex)}\"]`\n      ) as HTMLElement | null\n\n      if (!cellElement) return\n\n      const focusableElement = cellElement.querySelector('[data-cell-focus=\"true\"]') as HTMLElement | null\n      if (focusableElement) {\n        setTimeout(() => {\n          focusableElement.focus()\n        }, 10)\n      }\n\n      cellElement.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\",\n        inline: \"nearest\",\n      })\n    },\n    []\n  )\n\n  const moveToCell = useCallback(\n    (rowIndex: number, colIndex: number) => {\n      const clampedRowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1))\n      const clampedColIndex = Math.max(0, Math.min(colIndex, colCount - 1))\n\n      if (isDisabled(clampedRowIndex, clampedColIndex)) return\n\n      const nextCell: ActiveGridCell = {\n        rowIndex: clampedRowIndex,\n        colIndex: clampedColIndex,\n      }\n\n      setActiveCell(nextCell)\n      setTimeout(() => {\n        focusCellElement(clampedRowIndex, clampedColIndex)\n      }, 10)\n    },\n    [rowCount, colCount, isDisabled, focusCellElement]\n  )\n\n  const moveDirectional = useCallback(\n    (rowDelta: number, colDelta: number) => {\n      if (!activeCell) return\n      let rowIndex = activeCell.rowIndex + rowDelta\n      let colIndex = activeCell.colIndex + colDelta\n\n      while (rowIndex >= 0 && rowIndex < rowCount && colIndex >= 0 && colIndex < colCount) {\n        if (!isDisabled(rowIndex, colIndex)) {\n          moveToCell(rowIndex, colIndex)\n          return\n        }\n        rowIndex += rowDelta\n        colIndex += colDelta\n      }\n    },\n    [activeCell, rowCount, colCount, isDisabled, moveToCell]\n  )\n\n  const moveNext = useCallback(() => {\n    if (!activeCell) {\n      moveToCell(0, 0)\n      return\n    }\n\n    const startIndex = activeCell.rowIndex * colCount + activeCell.colIndex\n    for (let index = startIndex + 1; index < rowCount * colCount; index += 1) {\n      const rowIndex = Math.floor(index / colCount)\n      const colIndex = index % colCount\n      if (!isDisabled(rowIndex, colIndex)) {\n        moveToCell(rowIndex, colIndex)\n        return\n      }\n    }\n  }, [activeCell, rowCount, colCount, isDisabled, moveToCell])\n\n  const movePrevious = useCallback(() => {\n    if (!activeCell) {\n      moveToCell(0, 0)\n      return\n    }\n\n    const startIndex = activeCell.rowIndex * colCount + activeCell.colIndex\n    for (let index = startIndex - 1; index >= 0; index -= 1) {\n      const rowIndex = Math.floor(index / colCount)\n      const colIndex = index % colCount\n      if (!isDisabled(rowIndex, colIndex)) {\n        moveToCell(rowIndex, colIndex)\n        return\n      }\n    }\n  }, [activeCell, rowCount, colCount, isDisabled, moveToCell])\n\n  const startEditing = useCallback(() => {\n    if (!activeCell) return\n    setEditingCell(activeCell)\n\n    setTimeout(() => {\n      const cellElement = containerRef.current?.querySelector(\n        `[data-cell-id=\"${getCellId(activeCell.rowIndex, activeCell.colIndex)}\"]`\n      ) as HTMLElement | null\n\n      if (!cellElement) return\n\n      const selectTrigger = cellElement.querySelector('[data-slot=\"select-trigger\"]') as HTMLElement | null\n      if (selectTrigger) {\n        selectTrigger.click()\n        return\n      }\n\n      const input = cellElement.querySelector(\"input\") as HTMLInputElement | null\n      if (input) {\n        input.focus()\n        input.select()\n        return\n      }\n\n      const switchButton = cellElement.querySelector('button[role=\"switch\"]') as HTMLButtonElement | null\n      if (switchButton) {\n        switchButton.click()\n      }\n    }, 20)\n  }, [activeCell])\n\n  const stopEditing = useCallback(() => {\n    setEditingCell(null)\n  }, [])\n\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      const target = e.target as HTMLElement\n      const container = containerRef.current\n      const isWithinContainer = !!(container && target && container.contains(target))\n      const isSelectContent = target.closest('[data-slot=\"select-content\"]') !== null\n      if (!isWithinContainer && !isSelectContent) {\n        return\n      }\n      const isInput = target.tagName === \"INPUT\" || target.tagName === \"TEXTAREA\" || target.isContentEditable\n      const isSelect = target.closest('[data-slot=\"select\"]') !== null\n\n      if (e.key === \"Tab\") {\n        e.preventDefault()\n        e.stopPropagation()\n\n        if (editingCell) {\n          stopEditing()\n        }\n\n        if (e.shiftKey) {\n          movePrevious()\n        } else {\n          moveNext()\n        }\n        return\n      }\n\n      if (isInput || isSelect) return\n\n      switch (e.key) {\n        case \"ArrowUp\":\n          e.preventDefault()\n          moveDirectional(-1, 0)\n          break\n        case \"ArrowDown\":\n          e.preventDefault()\n          moveDirectional(1, 0)\n          break\n        case \"ArrowLeft\":\n          e.preventDefault()\n          moveDirectional(0, -1)\n          break\n        case \"ArrowRight\":\n          e.preventDefault()\n          moveDirectional(0, 1)\n          break\n        case \"Enter\":\n          e.preventDefault()\n          if (!editingCell) {\n            startEditing()\n          }\n          break\n        case \"Escape\":\n          if (editingCell) {\n            e.preventDefault()\n            stopEditing()\n          }\n          break\n      }\n    },\n    [editingCell, moveNext, movePrevious, moveDirectional, startEditing, stopEditing]\n  )\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown)\n    }\n  }, [handleKeyDown])\n\n  useEffect(() => {\n    const handlePointerDown = (event: PointerEvent) => {\n      const target = event.target as HTMLElement | null\n      const container = containerRef.current\n      if (!container || !target) return\n\n      const isWithinContainer = container.contains(target)\n      const isSelectContent = target.closest('[data-slot=\"select-content\"]') !== null\n\n      if (!isWithinContainer && !isSelectContent) {\n        setEditingCell(null)\n        setActiveCell(null)\n      }\n    }\n\n    window.addEventListener(\"pointerdown\", handlePointerDown)\n    return () => {\n      window.removeEventListener(\"pointerdown\", handlePointerDown)\n    }\n  }, [])\n\n  return {\n    activeCell,\n    editingCell,\n    moveToCell,\n    startEditing,\n    stopEditing,\n    containerRef,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 736, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/liability-coverage.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Label } from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport {\n  BODILY_INJURY_OPTIONS,\n  PROPERTY_DAMAGE_OPTIONS,\n  MEDICAL_PAYMENTS_OPTIONS,\n  UNINSURED_MOTORISTS_OPTIONS,\n  UNDERINSURED_MOTORISTS_OPTIONS,\n  LiabilityCoverage,\n  AdditionalCoverage,\n} from \"./types\"\nimport { Switch } from \"@novo/ui\"\nimport { PriceImpactIndicator } from \"./price-impact-indicator\"\nimport { CoverageData, PricingSummary } from \"./types\"\nimport { useGridNavigation } from \"./use-grid-navigation\"\nimport { cn } from \"@/shared/utils\"\n\ninterface LiabilityCoverageProps {\n  liability: LiabilityCoverage\n  additional: AdditionalCoverage\n  currentCoverage: CoverageData\n  pricing: PricingSummary\n  onLiabilityChange: (field: keyof LiabilityCoverage, value: string) => void\n  onAdditionalChange: (field: keyof AdditionalCoverage, value: string | boolean) => void\n}\n\nexport function LiabilityCoverageSection({\n  liability,\n  additional,\n  currentCoverage,\n  pricing,\n  onLiabilityChange,\n  onAdditionalChange,\n}: LiabilityCoverageProps) {\n  const [previewValue, setPreviewValue] = React.useState<{\n    field: string\n    value: string | boolean\n  } | null>(null)\n  const rowKeys = React.useMemo(\n    () => [\n      \"bodilyInjury\",\n      \"propertyDamage\",\n      \"medicalPayments\",\n      \"uninsuredMotoristsBodilyInjury\",\n      \"underinsuredMotoristsBodilyInjury\",\n      \"roadsideAssistance\",\n    ],\n    []\n  )\n\n  const { activeCell, containerRef, moveToCell, startEditing } = useGridNavigation({\n    rowCount: rowKeys.length,\n    colCount: 1,\n  })\n\n  const isActiveCell = (rowIndex: number) => activeCell?.rowIndex === rowIndex && activeCell?.colIndex === 0\n\n  const renderCell = (\n    rowIndex: number,\n    className: string,\n    children: React.ReactNode\n  ) => (\n    <div\n      data-cell-id={`row-${rowIndex}-col-0`}\n      className={cn(\n        \"relative\",\n        className,\n        isActiveCell(rowIndex) && \"ring-2 ring-primary ring-inset z-10\"\n      )}\n      onFocusCapture={() => moveToCell(rowIndex, 0)}\n      onClick={() => moveToCell(rowIndex, 0)}\n    >\n      <div\n        data-cell-focus=\"true\"\n        tabIndex={0}\n        className=\"flex items-center w-full outline-none\"\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            e.preventDefault()\n            startEditing()\n          }\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  )\n\n  const previewCoverage: CoverageData = React.useMemo(() => {\n    if (!previewValue) return currentCoverage\n\n    if (previewValue.field === \"bodilyInjury\" || previewValue.field === \"propertyDamage\") {\n      return {\n        ...currentCoverage,\n        liability: {\n          ...currentCoverage.liability,\n          [previewValue.field]: previewValue.value as string,\n        },\n      }\n    } else if (previewValue.field === \"medicalPayments\" || previewValue.field === \"uninsuredMotoristsBodilyInjury\" || previewValue.field === \"underinsuredMotoristsBodilyInjury\") {\n      return {\n        ...currentCoverage,\n        additional: {\n          ...currentCoverage.additional,\n          [previewValue.field]: previewValue.value as string,\n        },\n      }\n    } else {\n      return {\n        ...currentCoverage,\n        additional: {\n          ...currentCoverage.additional,\n          [previewValue.field]: previewValue.value,\n        },\n      }\n    }\n  }, [previewValue, currentCoverage])\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"border border-border rounded-lg overflow-hidden bg-background\">\n        <div ref={containerRef} className=\"grid grid-cols-[220px_1fr]\">\n          <div className=\"col-span-2 border-b border-border bg-muted/60 h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n            Liability Coverage\n          </div>\n          <div className=\"border-b border-r border-border h-[44px] px-4 flex items-center\">\n            <Label\n              htmlFor=\"bodily-injury\"\n              className=\"text-sm font-medium text-foreground\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Bodily Injury\n            </Label>\n          </div>\n          {renderCell(\n            0,\n            \"border-b border-border h-[44px] px-4 flex items-center\",\n            <>\n              {previewValue?.field === \"bodilyInjury\" && (\n                <div className=\"flex justify-end pb-2\">\n                  <PriceImpactIndicator\n                    currentCoverage={currentCoverage}\n                    newCoverage={previewCoverage}\n                    pricing={pricing}\n                  />\n                </div>\n              )}\n              <Select\n                value={liability.bodilyInjury}\n                onValueChange={(value) => {\n                  setPreviewValue(null)\n                  onLiabilityChange(\"bodilyInjury\", value)\n                }}\n                onOpenChange={(open) => {\n                  if (open) {\n                    setPreviewValue({ field: \"bodilyInjury\", value: liability.bodilyInjury })\n                  } else {\n                    setPreviewValue(null)\n                  }\n                }}\n              >\n                <SelectTrigger\n                  id=\"bodily-injury\"\n                  className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                >\n                  <SelectValue placeholder=\"Select coverage\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {BODILY_INJURY_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </>\n          )}\n\n          <div className=\"border-b border-r border-border h-[44px] px-4 flex items-center\">\n            <Label\n              htmlFor=\"property-damage\"\n              className=\"text-sm font-medium text-foreground\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Property Damage\n            </Label>\n          </div>\n          {renderCell(\n            1,\n            \"border-b border-border h-[44px] px-4 flex items-center\",\n            <>\n              {previewValue?.field === \"propertyDamage\" && (\n                <div className=\"flex justify-end pb-2\">\n                  <PriceImpactIndicator\n                    currentCoverage={currentCoverage}\n                    newCoverage={previewCoverage}\n                    pricing={pricing}\n                  />\n                </div>\n              )}\n              <Select\n                value={liability.propertyDamage}\n                onValueChange={(value) => {\n                  setPreviewValue(null)\n                  onLiabilityChange(\"propertyDamage\", value)\n                }}\n                onOpenChange={(open) => {\n                  if (open) {\n                    setPreviewValue({ field: \"propertyDamage\", value: liability.propertyDamage })\n                  } else {\n                    setPreviewValue(null)\n                  }\n                }}\n              >\n                <SelectTrigger\n                  id=\"property-damage\"\n                  className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                >\n                  <SelectValue placeholder=\"Select coverage\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {PROPERTY_DAMAGE_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </>\n          )}\n\n          <div className=\"col-span-2 border-b border-border bg-muted/60 h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n            Additional Coverage\n          </div>\n          <div className=\"border-b border-r border-border h-[44px] px-4 flex items-center\">\n            <Label\n              htmlFor=\"medical-payments\"\n              className=\"text-sm font-medium text-foreground\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Medical Payments\n            </Label>\n          </div>\n          {renderCell(\n            2,\n            \"border-b border-border h-[44px] px-4 flex items-center\",\n            <>\n              {previewValue?.field === \"medicalPayments\" && (\n                <div className=\"flex justify-end pb-2\">\n                  <PriceImpactIndicator\n                    currentCoverage={currentCoverage}\n                    newCoverage={previewCoverage}\n                    pricing={pricing}\n                  />\n                </div>\n              )}\n              <Select\n                value={additional.medicalPayments}\n                onValueChange={(value) => {\n                  setPreviewValue(null)\n                  onAdditionalChange(\"medicalPayments\", value)\n                }}\n                onOpenChange={(open) => {\n                  if (open) {\n                    setPreviewValue({ field: \"medicalPayments\", value: additional.medicalPayments })\n                  } else {\n                    setPreviewValue(null)\n                  }\n                }}\n              >\n                <SelectTrigger\n                  id=\"medical-payments\"\n                  className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                >\n                  <SelectValue placeholder=\"Select coverage\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {MEDICAL_PAYMENTS_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </>\n          )}\n\n          <div className=\"border-b border-r border-border h-[44px] px-4 flex items-center\">\n            <Label\n              htmlFor=\"uninsured-motorists-bi\"\n              className=\"text-sm font-medium text-foreground\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Uninsured Motorists Bodily Injury\n            </Label>\n          </div>\n          {renderCell(\n            3,\n            \"border-b border-border h-[44px] px-4 flex items-center\",\n            <>\n              {previewValue?.field === \"uninsuredMotoristsBodilyInjury\" && (\n                <div className=\"flex justify-end pb-2\">\n                  <PriceImpactIndicator\n                    currentCoverage={currentCoverage}\n                    newCoverage={previewCoverage}\n                    pricing={pricing}\n                  />\n                </div>\n              )}\n              <Select\n                value={additional.uninsuredMotoristsBodilyInjury}\n                onValueChange={(value) => {\n                  setPreviewValue(null)\n                  onAdditionalChange(\"uninsuredMotoristsBodilyInjury\", value)\n                }}\n                onOpenChange={(open) => {\n                  if (open) {\n                    setPreviewValue({\n                      field: \"uninsuredMotoristsBodilyInjury\",\n                      value: additional.uninsuredMotoristsBodilyInjury,\n                    })\n                  } else {\n                    setPreviewValue(null)\n                  }\n                }}\n              >\n                <SelectTrigger\n                  id=\"uninsured-motorists-bi\"\n                  className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                >\n                  <SelectValue placeholder=\"Select coverage\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {UNINSURED_MOTORISTS_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </>\n          )}\n\n          <div className=\"border-b border-r border-border h-[44px] px-4 flex items-center\">\n            <Label\n              htmlFor=\"underinsured-motorists-bi\"\n              className=\"text-sm font-medium text-foreground\"\n              style={{ fontFamily: \"Inter, sans-serif\" }}\n            >\n              Underinsured Motorists Bodily Injury\n            </Label>\n          </div>\n          {renderCell(\n            4,\n            \"border-b border-border h-[44px] px-4 flex items-center\",\n            <>\n              {previewValue?.field === \"underinsuredMotoristsBodilyInjury\" && (\n                <div className=\"flex justify-end pb-2\">\n                  <PriceImpactIndicator\n                    currentCoverage={currentCoverage}\n                    newCoverage={previewCoverage}\n                    pricing={pricing}\n                  />\n                </div>\n              )}\n              <Select\n                value={additional.underinsuredMotoristsBodilyInjury || \"Not Included\"}\n                onValueChange={(value) => {\n                  setPreviewValue(null)\n                  onAdditionalChange(\"underinsuredMotoristsBodilyInjury\", value)\n                }}\n                onOpenChange={(open) => {\n                  if (open) {\n                    setPreviewValue({\n                      field: \"underinsuredMotoristsBodilyInjury\",\n                      value: additional.underinsuredMotoristsBodilyInjury || \"Not Included\",\n                    })\n                  } else {\n                    setPreviewValue(null)\n                  }\n                }}\n              >\n                <SelectTrigger\n                  id=\"underinsured-motorists-bi\"\n                  className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                >\n                  <SelectValue placeholder=\"Select coverage\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {UNDERINSURED_MOTORISTS_OPTIONS.map((option) => (\n                    <SelectItem key={option} value={option}>\n                      {option}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </>\n          )}\n\n          <div className=\"border-r border-border h-[64px] px-4 flex items-center\">\n            <div className=\"space-y-1\">\n              <Label\n                htmlFor=\"roadside-assistance\"\n                className=\"text-sm font-medium text-foreground cursor-pointer\"\n                style={{ fontFamily: \"Inter, sans-serif\" }}\n              >\n                Roadside Assistance\n              </Label>\n              <p\n                className=\"text-xs text-muted-foreground\"\n                style={{ fontFamily: \"Inter, sans-serif\" }}\n              >\n                24/7 towing, battery jump, flat tire, lockout service\n              </p>\n            </div>\n          </div>\n          {renderCell(\n            5,\n            \"h-[64px] px-4 flex items-center\",\n            <>\n              {previewValue?.field === \"roadsideAssistance\" && (\n                <div className=\"flex justify-end pb-2\">\n                  <PriceImpactIndicator\n                    currentCoverage={currentCoverage}\n                    newCoverage={previewCoverage}\n                    pricing={pricing}\n                  />\n                </div>\n              )}\n              <Switch\n                id=\"roadside-assistance\"\n                checked={additional.roadsideAssistance || false}\n                onCheckedChange={(checked) => {\n                  setPreviewValue({ field: \"roadsideAssistance\", value: checked })\n                  setTimeout(() => {\n                    setPreviewValue(null)\n                    onAdditionalChange(\"roadsideAssistance\", checked)\n                  }, 100)\n                }}\n              />\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1426, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/vehicle-logo.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Car } from \"lucide-react\"\n\ninterface VehicleLogoProps {\n  make: string\n  className?: string\n}\n\n// Simple vehicle logo component - can be enhanced with actual logos later\nexport function VehicleLogo({ make, className }: VehicleLogoProps) {\n  // For now, use a simple icon. In production, you'd use actual brand logos\n  const makeLower = make.toLowerCase()\n  \n  // Return brand-specific styling or icon if available\n  // For now, just use a car icon with brand name\n  return (\n    <div className={`flex items-center justify-center ${className || ''}`}>\n      <Car className=\"h-5 w-5 text-muted-foreground\" />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAWO,SAAS,YAAY,EAAE,IAAI,EAAE,SAAS,EAAoB;IAC/D,0EAA0E;IAC1E,MAAM,YAAY,KAAK,WAAW;IAElC,qDAAqD;IACrD,+CAA+C;IAC/C,qBACE,6LAAC;QAAI,WAAW,CAAC,iCAAiC,EAAE,aAAa,IAAI;kBACnE,cAAA,6LAAC,0MAAG;YAAC,WAAU;;;;;;;;;;;AAGrB;KAXgB"}},
    {"offset": {"line": 1465, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/bulk-vehicle-actions.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@novo/ui\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n  DropdownMenuItem,\n} from \"@novo/ui\"\nimport { Checkbox } from \"@novo/ui\"\nimport { Label } from \"@novo/ui\"\nimport { MoreVertical, CheckSquare, Square } from \"lucide-react\"\nimport { Vehicle } from \"@/screens/components/vehicles-table/types\"\nimport { VehicleCoverage, COMPREHENSIVE_DEDUCTIBLE_OPTIONS } from \"./types\"\nimport { cn } from \"@/shared/utils\"\n\ninterface BulkVehicleActionsProps {\n  vehicles: Vehicle[]\n  vehicleCoverages: VehicleCoverage[]\n  selectedVehicleIds: Set<string>\n  onSelectAll: () => void\n  onDeselectAll: () => void\n  onToggleVehicle: (vehicleId: string) => void\n  onBulkUpdate: (\n    vehicleIds: string[],\n    field: keyof VehicleCoverage,\n    value: any\n  ) => void\n}\n\nexport function BulkVehicleActions({\n  vehicles,\n  vehicleCoverages,\n  selectedVehicleIds,\n  onSelectAll,\n  onDeselectAll,\n  onToggleVehicle,\n  onBulkUpdate,\n}: BulkVehicleActionsProps) {\n  const [isOpen, setIsOpen] = React.useState(false)\n  const selectedCount = selectedVehicleIds.size\n  const allSelected = vehicles.length > 0 && selectedVehicleIds.size === vehicles.length\n\n  const handleBulkDeductible = (deductible: string) => {\n    const ids = Array.from(selectedVehicleIds)\n    onBulkUpdate(ids, \"comprehensiveDeductible\", deductible)\n    setIsOpen(false)\n  }\n\n  const handleBulkToggle = (field: keyof VehicleCoverage, value: boolean) => {\n    const ids = Array.from(selectedVehicleIds)\n    onBulkUpdate(ids, field, value)\n    setIsOpen(false)\n  }\n\n  if (vehicles.length === 0 || vehicles.length <= 2) return null\n\n  return (\n    <div className=\"flex items-center justify-between mb-4 p-3 border rounded-lg bg-muted/30\">\n      <div className=\"flex items-center gap-3\">\n        <Checkbox\n          checked={allSelected}\n          onCheckedChange={(checked) => {\n            if (checked) {\n              onSelectAll()\n            } else {\n              onDeselectAll()\n            }\n          }}\n        />\n        <Label className=\"text-sm font-medium cursor-pointer\">\n          {selectedCount > 0\n            ? `${selectedCount} vehicle${selectedCount > 1 ? \"s\" : \"\"} selected`\n            : \"Select vehicles for bulk actions\"}\n        </Label>\n      </div>\n\n      {selectedCount > 0 && (\n        <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n              <MoreVertical className=\"h-4 w-4\" />\n              Apply to Selected\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\" className=\"w-56\">\n            <DropdownMenuLabel>Bulk Actions</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n\n            <DropdownMenuLabel className=\"text-xs text-muted-foreground font-normal\">\n              Comprehensive Deductible\n            </DropdownMenuLabel>\n            {COMPREHENSIVE_DEDUCTIBLE_OPTIONS.map((deductible) => (\n              <DropdownMenuItem\n                key={deductible}\n                onClick={() => handleBulkDeductible(deductible)}\n              >\n                {deductible}\n              </DropdownMenuItem>\n            ))}\n\n            <DropdownMenuSeparator />\n            <DropdownMenuLabel className=\"text-xs text-muted-foreground font-normal\">\n              Add-ons\n            </DropdownMenuLabel>\n            <DropdownMenuItem onClick={() => handleBulkToggle(\"glassDeductible\", true)}>\n              Enable Glass Deductible\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleBulkToggle(\"glassDeductible\", false)}>\n              Disable Glass Deductible\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleBulkToggle(\"loanLeasePayoff\", true)}>\n              Enable Loan/Lease Payoff\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleBulkToggle(\"loanLeasePayoff\", false)}>\n              Disable Loan/Lease Payoff\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleBulkToggle(\"customPartsEquipment\", true)}>\n              Enable Custom Parts\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleBulkToggle(\"customPartsEquipment\", false)}>\n              Disable Custom Parts\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAQA;AACA;AACA;AAEA;;;AAhBA;;;;;;;;AAiCO,SAAS,mBAAmB,EACjC,QAAQ,EACR,gBAAgB,EAChB,kBAAkB,EAClB,WAAW,EACX,aAAa,EACb,eAAe,EACf,YAAY,EACY;;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,yKAAc,CAAC;IAC3C,MAAM,gBAAgB,mBAAmB,IAAI;IAC7C,MAAM,cAAc,SAAS,MAAM,GAAG,KAAK,mBAAmB,IAAI,KAAK,SAAS,MAAM;IAEtF,MAAM,uBAAuB,CAAC;QAC5B,MAAM,MAAM,MAAM,IAAI,CAAC;QACvB,aAAa,KAAK,2BAA2B;QAC7C,UAAU;IACZ;IAEA,MAAM,mBAAmB,CAAC,OAA8B;QACtD,MAAM,MAAM,MAAM,IAAI,CAAC;QACvB,aAAa,KAAK,OAAO;QACzB,UAAU;IACZ;IAEA,IAAI,SAAS,MAAM,KAAK,KAAK,SAAS,MAAM,IAAI,GAAG,OAAO;IAE1D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAQ;wBACP,SAAS;wBACT,iBAAiB,CAAC;4BAChB,IAAI,SAAS;gCACX;4BACF,OAAO;gCACL;4BACF;wBACF;;;;;;kCAEF,6LAAC,yJAAK;wBAAC,WAAU;kCACd,gBAAgB,IACb,GAAG,cAAc,QAAQ,EAAE,gBAAgB,IAAI,MAAM,GAAG,SAAS,CAAC,GAClE;;;;;;;;;;;;YAIP,gBAAgB,mBACf,6LAAC,2KAAY;gBAAC,MAAM;gBAAQ,cAAc;;kCACxC,6LAAC,kLAAmB;wBAAC,OAAO;kCAC1B,cAAA,6LAAC,2JAAM;4BAAC,SAAQ;4BAAU,MAAK;4BAAK,WAAU;;8CAC5C,6LAAC,6OAAY;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAIxC,6LAAC,kLAAmB;wBAAC,OAAM;wBAAM,WAAU;;0CACzC,6LAAC,gLAAiB;0CAAC;;;;;;0CACnB,6LAAC,oLAAqB;;;;;0CAEtB,6LAAC,gLAAiB;gCAAC,WAAU;0CAA4C;;;;;;4BAGxE,0MAAgC,CAAC,GAAG,CAAC,CAAC,2BACrC,6LAAC,+KAAgB;oCAEf,SAAS,IAAM,qBAAqB;8CAEnC;mCAHI;;;;;0CAOT,6LAAC,oLAAqB;;;;;0CACtB,6LAAC,gLAAiB;gCAAC,WAAU;0CAA4C;;;;;;0CAGzE,6LAAC,+KAAgB;gCAAC,SAAS,IAAM,iBAAiB,mBAAmB;0CAAO;;;;;;0CAG5E,6LAAC,+KAAgB;gCAAC,SAAS,IAAM,iBAAiB,mBAAmB;0CAAQ;;;;;;0CAG7E,6LAAC,+KAAgB;gCAAC,SAAS,IAAM,iBAAiB,mBAAmB;0CAAO;;;;;;0CAG5E,6LAAC,+KAAgB;gCAAC,SAAS,IAAM,iBAAiB,mBAAmB;0CAAQ;;;;;;0CAG7E,6LAAC,+KAAgB;gCAAC,SAAS,IAAM,iBAAiB,wBAAwB;0CAAO;;;;;;0CAGjF,6LAAC,+KAAgB;gCAAC,SAAS,IAAM,iBAAiB,wBAAwB;0CAAQ;;;;;;;;;;;;;;;;;;;;;;;;AAQ9F;GAlGgB;KAAA"}},
    {"offset": {"line": 1691, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/vehicle-coverage.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Switch } from \"@novo/ui\"\nimport { Checkbox } from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport { VehicleLogo } from \"./vehicle-logo\"\nimport { Vehicle } from \"@/screens/components/vehicles-table/types\"\nimport { VehicleCoverage, COMPREHENSIVE_DEDUCTIBLE_OPTIONS, COLLISION_DEDUCTIBLE_OPTIONS } from \"./types\"\nimport { BulkVehicleActions } from \"./bulk-vehicle-actions\"\nimport { Input } from \"@novo/ui\"\nimport { cn } from \"@/shared/utils\"\nimport { useGridNavigation } from \"./use-grid-navigation\"\n\ninterface VehicleCoverageSectionProps {\n  vehicles: Vehicle[]\n  vehicleCoverages: VehicleCoverage[]\n  onVehicleCoverageChange: (vehicleId: string, field: keyof VehicleCoverage, value: any) => void\n  onBulkUpdate?: (vehicleIds: string[], field: keyof VehicleCoverage, value: any) => void\n}\n\nexport function VehicleCoverageSection({\n  vehicles,\n  vehicleCoverages,\n  onVehicleCoverageChange,\n  onBulkUpdate,\n}: VehicleCoverageSectionProps) {\n  const [selectedVehicleIds, setSelectedVehicleIds] = React.useState<Set<string>>(new Set())\n  const coverageRowKeys = React.useMemo(\n    () => [\n      \"comprehensiveDeductible\",\n      \"collisionDeductible\",\n      \"rentalReimbursement\",\n      \"glassDeductible\",\n      \"loanLeasePayoff\",\n      \"customPartsEquipment\",\n      \"customPartsAmount\",\n    ],\n    []\n  )\n\n  const getCoverageByColumnIndex = (colIndex: number) => {\n    const vehicle = vehicles[colIndex]\n    if (!vehicle) return null\n    const coverage = getVehicleCoverage(vehicle.id)\n    if (!coverage) return null\n    return { vehicle, coverage }\n  }\n\n  const isCellDisabled = (rowIndex: number, colIndex: number) => {\n    const rowKey = coverageRowKeys[rowIndex]\n    const data = getCoverageByColumnIndex(colIndex)\n    if (!data) return true\n    const { coverage } = data\n\n    if (rowKey === \"rentalReimbursement\" || rowKey === \"glassDeductible\" || rowKey === \"customPartsEquipment\") {\n      return !hasCompOrColl(coverage)\n    }\n\n    if (rowKey === \"customPartsAmount\") {\n      return !hasCompOrColl(coverage) || !coverage.customPartsEquipment\n    }\n\n    return false\n  }\n\n  const { activeCell, containerRef, moveToCell, startEditing } = useGridNavigation({\n    rowCount: coverageRowKeys.length,\n    colCount: vehicles.length,\n    isCellDisabled,\n  })\n\n  const isActiveCell = (rowIndex: number, colIndex: number) =>\n    activeCell?.rowIndex === rowIndex && activeCell?.colIndex === colIndex\n\n  const renderCell = (\n    rowIndex: number,\n    colIndex: number,\n    className: string,\n    children: React.ReactNode,\n    disabled = false\n  ) => (\n    <div\n      data-cell-id={`row-${rowIndex}-col-${colIndex}`}\n      className={cn(\n        \"relative\",\n        className,\n        isActiveCell(rowIndex, colIndex) && \"ring-2 ring-primary ring-inset z-10\"\n      )}\n      onFocusCapture={() => moveToCell(rowIndex, colIndex)}\n      onClick={() => moveToCell(rowIndex, colIndex)}\n    >\n      <div\n        data-cell-focus=\"true\"\n        tabIndex={0}\n        className={cn(\"flex items-center w-full outline-none\", disabled && \"cursor-not-allowed\")}\n        aria-disabled={disabled ? \"true\" : \"false\"}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            e.preventDefault()\n            startEditing()\n          }\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  )\n\n  const getVehicleCoverage = (vehicleId: string): VehicleCoverage | undefined => {\n    return vehicleCoverages.find((vc) => vc.vehicleId === vehicleId)\n  }\n\n  const getVehicleDisplayName = (vehicle: Vehicle): string => {\n    return `${vehicle.year} ${vehicle.make} ${vehicle.model}`.trim()\n  }\n\n  const handleSelectAll = () => {\n    setSelectedVehicleIds(new Set(vehicles.map((v) => v.id)))\n  }\n\n  const handleDeselectAll = () => {\n    setSelectedVehicleIds(new Set())\n  }\n\n  const handleToggleVehicle = (vehicleId: string) => {\n    setSelectedVehicleIds((prev) => {\n      const next = new Set(prev)\n      if (next.has(vehicleId)) {\n        next.delete(vehicleId)\n      } else {\n        next.add(vehicleId)\n      }\n      return next\n    })\n  }\n\n  const handleBulkUpdate = (vehicleIds: string[], field: keyof VehicleCoverage, value: any) => {\n    vehicleIds.forEach((vehicleId) => {\n      onVehicleCoverageChange(vehicleId, field, value)\n    })\n    setSelectedVehicleIds(new Set()) // Clear selection after bulk update\n    onBulkUpdate?.(vehicleIds, field, value)\n  }\n\n  // Helper to check if comp/coll are both removed\n  const hasCompOrColl = (coverage: VehicleCoverage): boolean => {\n    const hasComp = coverage.comprehensiveDeductible !== \"Not Included\" && coverage.comprehensiveDeductible !== undefined\n    const hasColl = coverage.collisionDeductible !== \"Not Included\" && coverage.collisionDeductible !== undefined\n    return hasComp || hasColl\n  }\n\n  // Handle comprehensive change - auto-add collision if comprehensive is added\n  const handleComprehensiveChange = (vehicleId: string, value: string) => {\n    const coverage = getVehicleCoverage(vehicleId)\n    if (!coverage) return\n\n    onVehicleCoverageChange(vehicleId, \"comprehensiveDeductible\", value)\n\n    // If comprehensive is added and collision is not set or is \"Not Included\", auto-add collision\n    if (value !== \"Not Included\" && (!coverage.collisionDeductible || coverage.collisionDeductible === \"Not Included\")) {\n      onVehicleCoverageChange(vehicleId, \"collisionDeductible\", value)\n    }\n\n    // If comprehensive is removed, remove collision and disable dependent fields\n    if (value === \"Not Included\") {\n      if (coverage.collisionDeductible !== \"Not Included\") {\n        onVehicleCoverageChange(vehicleId, \"collisionDeductible\", \"Not Included\")\n      }\n      if (coverage.rentalReimbursement) {\n        onVehicleCoverageChange(vehicleId, \"rentalReimbursement\", false)\n      }\n      if (coverage.glassDeductible) {\n        onVehicleCoverageChange(vehicleId, \"glassDeductible\", false)\n      }\n      if (coverage.customPartsEquipment) {\n        onVehicleCoverageChange(vehicleId, \"customPartsEquipment\", false)\n      }\n    }\n  }\n\n  // Handle collision change - match comprehensive or remove dependent fields if removed\n  const handleCollisionChange = (vehicleId: string, value: string) => {\n    const coverage = getVehicleCoverage(vehicleId)\n    if (!coverage) return\n\n    onVehicleCoverageChange(vehicleId, \"collisionDeductible\", value)\n\n    // If collision is removed, remove comprehensive and disable dependent fields\n    if (value === \"Not Included\") {\n      if (coverage.comprehensiveDeductible !== \"Not Included\") {\n        onVehicleCoverageChange(vehicleId, \"comprehensiveDeductible\", \"Not Included\")\n      }\n      if (coverage.rentalReimbursement) {\n        onVehicleCoverageChange(vehicleId, \"rentalReimbursement\", false)\n      }\n      if (coverage.glassDeductible) {\n        onVehicleCoverageChange(vehicleId, \"glassDeductible\", false)\n      }\n      if (coverage.customPartsEquipment) {\n        onVehicleCoverageChange(vehicleId, \"customPartsEquipment\", false)\n      }\n    } else {\n      // If collision is added, match comprehensive deductible\n      if (coverage.comprehensiveDeductible === \"Not Included\" || coverage.comprehensiveDeductible === undefined) {\n        onVehicleCoverageChange(vehicleId, \"comprehensiveDeductible\", value)\n      }\n    }\n  }\n\n  // Format currency input\n  const formatCurrency = (value: number | undefined): string => {\n    if (value === undefined || value === null) return \"$0\"\n    return `$${value.toLocaleString()}`\n  }\n\n  // Parse currency input\n  const parseCurrency = (value: string): number => {\n    const cleaned = value.replace(/[^0-9]/g, \"\")\n    return cleaned ? parseInt(cleaned, 10) : 0\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {vehicles.length === 0 ? (\n        <div className=\"text-center py-8 text-muted-foreground\">\n          <p className=\"text-sm\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n            No vehicles added yet. Please add vehicles in the Vehicles step.\n          </p>\n        </div>\n      ) : (\n        <>\n          {onBulkUpdate && (\n            <BulkVehicleActions\n              vehicles={vehicles}\n              vehicleCoverages={vehicleCoverages}\n              selectedVehicleIds={selectedVehicleIds}\n              onSelectAll={handleSelectAll}\n              onDeselectAll={handleDeselectAll}\n              onToggleVehicle={handleToggleVehicle}\n              onBulkUpdate={handleBulkUpdate}\n            />\n          )}\n          <div className=\"border border-border rounded-lg overflow-hidden bg-background\">\n            <div className=\"overflow-x-auto\">\n              <div\n                ref={containerRef}\n                className=\"min-w-[720px]\"\n                style={{\n                  display: \"grid\",\n                  gridTemplateColumns: `minmax(220px, 260px) repeat(${vehicles.length}, minmax(220px, 1fr))`,\n                }}\n              >\n                <div className=\"contents\">\n                  <div className=\"sticky left-0 top-0 z-30 border-b border-r border-border bg-muted/60 h-[64px] px-4 flex items-center text-sm font-medium text-foreground\">\n                    Coverage Type\n                  </div>\n                  {vehicles.map((vehicle, index) => {\n                    const isSelected = selectedVehicleIds.has(vehicle.id)\n                    return (\n                      <div\n                        key={`header-${vehicle.id}`}\n                        className={cn(\n                          \"sticky top-0 z-20 border-b border-border bg-muted/60 h-[64px] px-4 flex items-center\",\n                          index < vehicles.length - 1 && \"border-r border-border\",\n                          isSelected && \"ring-2 ring-primary ring-inset\"\n                        )}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          {onBulkUpdate && (\n                            <Checkbox\n                              checked={isSelected}\n                              onCheckedChange={() => handleToggleVehicle(vehicle.id)}\n                            />\n                          )}\n                          <VehicleLogo make={vehicle.make} />\n                          <div className=\"space-y-0.5\">\n                            <div\n                              className=\"text-sm font-medium text-foreground\"\n                              style={{ fontFamily: \"Inter, sans-serif\" }}\n                            >\n                              {getVehicleDisplayName(vehicle)}\n                            </div>\n                            <div className=\"text-xs text-muted-foreground\">\n                              {vehicle.vin || \"VIN not provided\"}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )\n                  })}\n                </div>\n\n                {/* Comprehensive Deductible */}\n                <div className=\"sticky left-0 z-10 border-b border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  Comprehensive Deductible\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  return renderCell(\n                    0,\n                    index,\n                    cn(\n                      \"border-b border-border h-[44px] px-4 flex items-center\",\n                      index < vehicles.length - 1 && \"border-r border-border\"\n                    ),\n                    <Select\n                      value={coverage.comprehensiveDeductible || \"Not Included\"}\n                      onValueChange={(value) => handleComprehensiveChange(vehicle.id, value)}\n                    >\n                      <SelectTrigger\n                        id={`comprehensive-${vehicle.id}`}\n                        className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                      >\n                        <SelectValue placeholder=\"Select deductible\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {COMPREHENSIVE_DEDUCTIBLE_OPTIONS.map((option) => (\n                          <SelectItem key={option} value={option}>\n                            {option === \"Not Included\" ? \"Not Included\" : `${option} deductible`}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )\n                })}\n\n                {/* Collision Deductible */}\n                <div className=\"sticky left-0 z-10 border-b border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  Collision Deductible\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  return renderCell(\n                    1,\n                    index,\n                    cn(\n                      \"border-b border-border h-[44px] px-4 flex items-center\",\n                      index < vehicles.length - 1 && \"border-r border-border\"\n                    ),\n                    <Select\n                      value={coverage.collisionDeductible || \"Not Included\"}\n                      onValueChange={(value) => handleCollisionChange(vehicle.id, value)}\n                    >\n                      <SelectTrigger\n                        id={`collision-${vehicle.id}`}\n                        className=\"w-full border-0 bg-transparent px-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                      >\n                        <SelectValue placeholder=\"Select deductible\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {COLLISION_DEDUCTIBLE_OPTIONS.map((option) => (\n                          <SelectItem key={option} value={option}>\n                            {option === \"Not Included\" ? \"Not Included\" : `${option} deductible`}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )\n                })}\n\n                {/* Rental Reimbursement */}\n                <div className=\"sticky left-0 z-10 border-b border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  Rental Reimbursement\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  const disabled = !hasCompOrColl(coverage)\n                  return renderCell(\n                    2,\n                    index,\n                    cn(\n                      \"border-b border-border h-[44px] px-4 flex items-center\",\n                      index < vehicles.length - 1 && \"border-r border-border\",\n                      disabled && \"opacity-50\"\n                    ),\n                    <Switch\n                      id={`rental-${vehicle.id}`}\n                      checked={coverage.rentalReimbursement || false}\n                      disabled={disabled}\n                      onCheckedChange={(checked) =>\n                        onVehicleCoverageChange(vehicle.id, \"rentalReimbursement\", checked)\n                      }\n                    />,\n                    disabled\n                  )\n                })}\n\n                {/* Glass Deductible */}\n                <div className=\"sticky left-0 z-10 border-b border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  $0 Glass Deductible\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  const disabled = !hasCompOrColl(coverage)\n                  return renderCell(\n                    3,\n                    index,\n                    cn(\n                      \"border-b border-border h-[44px] px-4 flex items-center\",\n                      index < vehicles.length - 1 && \"border-r border-border\",\n                      disabled && \"opacity-50\"\n                    ),\n                    <Switch\n                      id={`glass-${vehicle.id}`}\n                      checked={coverage.glassDeductible}\n                      disabled={disabled}\n                      onCheckedChange={(checked) =>\n                        onVehicleCoverageChange(vehicle.id, \"glassDeductible\", checked)\n                      }\n                      className=\"data-[state=checked]:bg-blue-600\"\n                    />,\n                    disabled\n                  )\n                })}\n\n                {/* Loan/Lease Payoff */}\n                <div className=\"sticky left-0 z-10 border-b border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  Loan/Lease Payoff\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  return renderCell(\n                    4,\n                    index,\n                    cn(\n                      \"border-b border-border h-[44px] px-4 flex items-center\",\n                      index < vehicles.length - 1 && \"border-r border-border\"\n                    ),\n                    <Switch\n                      id={`loan-lease-${vehicle.id}`}\n                      checked={coverage.loanLeasePayoff}\n                      onCheckedChange={(checked) =>\n                        onVehicleCoverageChange(vehicle.id, \"loanLeasePayoff\", checked)\n                      }\n                    />\n                  )\n                })}\n\n                {/* Custom Parts and Equipment */}\n                <div className=\"sticky left-0 z-10 border-b border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  Custom Parts and Equipment\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  const disabled = !hasCompOrColl(coverage)\n                  return renderCell(\n                    5,\n                    index,\n                    cn(\n                      \"border-b border-border h-[44px] px-4 flex items-center\",\n                      index < vehicles.length - 1 && \"border-r border-border\",\n                      disabled && \"opacity-50\"\n                    ),\n                    <Switch\n                      id={`custom-parts-${vehicle.id}`}\n                      checked={coverage.customPartsEquipment}\n                      disabled={disabled}\n                      onCheckedChange={(checked) =>\n                        onVehicleCoverageChange(vehicle.id, \"customPartsEquipment\", checked)\n                      }\n                    />,\n                    disabled\n                  )\n                })}\n\n                {/* Custom Parts Amount */}\n                <div className=\"sticky left-0 z-10 border-r border-border bg-background h-[44px] px-4 flex items-center text-sm font-medium text-foreground\">\n                  Custom Parts Amount\n                </div>\n                {vehicles.map((vehicle, index) => {\n                  const coverage = getVehicleCoverage(vehicle.id)\n                  if (!coverage) return null\n                  const disabled = !hasCompOrColl(coverage) || !coverage.customPartsEquipment\n                  return renderCell(\n                    6,\n                    index,\n                    cn(\"h-[44px] px-4 flex items-center\", index < vehicles.length - 1 && \"border-r border-border\"),\n                    <Input\n                      id={`custom-parts-amount-${vehicle.id}`}\n                      type=\"text\"\n                      value={formatCurrency(coverage.customPartsAmount)}\n                      onChange={(e) => {\n                        const value = parseCurrency(e.target.value)\n                        onVehicleCoverageChange(vehicle.id, \"customPartsAmount\", value)\n                      }}\n                      placeholder=\"$0\"\n                      className=\"w-full border-0 bg-transparent px-0 focus-visible:ring-0 focus-visible:ring-offset-0\"\n                      disabled={disabled}\n                    />,\n                    disabled\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2273, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/pricing-summary.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@novo/ui\"\nimport { Label } from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport { Card, CardContent } from \"@novo/ui\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@novo/ui\"\nimport { Download, Check, ChevronDown, ChevronUp, AlertTriangle } from \"lucide-react\"\nimport { CoverageData, PricingSummary } from \"./types\"\nimport { PRICING_PLANS, calculatePlanPricing } from \"./pricing-calculator\"\nimport { format } from \"date-fns\"\nimport { Alert, AlertDescription } from \"@novo/ui\"\nimport { useQuote } from \"@/app/quote-context\"\nimport { cn } from \"@/shared/utils\"\nimport { getUnbindableImportCount, isQuoteUnbindable } from \"@/shared/quote-binding\"\n\ninterface PricingSummarySectionProps {\n  coverage: CoverageData\n  pricing: PricingSummary\n  onPricingChange: (field: keyof PricingSummary, value: any) => void\n  onCollectPayment: () => void\n  onDownloadPDF: () => void\n}\n\nexport function PricingSummarySection({\n  coverage,\n  pricing,\n  onPricingChange,\n  onCollectPayment,\n  onDownloadPDF,\n}: PricingSummarySectionProps) {\n  const { quoteData, setCurrentStep } = useQuote()\n  const [isPlanDetailsExpanded, setIsPlanDetailsExpanded] = React.useState(false)\n  \n  const calculatedPricing = calculatePlanPricing(\n    pricing.selectedPlanId,\n    coverage,\n    pricing.paymentFrequency\n  )\n\n  const selectedPlan = PRICING_PLANS.find((p) => p.id === pricing.selectedPlanId) || PRICING_PLANS[0]\n\n  // Check for unresolved import summary items\n  // Unresolved = items with checked: false OR items with error/warning severity (UW block)\n  const hasUnresolvedItems = React.useMemo(() => {\n    return isQuoteUnbindable(quoteData.importSummary)\n  }, [quoteData.importSummary])\n\n  const unresolvedCount = React.useMemo(() => {\n    return getUnbindableImportCount(quoteData.importSummary)\n  }, [quoteData.importSummary])\n\n  const handleJumpToImportSummary = () => {\n    setCurrentStep(\"import-summary\")\n  }\n\n  // Generate start date options (next 30 days)\n  const startDateOptions = React.useMemo(() => {\n    const dates: string[] = []\n    const today = new Date()\n    for (let i = 0; i < 30; i++) {\n      const date = new Date(today)\n      date.setDate(today.getDate() + i)\n      dates.push(date.toISOString().split(\"T\")[0])\n    }\n    return dates\n  }, [])\n\n  const formatDate = (dateString: string): string => {\n    try {\n      const date = new Date(dateString)\n      return format(date, \"MM/dd/yyyy\")\n    } catch {\n      return dateString\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Plan Options */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-sm font-medium text-foreground\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n          Plan Options\n        </Label>\n        <div className=\"flex flex-wrap items-center gap-1 rounded-lg border bg-muted/40 p-1\">\n          {PRICING_PLANS.map((plan) => {\n            const isSelected = plan.id === pricing.selectedPlanId\n            const planPricing = calculatePlanPricing(plan.id, coverage, pricing.paymentFrequency)\n\n            return (\n              <button\n                key={plan.id}\n                onClick={() => onPricingChange(\"selectedPlanId\", plan.id)}\n                className={cn(\n                  \"flex flex-1 items-center justify-between gap-2 rounded-md px-3 py-2 text-left text-sm transition\",\n                  isSelected\n                    ? \"bg-background text-foreground shadow-sm ring-1 ring-purple-500/50\"\n                    : \"text-muted-foreground hover:bg-muted\"\n                )}\n              >\n                <span className=\"font-medium\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n                  {plan.name}\n                </span>\n                <span className=\"text-xs\" style={{ fontFamily: \"Inter, sans-serif\" }}>\n                  ${planPricing.monthlyPrice}/mo\n                </span>\n              </button>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Selected Plan Details */}\n      <Card className=\"border-purple-200 dark:border-purple-800\">\n        <CardContent className=\"p-4 space-y-3\">\n          <div className=\"grid gap-4 md:grid-cols-[1fr_1fr] md:gap-6\">\n            <div className=\"space-y-3\">\n              <div>\n                <div className=\"flex items-baseline gap-2\">\n                  <span\n                    className=\"text-3xl font-semibold text-foreground\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    ${calculatedPricing.monthlyPrice}\n                  </span>\n                  <span\n                    className=\"text-base text-muted-foreground\"\n                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                  >\n                    /mo\n                  </span>\n                </div>\n                <p\n                  className=\"text-sm text-muted-foreground\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Total for {pricing.paymentFrequency === \"Monthly\" ? \"6 months\" : pricing.paymentFrequency === \"Semi-Annual\" ? \"6 months\" : \"12 months\"}: ${calculatedPricing.totalForPeriod}\n                </p>\n                <p\n                  className=\"text-sm text-muted-foreground\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Down payment: ${calculatedPricing.downPayment}\n                </p>\n              </div>\n\n              {/* About Plan - Collapsible */}\n              <Collapsible open={isPlanDetailsExpanded} onOpenChange={setIsPlanDetailsExpanded}>\n                <div className=\"border-t border-border pt-3\">\n                  <CollapsibleTrigger asChild>\n                    <button className=\"flex items-center justify-between w-full text-left\">\n                      <h3\n                        className=\"text-sm font-semibold text-foreground\"\n                        style={{ fontFamily: \"Inter, sans-serif\" }}\n                      >\n                        About {selectedPlan.name}\n                      </h3>\n                      {isPlanDetailsExpanded ? (\n                        <ChevronUp className=\"h-4 w-4 text-muted-foreground\" />\n                      ) : (\n                        <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\n                      )}\n                    </button>\n                  </CollapsibleTrigger>\n                  <CollapsibleContent className=\"pt-2 space-y-2\">\n                    <ul className=\"space-y-1.5\">\n                      {selectedPlan.features.map((feature, index) => (\n                        <li\n                          key={index}\n                          className=\"flex items-start gap-2 text-sm text-muted-foreground\"\n                          style={{ fontFamily: \"Inter, sans-serif\" }}\n                        >\n                          <Check className=\"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0\" />\n                          <span>{feature}</span>\n                        </li>\n                      ))}\n                    </ul>\n                    <div className=\"pt-1\">\n                      <a\n                        href=\"#\"\n                        className=\"text-sm text-blue-600 hover:underline\"\n                        style={{ fontFamily: \"Inter, sans-serif\" }}\n                        onClick={(e) => {\n                          e.preventDefault()\n                          // TODO: Implement plan comparison\n                          console.log(\"Compare plans\")\n                        }}\n                      >\n                        Compare all plans\n                      </a>\n                    </div>\n                  </CollapsibleContent>\n                </div>\n              </Collapsible>\n            </div>\n\n            <div className=\"space-y-3 md:border-l md:border-border md:pl-6\">\n              {/* Start Date */}\n              <div className=\"space-y-1.5\">\n                <Label\n                  htmlFor=\"start-date\"\n                  className=\"text-sm font-medium text-foreground\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Start Date\n                </Label>\n                <Select\n                  value={pricing.startDate}\n                  onValueChange={(value) => onPricingChange(\"startDate\", value)}\n                >\n                  <SelectTrigger id=\"start-date\" className=\"w-full\">\n                    <SelectValue placeholder=\"Select start date\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {startDateOptions.map((date) => (\n                      <SelectItem key={date} value={date}>\n                        {formatDate(date)}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Payment Frequency */}\n              <div className=\"space-y-1.5\">\n                <Label\n                  htmlFor=\"payment-frequency\"\n                  className=\"text-sm font-medium text-foreground\"\n                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                >\n                  Payment Frequency\n                </Label>\n                <Select\n                  value={pricing.paymentFrequency}\n                  onValueChange={(value: PricingSummary[\"paymentFrequency\"]) =>\n                    onPricingChange(\"paymentFrequency\", value)\n                  }\n                >\n                  <SelectTrigger id=\"payment-frequency\" className=\"w-full\">\n                    <SelectValue placeholder=\"Select frequency\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Monthly\">Monthly</SelectItem>\n                    <SelectItem value=\"Semi-Annual\">Semi-Annual</SelectItem>\n                    <SelectItem value=\"Annual\">Annual</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"space-y-2 pt-1\">\n                <Button\n                  onClick={onCollectPayment}\n                  disabled={hasUnresolvedItems}\n                  className={cn(\n                    \"w-full bg-green-600 hover:bg-green-700 text-white\",\n                    hasUnresolvedItems && \"opacity-50 cursor-not-allowed\"\n                  )}\n                >\n                  Collect Payment & Bind\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={onDownloadPDF}\n                  className=\"w-full\"\n                >\n                  <Download className=\"h-4 w-4 mr-2\" />\n                  Download Quote as PDF\n                </Button>\n              </div>\n            </div>\n          </div>\n\n          {/* Bind Blocking Banner */}\n          {hasUnresolvedItems && (\n            <Alert className=\"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/20\">\n              <AlertTriangle className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\n              <AlertDescription className=\"text-sm text-amber-900 dark:text-amber-100 space-y-2\">\n                <div>\n                  Cannot bind policy: {unresolvedCount} unresolved item{unresolvedCount !== 1 ? \"s\" : \"\"} from import summary must be resolved before binding. You can still view and adjust coverage settings.\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"link\"\n                  className=\"h-auto p-0 text-amber-900 dark:text-amber-100\"\n                  onClick={handleJumpToImportSummary}\n                >\n                  View all in Import Summary\n                </Button>\n              </AlertDescription>\n            </Alert>\n          )}\n\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2916, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/templates.ts"],"sourcesContent":["// Coverage templates and presets for quick setup\nimport { CoverageData, LiabilityCoverage, AdditionalCoverage, VehicleCoverage } from \"./types\"\n\nexport interface CoverageTemplate {\n  id: string\n  name: string\n  description: string\n  coverage: CoverageData\n  createdBy?: string\n  createdAt?: Date\n  isDefault: boolean\n  category: \"minimum\" | \"standard\" | \"comprehensive\" | \"high-value\" | \"commercial\" | \"custom\"\n}\n\n// Default liability coverage for minimum state requirements\nconst MINIMUM_LIABILITY: LiabilityCoverage = {\n  bodilyInjury: \"$25K/$50K\",\n  propertyDamage: \"$25K\",\n}\n\n// Standard liability coverage\nconst STANDARD_LIABILITY: LiabilityCoverage = {\n  bodilyInjury: \"$100K/$300K\",\n  propertyDamage: \"$100K\",\n}\n\n// Comprehensive liability coverage\nconst COMPREHENSIVE_LIABILITY: LiabilityCoverage = {\n  bodilyInjury: \"$250K/$500K\",\n  propertyDamage: \"$250K\",\n}\n\n// High-value liability coverage\nconst HIGH_VALUE_LIABILITY: LiabilityCoverage = {\n  bodilyInjury: \"$500K/$1M\",\n  propertyDamage: \"$500K\",\n}\n\n// Default additional coverage (none)\nconst NO_ADDITIONAL: AdditionalCoverage = {\n  medicalPayments: \"Not Included\",\n  uninsuredMotoristsBodilyInjury: \"Not Included\",\n}\n\n// Standard additional coverage\nconst STANDARD_ADDITIONAL: AdditionalCoverage = {\n  medicalPayments: \"$5K\",\n  uninsuredMotoristsBodilyInjury: \"$100K/$300K\",\n  roadsideAssistance: true,\n}\n\n// Comprehensive additional coverage\nconst COMPREHENSIVE_ADDITIONAL: AdditionalCoverage = {\n  medicalPayments: \"$10K\",\n  uninsuredMotoristsBodilyInjury: \"$250K/$500K\",\n  roadsideAssistance: true,\n}\n\n// Helper to create vehicle coverage defaults\nfunction createVehicleCoverageDefaults(\n  comprehensiveDeductible: string,\n  glassDeductible: boolean,\n  loanLeasePayoff: boolean,\n  customPartsEquipment: boolean\n): (vehicleId: string) => VehicleCoverage {\n  return (vehicleId: string) => ({\n    vehicleId,\n    comprehensiveDeductible,\n    glassDeductible,\n    loanLeasePayoff,\n    customPartsEquipment,\n  })\n}\n\n// Default templates\nexport const DEFAULT_TEMPLATES: CoverageTemplate[] = [\n  {\n    id: \"minimum\",\n    name: \"Minimum State Requirements\",\n    description: \"Bare minimum coverage to meet state requirements\",\n    category: \"minimum\",\n    isDefault: true,\n    coverage: {\n      liability: MINIMUM_LIABILITY,\n      additional: NO_ADDITIONAL,\n      vehicleCoverages: [], // Will be populated when applied\n    },\n  },\n  {\n    id: \"standard\",\n    name: \"Standard Coverage\",\n    description: \"Common coverage for typical drivers and vehicles\",\n    category: \"standard\",\n    isDefault: true,\n    coverage: {\n      liability: STANDARD_LIABILITY,\n      additional: STANDARD_ADDITIONAL,\n      vehicleCoverages: [], // Will be populated when applied\n    },\n  },\n  {\n    id: \"comprehensive\",\n    name: \"Comprehensive Protection\",\n    description: \"Higher coverage limits for better protection\",\n    category: \"comprehensive\",\n    isDefault: true,\n    coverage: {\n      liability: COMPREHENSIVE_LIABILITY,\n      additional: COMPREHENSIVE_ADDITIONAL,\n      vehicleCoverages: [], // Will be populated when applied\n    },\n  },\n  {\n    id: \"high-value\",\n    name: \"High-Value Vehicle\",\n    description: \"Enhanced coverage for expensive vehicles\",\n    category: \"high-value\",\n    isDefault: true,\n    coverage: {\n      liability: HIGH_VALUE_LIABILITY,\n      additional: COMPREHENSIVE_ADDITIONAL,\n      vehicleCoverages: [], // Will be populated when applied\n    },\n  },\n]\n\n// Template storage key\nconst TEMPLATE_STORAGE_KEY = \"coverage-templates\"\n\n// Load templates from localStorage\nexport function loadTemplates(): CoverageTemplate[] {\n  if (typeof window === \"undefined\") return DEFAULT_TEMPLATES\n\n  try {\n    const stored = localStorage.getItem(TEMPLATE_STORAGE_KEY)\n    if (!stored) return DEFAULT_TEMPLATES\n\n    const parsed = JSON.parse(stored) as CoverageTemplate[]\n    // Filter out commercial templates and merge with defaults\n    const defaultIds = new Set(DEFAULT_TEMPLATES.map((t) => t.id))\n    const customTemplates = parsed.filter(\n      (t) => !defaultIds.has(t.id) && t.category !== \"commercial\"\n    )\n    // Also filter out commercial from defaults\n    const filteredDefaults = DEFAULT_TEMPLATES.filter((t) => t.category !== \"commercial\")\n    return [...filteredDefaults, ...customTemplates]\n  } catch (error) {\n    console.error(\"Failed to load templates:\", error)\n    return DEFAULT_TEMPLATES.filter((t) => t.category !== \"commercial\")\n  }\n}\n\n// Save templates to localStorage\nexport function saveTemplates(templates: CoverageTemplate[]): void {\n  if (typeof window === \"undefined\") return\n\n  try {\n    // Only save custom templates (not defaults)\n    const defaultIds = new Set(DEFAULT_TEMPLATES.map((t) => t.id))\n    const customTemplates = templates.filter((t) => !defaultIds.has(t.id))\n    localStorage.setItem(TEMPLATE_STORAGE_KEY, JSON.stringify(customTemplates))\n  } catch (error) {\n    console.error(\"Failed to save templates:\", error)\n  }\n}\n\n// Save a custom template\nexport function saveCustomTemplate(template: Omit<CoverageTemplate, \"id\" | \"createdAt\">): CoverageTemplate {\n  const newTemplate: CoverageTemplate = {\n    ...template,\n    id: `custom-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    createdAt: new Date(),\n    category: \"custom\",\n    isDefault: false,\n  }\n\n  const templates = loadTemplates()\n  templates.push(newTemplate)\n  saveTemplates(templates)\n\n  return newTemplate\n}\n\n// Delete a template\nexport function deleteTemplate(templateId: string): void {\n  const templates = loadTemplates()\n  const filtered = templates.filter((t) => t.id !== templateId)\n  saveTemplates(filtered)\n}\n\n// Apply template to coverage data\nexport function applyTemplate(\n  template: CoverageTemplate,\n  currentCoverage: CoverageData,\n  vehicleIds: string[]\n): CoverageData {\n  // Create vehicle coverages for all vehicles\n  const vehicleCoverages: VehicleCoverage[] = vehicleIds.map((vehicleId) => {\n    // Try to preserve existing vehicle coverage if it exists\n    const existing = currentCoverage.vehicleCoverages.find((vc) => vc.vehicleId === vehicleId)\n\n    // Determine vehicle coverage settings based on template\n    let vehicleCoverage: VehicleCoverage\n\n    switch (template.category) {\n      case \"minimum\":\n        vehicleCoverage = {\n          vehicleId,\n          comprehensiveDeductible: \"$2,500\",\n          collisionDeductible: \"$2,500\",\n          glassDeductible: false,\n          loanLeasePayoff: false,\n          customPartsEquipment: false,\n        }\n        break\n      case \"standard\":\n        vehicleCoverage = {\n          vehicleId,\n          comprehensiveDeductible: \"$1,000\",\n          collisionDeductible: \"$1,000\",\n          glassDeductible: true,\n          loanLeasePayoff: false,\n          customPartsEquipment: false,\n        }\n        break\n      case \"comprehensive\":\n        vehicleCoverage = {\n          vehicleId,\n          comprehensiveDeductible: \"$500\",\n          collisionDeductible: \"$500\",\n          glassDeductible: true,\n          loanLeasePayoff: false,\n          customPartsEquipment: false,\n        }\n        break\n      case \"high-value\":\n        vehicleCoverage = {\n          vehicleId,\n          comprehensiveDeductible: \"$500\",\n          collisionDeductible: \"$500\",\n          glassDeductible: true,\n          loanLeasePayoff: true,\n          customPartsEquipment: true,\n        }\n        break\n      default:\n        // Use existing or default\n        vehicleCoverage = existing || {\n          vehicleId,\n          comprehensiveDeductible: \"$1,000\",\n          collisionDeductible: \"$1,000\",\n          glassDeductible: true,\n          loanLeasePayoff: false,\n          customPartsEquipment: false,\n        }\n    }\n\n    return vehicleCoverage\n  })\n\n  return {\n    liability: template.coverage.liability,\n    additional: template.coverage.additional,\n    vehicleCoverages,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3155, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/coverage-templates.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@novo/ui\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport { Label } from \"@novo/ui\"\nimport { Sparkles, Check, X, Save } from \"lucide-react\"\nimport { CoverageTemplate, loadTemplates, applyTemplate, saveCustomTemplate } from \"./templates\"\nimport { CoverageData } from \"./types\"\nimport { Input } from \"@novo/ui\"\nimport { cn } from \"@/shared/utils\"\nimport { useQuote } from \"@/app/quote-context\"\n\ninterface CoverageTemplatesProps {\n  currentCoverage: CoverageData\n  vehicleIds: string[]\n  onApplyTemplate: (coverage: CoverageData) => void\n}\n\nexport function CoverageTemplates({\n  currentCoverage,\n  vehicleIds,\n  onApplyTemplate,\n}: CoverageTemplatesProps) {\n  const { quoteData } = useQuote()\n  const [templates, setTemplates] = React.useState<CoverageTemplate[]>([])\n  const [isOpen, setIsOpen] = React.useState(false)\n  const [selectedTemplate, setSelectedTemplate] = React.useState<CoverageTemplate | null>(null)\n  const [showSaveDialog, setShowSaveDialog] = React.useState(false)\n  const [templateName, setTemplateName] = React.useState(\"\")\n\n  React.useEffect(() => {\n    const loadedTemplates = loadTemplates()\n    \n    // Add imported from ezlynx template if import summary exists\n    if (quoteData.importSummary && quoteData.importSummary.missingInfo.length > 0) {\n      const importedTemplate: CoverageTemplate = {\n        id: \"imported-ezlynx\",\n        name: \"Imported from ezlynx\",\n        description: \"Coverage configuration imported from ezlynx aggregator\",\n        category: \"custom\",\n        isDefault: false,\n        coverage: {\n          liability: currentCoverage.liability,\n          additional: currentCoverage.additional,\n          vehicleCoverages: [], // Vehicle coverages are applied per vehicle\n        },\n      }\n      setTemplates([importedTemplate, ...loadedTemplates])\n    } else {\n      setTemplates(loadedTemplates)\n    }\n  }, [quoteData.importSummary, currentCoverage])\n\n  const handleApplyTemplate = () => {\n    if (!selectedTemplate) return\n\n    const newCoverage = applyTemplate(selectedTemplate, currentCoverage, vehicleIds)\n    onApplyTemplate(newCoverage)\n    setIsOpen(false)\n    setSelectedTemplate(null)\n  }\n\n  const handleSaveAsTemplate = () => {\n    if (!templateName.trim()) return\n\n    const newTemplate = saveCustomTemplate({\n      name: templateName.trim(),\n      description: `Custom template: ${templateName.trim()}`,\n      category: \"custom\",\n      isDefault: false,\n      coverage: {\n        liability: currentCoverage.liability,\n        additional: currentCoverage.additional,\n        vehicleCoverages: [], // Only save liability and additional\n      },\n    })\n\n    setTemplates(loadTemplates())\n    setShowSaveDialog(false)\n    setTemplateName(\"\")\n    setSelectedTemplate(newTemplate)\n  }\n\n  const templateCategories = {\n    minimum: \"Minimum\",\n    standard: \"Standard\",\n    comprehensive: \"Comprehensive\",\n    \"high-value\": \"High-Value\",\n    commercial: \"Commercial\",\n    custom: \"Custom\",\n  }\n\n  return (\n    <>\n      <Dialog open={isOpen} onOpenChange={setIsOpen}>\n        <DialogTrigger asChild>\n          <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n            <Sparkles className=\"h-4 w-4\" />\n            Templates\n          </Button>\n        </DialogTrigger>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>Coverage Templates</DialogTitle>\n            <DialogDescription>\n              Quickly apply pre-configured coverage settings to your quote\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-2 flex-1\">\n                <Label>Select a template</Label>\n                <Select\n                  value={selectedTemplate?.id || \"\"}\n                  onValueChange={(value) => {\n                    const template = templates.find((t) => t.id === value)\n                    setSelectedTemplate(template || null)\n                  }}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Choose a template...\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {templates.map((template) => (\n                      <SelectItem key={template.id} value={template.id}>\n                        <div className=\"flex items-center justify-between w-full\">\n                          <span>{template.name}</span>\n                          {template.isDefault && (\n                            <span className=\"text-xs text-muted-foreground ml-2\">\n                              Default\n                            </span>\n                          )}\n                          {template.id === \"imported-ezlynx\" && (\n                            <span className=\"text-xs text-muted-foreground ml-2\">\n                              Imported\n                            </span>\n                          )}\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"ml-4 gap-2\"\n                onClick={() => setShowSaveDialog(true)}\n              >\n                <Save className=\"h-4 w-4\" />\n                Save as Template\n              </Button>\n            </div>\n\n          {selectedTemplate && (\n            <div className=\"border rounded-lg p-4 space-y-3 bg-muted/50\">\n              <div>\n                <h4 className=\"font-medium text-sm mb-1\">{selectedTemplate.name}</h4>\n                <p className=\"text-sm text-muted-foreground\">\n                  {selectedTemplate.description}\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-muted-foreground\">Bodily Injury:</span>\n                  <span className=\"ml-2 font-medium\">\n                    {selectedTemplate.coverage.liability.bodilyInjury}\n                  </span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Property Damage:</span>\n                  <span className=\"ml-2 font-medium\">\n                    {selectedTemplate.coverage.liability.propertyDamage}\n                  </span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Medical Payments:</span>\n                  <span className=\"ml-2 font-medium\">\n                    {selectedTemplate.coverage.additional.medicalPayments}\n                  </span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Uninsured Motorists:</span>\n                  <span className=\"ml-2 font-medium\">\n                    {selectedTemplate.coverage.additional.uninsuredMotoristsBodilyInjury}\n                  </span>\n                </div>\n              </div>\n\n              {vehicleIds.length === 0 && (\n                <div className=\"text-sm text-amber-600 dark:text-amber-400\">\n                   No vehicles added yet. Template will be applied when vehicles are added.\n                </div>\n              )}\n            </div>\n          )}\n\n            <div className=\"flex justify-end gap-2 pt-2\">\n              <Button variant=\"outline\" onClick={() => setIsOpen(false)}>\n                Cancel\n              </Button>\n              <Button\n                onClick={handleApplyTemplate}\n                disabled={!selectedTemplate || vehicleIds.length === 0 || selectedTemplate.id === \"imported-ezlynx\"}\n              >\n                Apply Template\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Save as Template Dialog */}\n      <Dialog open={showSaveDialog} onOpenChange={setShowSaveDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Save as Template</DialogTitle>\n            <DialogDescription>\n              Save your current liability and additional coverage settings as a reusable template\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"template-name\">Template Name</Label>\n              <Input\n                id=\"template-name\"\n                value={templateName}\n                onChange={(e) => setTemplateName(e.target.value)}\n                placeholder=\"Enter template name...\"\n                onKeyDown={(e) => {\n                  if (e.key === \"Enter\" && templateName.trim()) {\n                    handleSaveAsTemplate()\n                  }\n                }}\n              />\n            </div>\n            <div className=\"flex justify-end gap-2 pt-2\">\n              <Button variant=\"outline\" onClick={() => {\n                setShowSaveDialog(false)\n                setTemplateName(\"\")\n              }}>\n                Cancel\n              </Button>\n              <Button\n                onClick={handleSaveAsTemplate}\n                disabled={!templateName.trim()}\n              >\n                Save Template\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3748, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/state-requirements.ts"],"sourcesContent":["// State-specific coverage requirements and compliance checking\nimport { CoverageData, LiabilityCoverage, AdditionalCoverage } from \"./types\"\n\nexport interface StateRequirement {\n  state: string\n  stateName: string\n  minimumBodilyInjury: string // e.g., \"$15K/$30K\"\n  minimumPropertyDamage: string // e.g., \"$5K\"\n  requiresUninsuredMotorist: boolean\n  requiresMedicalPayments: boolean\n  notes?: string\n}\n\n// State requirements database\nexport const STATE_REQUIREMENTS: Record<string, StateRequirement> = {\n  CA: {\n    state: \"CA\",\n    stateName: \"California\",\n    minimumBodilyInjury: \"$15K/$30K\",\n    minimumPropertyDamage: \"$5K\",\n    requiresUninsuredMotorist: false,\n    requiresMedicalPayments: false,\n  },\n  TX: {\n    state: \"TX\",\n    stateName: \"Texas\",\n    minimumBodilyInjury: \"$30K/$60K\",\n    minimumPropertyDamage: \"$25K\",\n    requiresUninsuredMotorist: false,\n    requiresMedicalPayments: false,\n  },\n  FL: {\n    state: \"FL\",\n    stateName: \"Florida\",\n    minimumBodilyInjury: \"$10K/$20K\",\n    minimumPropertyDamage: \"$10K\",\n    requiresUninsuredMotorist: false,\n    requiresMedicalPayments: true,\n    notes: \"Florida requires PIP (Personal Injury Protection) instead of traditional medical payments\",\n  },\n  NY: {\n    state: \"NY\",\n    stateName: \"New York\",\n    minimumBodilyInjury: \"$25K/$50K\",\n    minimumPropertyDamage: \"$10K\",\n    requiresUninsuredMotorist: true,\n    requiresMedicalPayments: false,\n  },\n  AZ: {\n    state: \"AZ\",\n    stateName: \"Arizona\",\n    minimumBodilyInjury: \"$15K/$30K\",\n    minimumPropertyDamage: \"$10K\",\n    requiresUninsuredMotorist: false,\n    requiresMedicalPayments: false,\n  },\n  // Add more states as needed - for now, using a default for states not in database\n}\n\n// Default requirements for states not in database\nconst DEFAULT_REQUIREMENTS: StateRequirement = {\n  state: \"US\",\n  stateName: \"United States\",\n  minimumBodilyInjury: \"$25K/$50K\",\n  minimumPropertyDamage: \"$25K\",\n  requiresUninsuredMotorist: false,\n  requiresMedicalPayments: false,\n}\n\n// Extract state from address string (e.g., \"Chandler, AZ 85249\" -> \"AZ\")\nexport function extractStateFromAddress(address: string): string | null {\n  if (!address) return null\n\n  // Try to match state abbreviation (2 letters) before ZIP code\n  const stateMatch = address.match(/\\b([A-Z]{2})\\s+\\d{5}(?:-\\d{4})?\\b/)\n  if (stateMatch) {\n    return stateMatch[1]\n  }\n\n  // Try to match state name\n  const stateNames: Record<string, string> = {\n    Alabama: \"AL\",\n    Alaska: \"AK\",\n    Arizona: \"AZ\",\n    Arkansas: \"AR\",\n    California: \"CA\",\n    Colorado: \"CO\",\n    Connecticut: \"CT\",\n    Delaware: \"DE\",\n    Florida: \"FL\",\n    Georgia: \"GA\",\n    Hawaii: \"HI\",\n    Idaho: \"ID\",\n    Illinois: \"IL\",\n    Indiana: \"IN\",\n    Iowa: \"IA\",\n    Kansas: \"KS\",\n    Kentucky: \"KY\",\n    Louisiana: \"LA\",\n    Maine: \"ME\",\n    Maryland: \"MD\",\n    Massachusetts: \"MA\",\n    Michigan: \"MI\",\n    Minnesota: \"MN\",\n    Mississippi: \"MS\",\n    Missouri: \"MO\",\n    Montana: \"MT\",\n    Nebraska: \"NE\",\n    Nevada: \"NV\",\n    \"New Hampshire\": \"NH\",\n    \"New Jersey\": \"NJ\",\n    \"New Mexico\": \"NM\",\n    \"New York\": \"NY\",\n    \"North Carolina\": \"NC\",\n    \"North Dakota\": \"ND\",\n    Ohio: \"OH\",\n    Oklahoma: \"OK\",\n    Oregon: \"OR\",\n    Pennsylvania: \"PA\",\n    \"Rhode Island\": \"RI\",\n    \"South Carolina\": \"SC\",\n    \"South Dakota\": \"SD\",\n    Tennessee: \"TN\",\n    Texas: \"TX\",\n    Utah: \"UT\",\n    Vermont: \"VT\",\n    Virginia: \"VA\",\n    Washington: \"WA\",\n    \"West Virginia\": \"WV\",\n    Wisconsin: \"WI\",\n    Wyoming: \"WY\",\n    \"District of Columbia\": \"DC\",\n  }\n\n  for (const [name, abbr] of Object.entries(stateNames)) {\n    if (address.includes(name)) {\n      return abbr\n    }\n  }\n\n  return null\n}\n\n// Get state requirements\nexport function getStateRequirements(state: string | null): StateRequirement {\n  if (!state) return DEFAULT_REQUIREMENTS\n  return STATE_REQUIREMENTS[state.toUpperCase()] || DEFAULT_REQUIREMENTS\n}\n\n// Parse coverage amount (e.g., \"$100K/$300K\" -> { perPerson: 100000, perAccident: 300000 })\nfunction parseCoverageAmount(amount: string): { perPerson: number; perAccident: number } | null {\n  const match = amount.match(/\\$(\\d+)K\\/\\$(\\d+)K/)\n  if (match) {\n    return {\n      perPerson: parseInt(match[1]) * 1000,\n      perAccident: parseInt(match[2]) * 1000,\n    }\n  }\n\n  const singleMatch = amount.match(/\\$(\\d+)K/)\n  if (singleMatch) {\n    const value = parseInt(singleMatch[1]) * 1000\n    return { perPerson: value, perAccident: value }\n  }\n\n  return null\n}\n\n// Compare coverage amounts\nfunction compareCoverage(current: string, minimum: string): number {\n  const currentParsed = parseCoverageAmount(current)\n  const minimumParsed = parseCoverageAmount(minimum)\n\n  if (!currentParsed || !minimumParsed) return 0\n\n  // Compare per-accident amounts (more important)\n  if (currentParsed.perAccident > minimumParsed.perAccident) return 1\n  if (currentParsed.perAccident < minimumParsed.perAccident) return -1\n\n  // If per-accident is equal, compare per-person\n  if (currentParsed.perPerson > minimumParsed.perPerson) return 1\n  if (currentParsed.perPerson < minimumParsed.perPerson) return -1\n\n  return 0\n}\n\n// Compliance check result\nexport interface ComplianceCheck {\n  isCompliant: boolean\n  issues: ComplianceIssue[]\n}\n\nexport interface ComplianceIssue {\n  field: string\n  severity: \"error\" | \"warning\"\n  message: string\n  currentValue: string\n  requiredValue: string\n  autoFix?: {\n    action: string\n    newValue: string\n  }\n}\n\n// Check compliance with state requirements\nexport function checkCompliance(\n  coverage: CoverageData,\n  state: string | null\n): ComplianceCheck {\n  const requirements = getStateRequirements(state)\n  const issues: ComplianceIssue[] = []\n\n  // Check bodily injury\n  const biComparison = compareCoverage(\n    coverage.liability.bodilyInjury,\n    requirements.minimumBodilyInjury\n  )\n  if (biComparison < 0) {\n    issues.push({\n      field: \"bodilyInjury\",\n      severity: \"error\",\n      message: `Bodily injury coverage (${coverage.liability.bodilyInjury}) is below ${requirements.stateName} minimum requirement (${requirements.minimumBodilyInjury})`,\n      currentValue: coverage.liability.bodilyInjury,\n      requiredValue: requirements.minimumBodilyInjury,\n      autoFix: {\n        action: \"Increase to minimum\",\n        newValue: requirements.minimumBodilyInjury,\n      },\n    })\n  }\n\n  // Check property damage\n  const pdComparison = compareCoverage(\n    coverage.liability.propertyDamage,\n    requirements.minimumPropertyDamage\n  )\n  if (pdComparison < 0) {\n    issues.push({\n      field: \"propertyDamage\",\n      severity: \"error\",\n      message: `Property damage coverage (${coverage.liability.propertyDamage}) is below ${requirements.stateName} minimum requirement (${requirements.minimumPropertyDamage})`,\n      currentValue: coverage.liability.propertyDamage,\n      requiredValue: requirements.minimumPropertyDamage,\n      autoFix: {\n        action: \"Increase to minimum\",\n        newValue: requirements.minimumPropertyDamage,\n      },\n    })\n  }\n\n  // Check uninsured motorist requirement\n  if (\n    requirements.requiresUninsuredMotorist &&\n    coverage.additional.uninsuredMotoristsBodilyInjury === \"Not Included\"\n  ) {\n    issues.push({\n      field: \"uninsuredMotoristsBodilyInjury\",\n      severity: \"error\",\n      message: `${requirements.stateName} requires uninsured motorist coverage`,\n      currentValue: \"Not Included\",\n      requiredValue: \"Required\",\n      autoFix: {\n        action: \"Add uninsured motorist coverage\",\n        newValue: requirements.minimumBodilyInjury, // Match BI limits\n      },\n    })\n  }\n\n  // Check medical payments requirement\n  if (\n    requirements.requiresMedicalPayments &&\n    coverage.additional.medicalPayments === \"Not Included\"\n  ) {\n    issues.push({\n      field: \"medicalPayments\",\n      severity: \"error\",\n      message: `${requirements.stateName} requires medical payments coverage`,\n      currentValue: \"Not Included\",\n      requiredValue: \"Required\",\n      autoFix: {\n        action: \"Add medical payments coverage\",\n        newValue: \"$5K\", // Default minimum\n      },\n    })\n  }\n\n  return {\n    isCompliant: issues.length === 0,\n    issues,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3988, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/state-requirements-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@novo/ui\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@novo/ui\"\nimport { Badge } from \"@novo/ui\"\nimport { CheckCircle2, AlertTriangle, MapPin, ChevronDown, ChevronUp } from \"lucide-react\"\nimport { checkCompliance, getStateRequirements, extractStateFromAddress } from \"./state-requirements\"\nimport { CoverageData } from \"./types\"\nimport { useQuote } from \"@/app/quote-context\"\nimport { cn } from \"@/shared/utils\"\n\ninterface StateRequirementsPanelProps {\n  coverage: CoverageData\n  onFixIssue?: (field: string, newValue: string) => void\n}\n\nexport function StateRequirementsPanel({\n  coverage,\n  onFixIssue,\n}: StateRequirementsPanelProps) {\n  const { quoteData } = useQuote()\n  const [isExpanded, setIsExpanded] = React.useState(false)\n  \n  // Determine state from client info\n  const state = React.useMemo(() => {\n    if (quoteData.clientInfo?.driversLicenseState) {\n      return quoteData.clientInfo.driversLicenseState\n    }\n    if (quoteData.clientInfo?.address) {\n      return extractStateFromAddress(quoteData.clientInfo.address)\n    }\n    return null\n  }, [quoteData.clientInfo])\n\n  const requirements = React.useMemo(() => {\n    return getStateRequirements(state)\n  }, [state])\n\n  const compliance = React.useMemo(() => {\n    return checkCompliance(coverage, state)\n  }, [coverage, state])\n\n  if (!state) {\n    return (\n      <div className=\"flex items-center gap-2 px-3 py-2 rounded-md border border-border bg-muted/30 text-sm\">\n        <MapPin className=\"h-3.5 w-3.5 text-muted-foreground\" />\n        <span className=\"text-muted-foreground\">\n          Add client address or driver's license state to check compliance\n        </span>\n      </div>\n    )\n  }\n\n  // Compact compliant view\n  if (compliance.isCompliant && !isExpanded) {\n    return (\n      <Collapsible open={isExpanded} onOpenChange={setIsExpanded}>\n        <div className=\"flex items-center gap-2 px-3 py-2 rounded-md border border-green-200 dark:border-green-800 bg-green-50/50 dark:bg-green-950/20\">\n          <CheckCircle2 className=\"h-3.5 w-3.5 text-green-600 dark:text-green-400 flex-shrink-0\" />\n          <div className=\"flex-1 flex items-center gap-2 flex-wrap text-sm\">\n            <span className=\"font-medium text-green-900 dark:text-green-100\">\n              {requirements.stateName} Requirements Met\n            </span>\n            <span className=\"text-green-700 dark:text-green-300\"></span>\n            <span className=\"text-green-700 dark:text-green-300\">\n              BI: {coverage.liability.bodilyInjury} \n            </span>\n            <span className=\"text-green-700 dark:text-green-300\"></span>\n            <span className=\"text-green-700 dark:text-green-300\">\n              PD: {coverage.liability.propertyDamage} \n            </span>\n          </div>\n          <CollapsibleTrigger asChild>\n            <Button variant=\"ghost\" size=\"sm\" className=\"h-6 px-2 text-xs\">\n              Details\n              {isExpanded ? (\n                <ChevronUp className=\"h-3 w-3 ml-1\" />\n              ) : (\n                <ChevronDown className=\"h-3 w-3 ml-1\" />\n              )}\n            </Button>\n          </CollapsibleTrigger>\n        </div>\n        <CollapsibleContent className=\"mt-2 px-3 py-2 rounded-md border border-green-200 dark:border-green-800 bg-green-50/30 dark:bg-green-950/10 text-sm\">\n          <div className=\"space-y-1.5\">\n            <div className=\"font-medium text-xs text-green-900 dark:text-green-100\">\n              Minimum Required:\n            </div>\n            <div className=\"text-xs text-green-700 dark:text-green-300 space-y-0.5\">\n              <div>Bodily Injury: {requirements.minimumBodilyInjury}</div>\n              <div>Property Damage: {requirements.minimumPropertyDamage}</div>\n              {requirements.requiresUninsuredMotorist && (\n                <div>Uninsured Motorist: Required</div>\n              )}\n              {requirements.requiresMedicalPayments && (\n                <div>Medical Payments: Required</div>\n              )}\n            </div>\n            {requirements.notes && (\n              <div className=\"text-xs text-green-600 dark:text-green-400 italic pt-1\">\n                Note: {requirements.notes}\n              </div>\n            )}\n          </div>\n        </CollapsibleContent>\n      </Collapsible>\n    )\n  }\n\n  // Non-compliant or expanded view\n  return (\n    <Collapsible open={isExpanded} onOpenChange={setIsExpanded}>\n      <div\n        className={cn(\n          \"flex items-center gap-2 px-3 py-2 rounded-md border\",\n          compliance.isCompliant\n            ? \"border-green-200 dark:border-green-800 bg-green-50/50 dark:bg-green-950/20\"\n            : \"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20\"\n        )}\n      >\n        {compliance.isCompliant ? (\n          <CheckCircle2 className=\"h-3.5 w-3.5 text-green-600 dark:text-green-400 flex-shrink-0\" />\n        ) : (\n          <AlertTriangle className=\"h-3.5 w-3.5 text-amber-600 dark:text-amber-400 flex-shrink-0\" />\n        )}\n        <div className=\"flex-1 flex items-center gap-2 flex-wrap text-sm\">\n          <span\n            className={cn(\n              \"font-medium\",\n              compliance.isCompliant\n                ? \"text-green-900 dark:text-green-100\"\n                : \"text-amber-900 dark:text-amber-100\"\n            )}\n          >\n            {requirements.stateName} Requirements\n            {compliance.issues.length > 0 && (\n              <Badge variant=\"destructive\" className=\"ml-2 h-4 px-1.5 text-xs\">\n                {compliance.issues.length} issue{compliance.issues.length > 1 ? \"s\" : \"\"}\n              </Badge>\n            )}\n          </span>\n        </div>\n        {compliance.issues.length > 0 && compliance.issues[0].autoFix && onFixIssue && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs\"\n            onClick={() =>\n              onFixIssue(compliance.issues[0].field, compliance.issues[0].autoFix!.newValue)\n            }\n          >\n            Fix\n          </Button>\n        )}\n        <CollapsibleTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-6 px-2 text-xs\">\n            {isExpanded ? (\n              <>\n                Hide\n                <ChevronUp className=\"h-3 w-3 ml-1\" />\n              </>\n            ) : (\n              <>\n                Details\n                <ChevronDown className=\"h-3 w-3 ml-1\" />\n              </>\n            )}\n          </Button>\n        </CollapsibleTrigger>\n      </div>\n      <CollapsibleContent className=\"mt-2 space-y-2\">\n        <div className=\"px-3 py-2 rounded-md border border-border bg-background/50 text-sm\">\n          <div className=\"font-medium mb-1.5 text-xs\">Minimum Required:</div>\n          <div className=\"text-xs text-muted-foreground space-y-0.5\">\n            <div>Bodily Injury: {requirements.minimumBodilyInjury}</div>\n            <div>Property Damage: {requirements.minimumPropertyDamage}</div>\n            {requirements.requiresUninsuredMotorist && (\n              <div>Uninsured Motorist: Required</div>\n            )}\n            {requirements.requiresMedicalPayments && (\n              <div>Medical Payments: Required</div>\n            )}\n          </div>\n        </div>\n        {compliance.issues.length > 0 && (\n          <div className=\"space-y-1.5\">\n            {compliance.issues.map((issue) => (\n              <div\n                key={issue.field}\n                className=\"px-3 py-2 rounded-md border border-amber-200 dark:border-amber-800 bg-amber-50/30 dark:bg-amber-950/10 text-sm\"\n              >\n                <div className=\"font-medium mb-1 text-xs\">{issue.message}</div>\n                {issue.autoFix && onFixIssue && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"h-6 px-2 text-xs mt-1\"\n                    onClick={() => onFixIssue(issue.field, issue.autoFix!.newValue)}\n                  >\n                    {issue.autoFix.action}\n                  </Button>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n        {requirements.notes && (\n          <div className=\"text-xs text-muted-foreground italic px-3\">\n            Note: {requirements.notes}\n          </div>\n        )}\n      </CollapsibleContent>\n    </Collapsible>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4520, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/validation.ts"],"sourcesContent":["// Coverage validation and warnings\nimport { CoverageData, VehicleCoverage } from \"./types\"\nimport { Vehicle } from \"@/screens/components/vehicles-table/types\"\n\nexport interface CoverageWarning {\n  id: string\n  severity: \"error\" | \"warning\" | \"info\"\n  message: string\n  field?: string\n  vehicleId?: string\n  autoFix?: {\n    action: string\n    newValue: any\n  }\n}\n\n// Calculate vehicle value (rough estimate based on year, make, model)\nfunction estimateVehicleValue(vehicle: Vehicle): number {\n  // Very rough estimation - in production, this would use actual valuation APIs\n  const currentYear = new Date().getFullYear()\n  const vehicleYear = vehicle.year ? parseInt(vehicle.year, 10) : currentYear\n  const age = currentYear - vehicleYear\n  \n  // Base value assumptions (very rough)\n  const baseValues: Record<string, number> = {\n    tesla: 45000,\n    bmw: 35000,\n    mercedes: 40000,\n    audi: 35000,\n    lexus: 40000,\n    porsche: 60000,\n  }\n\n  const makeLower = vehicle.make?.toLowerCase() || \"\"\n  let baseValue = 25000 // Default\n\n  for (const [brand, value] of Object.entries(baseValues)) {\n    if (makeLower.includes(brand)) {\n      baseValue = value\n      break\n    }\n  }\n\n  // Depreciation: ~15% per year\n  const depreciation = Math.max(0, 1 - age * 0.15)\n  return Math.round(baseValue * depreciation)\n}\n\n// Parse property damage amount\nfunction parsePropertyDamage(amount: string): number {\n  const match = amount.match(/\\$(\\d+)K/)\n  if (match) {\n    return parseInt(match[1]) * 1000\n  }\n  return 0\n}\n\n// Validate coverage and generate warnings\nexport function validateCoverage(\n  coverage: CoverageData,\n  vehicles: Vehicle[]\n): CoverageWarning[] {\n  const warnings: CoverageWarning[] = []\n\n  // Check if property damage is adequate for vehicle values\n  const propertyDamageLimit = parsePropertyDamage(coverage.liability.propertyDamage)\n  \n  for (const vehicle of vehicles) {\n    const vehicleValue = estimateVehicleValue(vehicle)\n    const vehicleCoverage = coverage.vehicleCoverages.find(\n      (vc) => vc.vehicleId === vehicle.id\n    )\n\n    if (!vehicleCoverage) {\n      warnings.push({\n        id: `missing-coverage-${vehicle.id}`,\n        severity: \"error\",\n        message: `No coverage configuration found for ${vehicle.year} ${vehicle.make} ${vehicle.model}`,\n        vehicleId: vehicle.id,\n      })\n      continue\n    }\n\n    // Check if property damage is lower than vehicle value\n    if (propertyDamageLimit > 0 && vehicleValue > propertyDamageLimit) {\n      warnings.push({\n        id: `low-property-damage-${vehicle.id}`,\n        severity: \"warning\",\n        message: `Vehicle value ($${vehicleValue.toLocaleString()}) exceeds property damage limit (${coverage.liability.propertyDamage}). Consider increasing coverage.`,\n        field: \"propertyDamage\",\n        vehicleId: vehicle.id,\n        autoFix: {\n          action: \"Increase property damage\",\n          newValue: `$${Math.ceil(vehicleValue / 1000)}K`,\n        },\n      })\n    }\n\n    // Check for high-value vehicles without gap insurance\n    if (vehicleValue > 30000 && !vehicleCoverage.loanLeasePayoff) {\n      warnings.push({\n        id: `gap-insurance-${vehicle.id}`,\n        severity: \"info\",\n        message: `High-value vehicle detected. Gap insurance recommended for better protection.`,\n        field: \"loanLeasePayoff\",\n        vehicleId: vehicle.id,\n        autoFix: {\n          action: \"Add gap insurance\",\n          newValue: true,\n        },\n      })\n    }\n\n    // Check for new vehicles without rental reimbursement\n    const currentYear = new Date().getFullYear()\n    const vehicleYear = vehicle.year ? parseInt(vehicle.year, 10) : 0\n    if (vehicle.year && vehicleYear >= currentYear - 2 && !vehicleCoverage.rentalReimbursement) {\n      warnings.push({\n        id: `rental-reimbursement-${vehicle.id}`,\n        severity: \"info\",\n        message: `Newer vehicle detected. Rental reimbursement recommended during repairs.`,\n        field: \"rentalReimbursement\",\n        vehicleId: vehicle.id,\n        autoFix: {\n          action: \"Add rental reimbursement\",\n          newValue: true,\n        },\n      })\n    }\n\n    // Check for low comprehensive deductible on high-value vehicles\n    if (vehicleValue > 40000) {\n      const deductibleMatch = vehicleCoverage.comprehensiveDeductible.match(/\\$(\\d+),?(\\d+)?/)\n      if (deductibleMatch) {\n        const deductible = parseInt(deductibleMatch[1] + (deductibleMatch[2] || \"\"))\n        if (deductible > 1000) {\n          warnings.push({\n            id: `high-deductible-${vehicle.id}`,\n            severity: \"info\",\n            message: `High-value vehicle with high deductible. Consider lower deductible for better protection.`,\n            field: \"comprehensiveDeductible\",\n            vehicleId: vehicle.id,\n          })\n        }\n      }\n    }\n  }\n\n  // Check for missing uninsured motorist coverage\n  if (coverage.additional.uninsuredMotoristsBodilyInjury === \"Not Included\") {\n    warnings.push({\n      id: \"missing-uninsured-motorist\",\n      severity: \"warning\",\n      message: \"Uninsured motorist coverage is not included. Recommended for better protection.\",\n      field: \"uninsuredMotoristsBodilyInjury\",\n      autoFix: {\n        action: \"Add uninsured motorist coverage\",\n        newValue: coverage.liability.bodilyInjury, // Match BI limits\n      },\n    })\n  }\n\n  // Check for low bodily injury limits\n  const biMatch = coverage.liability.bodilyInjury.match(/\\$(\\d+)K\\/\\$(\\d+)K/)\n  if (biMatch) {\n    const perPerson = parseInt(biMatch[1]) * 1000\n    const perAccident = parseInt(biMatch[2]) * 1000\n\n    if (perAccident < 100000) {\n      warnings.push({\n        id: \"low-bodily-injury\",\n        severity: \"warning\",\n        message: \"Bodily injury limits are relatively low. Consider higher limits for better protection.\",\n        field: \"bodilyInjury\",\n      })\n    }\n\n    // Check if Property Damage exceeds BI per-person amount\n    const pdMatch = coverage.liability.propertyDamage.match(/\\$(\\d+)K/)\n    if (pdMatch) {\n      const pdAmount = parseInt(pdMatch[1]) * 1000\n      if (pdAmount > perPerson) {\n        warnings.push({\n          id: \"property-damage-exceeds-bi\",\n          severity: \"warning\",\n          message: `Property Damage (${coverage.liability.propertyDamage}) exceeds Bodily Injury per-person limit ($${biMatch[1]}K). Consider increasing Bodily Injury coverage to match or exceed Property Damage.`,\n          field: \"propertyDamage\",\n          autoFix: {\n            action: \"Increase Bodily Injury to match Property Damage\",\n            newValue: `$${pdMatch[1]}K/$${Math.max(parseInt(biMatch[2]), parseInt(pdMatch[1]) * 2)}K`,\n          },\n        })\n      }\n    }\n\n    // Check if Uninsured Motorists exceeds BI per-person amount\n    if (coverage.additional.uninsuredMotoristsBodilyInjury !== \"Not Included\") {\n      const umMatch = coverage.additional.uninsuredMotoristsBodilyInjury.match(/\\$(\\d+)K\\/\\$(\\d+)K/)\n      if (umMatch) {\n        const umPerPerson = parseInt(umMatch[1]) * 1000\n        if (umPerPerson > perPerson) {\n          warnings.push({\n            id: \"um-exceeds-bi\",\n            severity: \"warning\",\n            message: `Uninsured Motorists Bodily Injury (${coverage.additional.uninsuredMotoristsBodilyInjury}) exceeds Bodily Injury per-person limit ($${biMatch[1]}K). Consider increasing Bodily Injury coverage to match or exceed Uninsured Motorists.`,\n            field: \"uninsuredMotoristsBodilyInjury\",\n            autoFix: {\n              action: \"Increase Bodily Injury to match Uninsured Motorists\",\n              newValue: `$${umMatch[1]}K/$${Math.max(parseInt(biMatch[2]), parseInt(umMatch[2]))}K`,\n            },\n          })\n        }\n      }\n    }\n\n    // Check if Underinsured Motorists exceeds BI per-person amount\n    if (coverage.additional.underinsuredMotoristsBodilyInjury && coverage.additional.underinsuredMotoristsBodilyInjury !== \"Not Included\") {\n      const uimMatch = coverage.additional.underinsuredMotoristsBodilyInjury.match(/\\$(\\d+)K\\/\\$(\\d+)K/)\n      if (uimMatch) {\n        const uimPerPerson = parseInt(uimMatch[1]) * 1000\n        if (uimPerPerson > perPerson) {\n          warnings.push({\n            id: \"uim-exceeds-bi\",\n            severity: \"warning\",\n            message: `Underinsured Motorists Bodily Injury (${coverage.additional.underinsuredMotoristsBodilyInjury}) exceeds Bodily Injury per-person limit ($${biMatch[1]}K). Consider increasing Bodily Injury coverage to match or exceed Underinsured Motorists.`,\n            field: \"underinsuredMotoristsBodilyInjury\",\n            autoFix: {\n              action: \"Increase Bodily Injury to match Underinsured Motorists\",\n              newValue: `$${uimMatch[1]}K/$${Math.max(parseInt(biMatch[2]), parseInt(uimMatch[2]))}K`,\n            },\n          })\n        }\n      }\n    }\n  }\n\n  return warnings\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4729, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/coverage-warnings.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@novo/ui\"\nimport { Badge } from \"@novo/ui\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@novo/ui\"\nimport { AlertTriangle, Info, X, ChevronDown, ChevronUp } from \"lucide-react\"\nimport { validateCoverage, CoverageWarning } from \"./validation\"\nimport { CoverageData } from \"./types\"\nimport { Vehicle } from \"@/screens/components/vehicles-table/types\"\nimport { cn } from \"@/shared/utils\"\n\ninterface CoverageWarningsProps {\n  coverage: CoverageData\n  vehicles: Vehicle[]\n  onFixWarning?: (warning: CoverageWarning) => void\n  onDismissWarning?: (warningId: string) => void\n}\n\nexport function CoverageWarnings({\n  coverage,\n  vehicles,\n  onFixWarning,\n  onDismissWarning,\n}: CoverageWarningsProps) {\n  const [dismissedWarnings, setDismissedWarnings] = React.useState<Set<string>>(new Set())\n  const [isExpanded, setIsExpanded] = React.useState(false)\n\n  const warnings = React.useMemo(() => {\n    return validateCoverage(coverage, vehicles)\n  }, [coverage, vehicles])\n\n  const visibleWarnings = warnings.filter((w) => !dismissedWarnings.has(w.id))\n\n  const handleDismiss = (warningId: string) => {\n    setDismissedWarnings((prev) => new Set(prev).add(warningId))\n    onDismissWarning?.(warningId)\n  }\n\n  const handleFix = (warning: CoverageWarning) => {\n    onFixWarning?.(warning)\n  }\n\n  const handleFixAll = () => {\n    visibleWarnings.forEach((warning) => {\n      if (warning.autoFix) {\n        handleFix(warning)\n      }\n    })\n  }\n\n  if (visibleWarnings.length === 0) {\n    return null\n  }\n\n  const errors = visibleWarnings.filter((w) => w.severity === \"error\")\n  const warningsOnly = visibleWarnings.filter((w) => w.severity === \"warning\")\n  const infoOnly = visibleWarnings.filter((w) => w.severity === \"info\")\n  const fixableWarnings = visibleWarnings.filter((w) => w.autoFix)\n\n  const getSeverityColor = () => {\n    if (errors.length > 0) return \"red\"\n    if (warningsOnly.length > 0) return \"amber\"\n    return \"blue\"\n  }\n\n  const severityColor = getSeverityColor()\n\n  return (\n    <Collapsible open={isExpanded} onOpenChange={setIsExpanded}>\n      <div\n        className={cn(\n          \"flex items-center gap-2 px-3 py-2 rounded-md border text-sm\",\n          severityColor === \"red\" &&\n            \"border-red-200 dark:border-red-800 bg-red-50/50 dark:bg-red-950/20\",\n          severityColor === \"amber\" &&\n            \"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20\",\n          severityColor === \"blue\" &&\n            \"border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-950/20\"\n        )}\n      >\n        <AlertTriangle\n          className={cn(\n            \"h-3.5 w-3.5 flex-shrink-0\",\n            severityColor === \"red\" && \"text-red-600 dark:text-red-400\",\n            severityColor === \"amber\" && \"text-amber-600 dark:text-amber-400\",\n            severityColor === \"blue\" && \"text-blue-600 dark:text-blue-400\"\n          )}\n        />\n        <div className=\"flex-1 flex items-center gap-2 flex-wrap\">\n          <span\n            className={cn(\n              \"font-medium\",\n              severityColor === \"red\" && \"text-red-900 dark:text-red-100\",\n              severityColor === \"amber\" && \"text-amber-900 dark:text-amber-100\",\n              severityColor === \"blue\" && \"text-blue-900 dark:text-blue-100\"\n            )}\n          >\n            Coverage Warnings\n          </span>\n          {errors.length > 0 && (\n            <Badge variant=\"destructive\" className=\"h-4 px-1.5 text-xs\">\n              {errors.length}\n            </Badge>\n          )}\n          {warningsOnly.length > 0 && (\n            <Badge\n              variant=\"outline\"\n              className={cn(\n                \"h-4 px-1.5 text-xs\",\n                severityColor === \"amber\" &&\n                  \"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300\"\n              )}\n            >\n              {warningsOnly.length}\n            </Badge>\n          )}\n          {infoOnly.length > 0 && (\n            <Badge\n              variant=\"outline\"\n              className={cn(\n                \"h-4 px-1.5 text-xs\",\n                severityColor === \"blue\" &&\n                  \"border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300\"\n              )}\n            >\n              {infoOnly.length}\n            </Badge>\n          )}\n        </div>\n        {fixableWarnings.length > 0 && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs\"\n            onClick={handleFixAll}\n          >\n            Fix All\n          </Button>\n        )}\n        <CollapsibleTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-6 px-2 text-xs\">\n            {isExpanded ? (\n              <>\n                Hide\n                <ChevronUp className=\"h-3 w-3 ml-1\" />\n              </>\n            ) : (\n              <>\n                Details\n                <ChevronDown className=\"h-3 w-3 ml-1\" />\n              </>\n            )}\n          </Button>\n        </CollapsibleTrigger>\n      </div>\n      <CollapsibleContent className=\"mt-2 space-y-1.5\">\n        {visibleWarnings.map((warning) => (\n          <div\n            key={warning.id}\n            className={cn(\n              \"px-3 py-2 rounded-md border text-sm\",\n              warning.severity === \"error\" &&\n                \"border-red-200 dark:border-red-800 bg-red-50/30 dark:bg-red-950/10\",\n              warning.severity === \"warning\" &&\n                \"border-amber-200 dark:border-amber-800 bg-amber-50/30 dark:bg-amber-950/10\",\n              warning.severity === \"info\" &&\n                \"border-blue-200 dark:border-blue-800 bg-blue-50/30 dark:bg-blue-950/10\"\n            )}\n          >\n            <div className=\"flex items-start justify-between gap-2\">\n              <div className=\"flex-1 flex items-start gap-2\">\n                {warning.severity === \"error\" && (\n                  <AlertTriangle className=\"h-3.5 w-3.5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0\" />\n                )}\n                {warning.severity === \"warning\" && (\n                  <AlertTriangle className=\"h-3.5 w-3.5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0\" />\n                )}\n                {warning.severity === \"info\" && (\n                  <Info className=\"h-3.5 w-3.5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0\" />\n                )}\n                <span className=\"text-xs font-medium flex-1\">{warning.message}</span>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                {warning.autoFix && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"h-6 px-2 text-xs\"\n                    onClick={() => handleFix(warning)}\n                  >\n                    {warning.autoFix.action}\n                  </Button>\n                )}\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-6 w-6 p-0\"\n                  onClick={() => handleDismiss(warning.id)}\n                >\n                  <X className=\"h-3 w-3\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </CollapsibleContent>\n    </Collapsible>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5026, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/coverage/coverage-form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { LiabilityCoverageSection } from \"./liability-coverage\"\nimport { VehicleCoverageSection } from \"./vehicle-coverage\"\nimport { PricingSummarySection } from \"./pricing-summary\"\nimport { CoverageTemplates } from \"./coverage-templates\"\nimport { StateRequirementsPanel } from \"./state-requirements-panel\"\nimport { CoverageWarnings } from \"./coverage-warnings\"\nimport {\n  CoverageData,\n  LiabilityCoverage,\n  AdditionalCoverage,\n  VehicleCoverage,\n  PricingSummary,\n} from \"./types\"\nimport { useQuote } from \"@/app/quote-context\"\nimport { useAutoSave } from \"@/shared/hooks/use-auto-save\"\nimport { CoverageWarning } from \"./validation\"\n\n// Default coverage values\nconst DEFAULT_LIABILITY: LiabilityCoverage = {\n  bodilyInjury: \"$100K/$300K\",\n  propertyDamage: \"$100K\",\n}\n\nconst DEFAULT_ADDITIONAL: AdditionalCoverage = {\n  medicalPayments: \"Not Included\",\n  uninsuredMotoristsBodilyInjury: \"Not Included\",\n  underinsuredMotoristsBodilyInjury: \"Not Included\",\n  roadsideAssistance: false,\n}\n\nconst DEFAULT_PRICING: PricingSummary = {\n  selectedPlanId: \"novo-next\",\n  startDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0], // 7 days from now\n  paymentFrequency: \"Monthly\",\n  monthlyPrice: 124,\n  totalForPeriod: 744,\n  downPayment: 248,\n}\n\nexport function CoverageForm() {\n  const { quoteData, updateCoverage, updatePricing, saveQuote } = useQuote()\n  const vehicles = quoteData.vehicles || []\n\n  // Initialize coverage data from context or defaults\n  const [coverage, setCoverage] = React.useState<CoverageData>(() => {\n    if (quoteData.coverage) {\n      return quoteData.coverage\n    }\n\n    // Initialize vehicle coverages for existing vehicles\n    const vehicleCoverages: VehicleCoverage[] = vehicles.map((vehicle) => ({\n      vehicleId: vehicle.id,\n      comprehensiveDeductible: \"$1,000\",\n      collisionDeductible: \"$1,000\",\n      glassDeductible: true,\n      loanLeasePayoff: false,\n      customPartsEquipment: false,\n      customPartsAmount: 0,\n    }))\n\n    return {\n      liability: DEFAULT_LIABILITY,\n      additional: DEFAULT_ADDITIONAL,\n      vehicleCoverages,\n    }\n  })\n\n  const [pricing, setPricing] = React.useState<PricingSummary>(() => {\n    return quoteData.pricing || DEFAULT_PRICING\n  })\n\n  // Update vehicle coverages when vehicles change\n  const vehicleIdsString = React.useMemo(\n    () => vehicles.map((v) => v.id).join(\",\"),\n    [vehicles]\n  )\n\n  React.useEffect(() => {\n    const existingVehicleIds = new Set(coverage.vehicleCoverages.map((vc) => vc.vehicleId))\n    const currentVehicleIds = new Set(vehicles.map((v) => v.id))\n\n    // Add coverage for new vehicles\n    const newVehicles = vehicles.filter((v) => !existingVehicleIds.has(v.id))\n    if (newVehicles.length > 0) {\n      const newVehicleCoverages: VehicleCoverage[] = newVehicles.map((vehicle) => ({\n        vehicleId: vehicle.id,\n        comprehensiveDeductible: \"$1,000\",\n        collisionDeductible: \"$1,000\",\n        glassDeductible: true,\n        loanLeasePayoff: false,\n        customPartsEquipment: false,\n        customPartsAmount: 0,\n      }))\n\n      setCoverage((prev) => ({\n        ...prev,\n        vehicleCoverages: [...prev.vehicleCoverages, ...newVehicleCoverages],\n      }))\n    }\n\n    // Remove coverage for deleted vehicles\n    const removedVehicleIds = Array.from(existingVehicleIds).filter(\n      (id) => !currentVehicleIds.has(id)\n    )\n    if (removedVehicleIds.length > 0) {\n      setCoverage((prev) => ({\n        ...prev,\n        vehicleCoverages: prev.vehicleCoverages.filter(\n          (vc) => !removedVehicleIds.includes(vc.vehicleId)\n        ),\n      }))\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [vehicleIdsString]) // Sync when vehicle IDs change\n\n  // Auto-save coverage data\n  useAutoSave({\n    data: coverage,\n    saveFn: async (data) => {\n      updateCoverage(data)\n      await saveQuote()\n    },\n    debounceMs: 2000,\n    enabled: true,\n  })\n\n  // Auto-save pricing data\n  useAutoSave({\n    data: pricing,\n    saveFn: async (data) => {\n      updatePricing(data)\n      await saveQuote()\n    },\n    debounceMs: 2000,\n    enabled: true,\n  })\n\n  const handleLiabilityChange = (field: keyof LiabilityCoverage, value: string) => {\n    setCoverage((prev) => ({\n      ...prev,\n      liability: {\n        ...prev.liability,\n        [field]: value,\n      },\n    }))\n  }\n\n  const handleAdditionalChange = (field: keyof AdditionalCoverage, value: string | boolean) => {\n    setCoverage((prev) => ({\n      ...prev,\n      additional: {\n        ...prev.additional,\n        [field]: value,\n      },\n    }))\n  }\n\n  const handleVehicleCoverageChange = (\n    vehicleId: string,\n    field: keyof VehicleCoverage,\n    value: any\n  ) => {\n    setCoverage((prev) => ({\n      ...prev,\n      vehicleCoverages: prev.vehicleCoverages.map((vc) =>\n        vc.vehicleId === vehicleId ? { ...vc, [field]: value } : vc\n      ),\n    }))\n  }\n\n  const handlePricingChange = (field: keyof PricingSummary, value: any) => {\n    setPricing((prev) => ({\n      ...prev,\n      [field]: value,\n    }))\n  }\n\n  const handleCollectPayment = () => {\n    console.log(\"Collecting payment and binding policy...\")\n    // TODO: Implement payment collection\n  }\n\n  const handleDownloadPDF = () => {\n    console.log(\"Downloading quote as PDF...\")\n    // TODO: Implement PDF generation\n  }\n\n  const handleApplyTemplate = (newCoverage: CoverageData) => {\n    setCoverage(newCoverage)\n  }\n\n  const handleFixStateIssue = (field: string, newValue: string) => {\n    if (field === \"bodilyInjury\" || field === \"propertyDamage\") {\n      handleLiabilityChange(field as keyof LiabilityCoverage, newValue)\n    } else if (field === \"medicalPayments\" || field === \"uninsuredMotoristsBodilyInjury\") {\n      handleAdditionalChange(field as keyof AdditionalCoverage, newValue)\n    }\n  }\n\n  const handleFixWarning = (warning: CoverageWarning) => {\n    if (warning.autoFix) {\n      if (warning.field === \"propertyDamage\" || warning.field === \"bodilyInjury\") {\n        handleLiabilityChange(warning.field as keyof LiabilityCoverage, warning.autoFix.newValue)\n      } else if (warning.field && warning.vehicleId) {\n        // Vehicle-specific warning\n        handleVehicleCoverageChange(\n          warning.vehicleId,\n          warning.field as keyof VehicleCoverage,\n          warning.autoFix.newValue\n        )\n      } else if (warning.field === \"uninsuredMotoristsBodilyInjury\") {\n        handleAdditionalChange(\"uninsuredMotoristsBodilyInjury\", warning.autoFix.newValue)\n      }\n    }\n  }\n\n  const vehicleIds = vehicles.map((v) => v.id)\n\n  return (\n    <div className=\"w-full space-y-6\">\n      {/* Header with Templates */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold\">Coverage Configuration</h1>\n        <CoverageTemplates\n          currentCoverage={coverage}\n          vehicleIds={vehicleIds}\n          onApplyTemplate={handleApplyTemplate}\n        />\n      </div>\n\n      {/* State Requirements & Warnings */}\n      <div className=\"space-y-4\">\n        <StateRequirementsPanel\n          coverage={coverage}\n          onFixIssue={handleFixStateIssue}\n        />\n        <CoverageWarnings\n          coverage={coverage}\n          vehicles={vehicles}\n          onFixWarning={handleFixWarning}\n        />\n      </div>\n\n      {/* Top row: Liability + Pricing */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-[1fr_1fr] gap-6\">\n        <LiabilityCoverageSection\n          liability={coverage.liability}\n          additional={coverage.additional}\n          currentCoverage={coverage}\n          pricing={pricing}\n          onLiabilityChange={handleLiabilityChange}\n          onAdditionalChange={handleAdditionalChange}\n        />\n\n        <div className=\"lg:sticky lg:top-6 self-start\">\n          <PricingSummarySection\n            coverage={coverage}\n            pricing={pricing}\n            onPricingChange={handlePricingChange}\n            onCollectPayment={handleCollectPayment}\n            onDownloadPDF={handleDownloadPDF}\n          />\n        </div>\n      </div>\n\n      {/* Bottom row: Vehicle Coverages */}\n      <div>\n        <VehicleCoverageSection\n          vehicles={vehicles}\n          vehicleCoverages={coverage.vehicleCoverages}\n          onVehicleCoverageChange={handleVehicleCoverageChange}\n          onBulkUpdate={(vehicleIds, field, value) => {\n            vehicleIds.forEach((id) => {\n              handleVehicleCoverageChange(id, field, value)\n            })\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}