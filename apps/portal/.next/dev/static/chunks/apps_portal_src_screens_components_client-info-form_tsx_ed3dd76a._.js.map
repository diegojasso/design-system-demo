{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegoj/dev/design-system-demo/apps/portal/src/screens/components/client-info-form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport * as z from \"zod\"\nimport { format } from \"date-fns\"\nimport { CalendarIcon } from \"lucide-react\"\nimport { useQuote, StepId } from \"@/app/quote-context\"\nimport { useAutoSave } from \"@/shared/hooks/use-auto-save\"\nimport { ChevronRight } from \"lucide-react\"\n\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@novo/ui\"\nimport {\n  Form,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormMessage,\n  FormDescription,\n} from \"@novo/ui\"\nimport {\n  Field,\n  FieldLabel,\n  FieldContent,\n  FieldGroup,\n  FieldSet,\n  FieldLegend,\n} from \"@novo/ui\"\nimport { Input } from \"@novo/ui\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@novo/ui\"\nimport { Button } from \"@novo/ui\"\nimport { Calendar } from \"@novo/ui\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@novo/ui\"\nimport { cn } from \"@/shared/utils\"\n\n// US States list\nconst US_STATES = [\n  { value: \"AL\", label: \"Alabama\" },\n  { value: \"AK\", label: \"Alaska\" },\n  { value: \"AZ\", label: \"Arizona\" },\n  { value: \"AR\", label: \"Arkansas\" },\n  { value: \"CA\", label: \"California\" },\n  { value: \"CO\", label: \"Colorado\" },\n  { value: \"CT\", label: \"Connecticut\" },\n  { value: \"DE\", label: \"Delaware\" },\n  { value: \"FL\", label: \"Florida\" },\n  { value: \"GA\", label: \"Georgia\" },\n  { value: \"HI\", label: \"Hawaii\" },\n  { value: \"ID\", label: \"Idaho\" },\n  { value: \"IL\", label: \"Illinois\" },\n  { value: \"IN\", label: \"Indiana\" },\n  { value: \"IA\", label: \"Iowa\" },\n  { value: \"KS\", label: \"Kansas\" },\n  { value: \"KY\", label: \"Kentucky\" },\n  { value: \"LA\", label: \"Louisiana\" },\n  { value: \"ME\", label: \"Maine\" },\n  { value: \"MD\", label: \"Maryland\" },\n  { value: \"MA\", label: \"Massachusetts\" },\n  { value: \"MI\", label: \"Michigan\" },\n  { value: \"MN\", label: \"Minnesota\" },\n  { value: \"MS\", label: \"Mississippi\" },\n  { value: \"MO\", label: \"Missouri\" },\n  { value: \"MT\", label: \"Montana\" },\n  { value: \"NE\", label: \"Nebraska\" },\n  { value: \"NV\", label: \"Nevada\" },\n  { value: \"NH\", label: \"New Hampshire\" },\n  { value: \"NJ\", label: \"New Jersey\" },\n  { value: \"NM\", label: \"New Mexico\" },\n  { value: \"NY\", label: \"New York\" },\n  { value: \"NC\", label: \"North Carolina\" },\n  { value: \"ND\", label: \"North Dakota\" },\n  { value: \"OH\", label: \"Ohio\" },\n  { value: \"OK\", label: \"Oklahoma\" },\n  { value: \"OR\", label: \"Oregon\" },\n  { value: \"PA\", label: \"Pennsylvania\" },\n  { value: \"RI\", label: \"Rhode Island\" },\n  { value: \"SC\", label: \"South Carolina\" },\n  { value: \"SD\", label: \"South Dakota\" },\n  { value: \"TN\", label: \"Tennessee\" },\n  { value: \"TX\", label: \"Texas\" },\n  { value: \"UT\", label: \"Utah\" },\n  { value: \"VT\", label: \"Vermont\" },\n  { value: \"VA\", label: \"Virginia\" },\n  { value: \"WA\", label: \"Washington\" },\n  { value: \"WV\", label: \"West Virginia\" },\n  { value: \"WI\", label: \"Wisconsin\" },\n  { value: \"WY\", label: \"Wyoming\" },\n  { value: \"DC\", label: \"District of Columbia\" },\n]\n\n// Phone number formatting helper\nfunction formatPhoneNumber(value: string): string {\n  // Remove all non-digits\n  const digits = value.replace(/\\D/g, \"\")\n  \n  // Format as (XXX) XXX-XXXX\n  if (digits.length <= 3) {\n    return digits\n  } else if (digits.length <= 6) {\n    return `(${digits.slice(0, 3)}) ${digits.slice(3)}`\n  } else {\n    return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6, 10)}`\n  }\n}\n\n// Zod validation schema\nconst clientInfoSchema = z.object({\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  dateOfBirth: z.date({\n    required_error: \"Date of birth is required\",\n    invalid_type_error: \"Please select a valid date\",\n  }).max(new Date(), \"Date cannot be in the future\"),\n  driversLicense: z.string().optional(),\n  driversLicenseState: z.string().optional(),\n  email: z.string().email(\"Invalid email address\").min(1, \"Email is required\"),\n  phone: z.string().min(1, \"Phone number is required\").regex(\n    /^\\(\\d{3}\\) \\d{3}-\\d{4}$/,\n    \"Phone number must be in format (555) 123-4567\"\n  ),\n  address: z.string().min(1, \"Address is required\"),\n}).refine(\n  (data) => {\n    // If license number is provided, state is required\n    if (data.driversLicense && !data.driversLicenseState) {\n      return false\n    }\n    return true\n  },\n  {\n    message: \"License state is required when license number is provided\",\n    path: [\"driversLicenseState\"],\n  }\n)\n\ntype ClientInfoFormValues = z.infer<typeof clientInfoSchema>\n\nexport function ClientInfoForm() {\n  const { quoteData, updateClientInfo, saveQuote, setCurrentStep } = useQuote()\n  \n  // Track if we've initialized the form\n  const hasInitialized = React.useRef(false)\n\n  // Load initial values from quote context if available, otherwise use defaults\n  const defaultValues = React.useMemo<ClientInfoFormValues>(() => {\n    if (quoteData.clientInfo) {\n      return {\n        ...quoteData.clientInfo,\n        // Ensure dateOfBirth is a Date object\n        dateOfBirth: quoteData.clientInfo.dateOfBirth instanceof Date \n          ? quoteData.clientInfo.dateOfBirth \n          : new Date(quoteData.clientInfo.dateOfBirth),\n      }\n    }\n    return {\n      firstName: \"Sally\",\n      lastName: \"Gomez\",\n      dateOfBirth: new Date(\"1990-01-01\"),\n      email: \"sally.gomez@example.com\",\n      phone: \"(555) 123-4567\",\n      address: \"5211 S McQueen Rd, Chandler, AZ 85249\",\n    }\n  }, [quoteData.clientInfo])\n\n  const form = useForm<ClientInfoFormValues>({\n    resolver: zodResolver(clientInfoSchema),\n    defaultValues,\n  })\n\n  // Reset form when quote data is loaded (only once on initial load)\n  React.useEffect(() => {\n    if (!hasInitialized.current && quoteData.clientInfo) {\n      form.reset(defaultValues)\n      hasInitialized.current = true\n    }\n  }, [quoteData.clientInfo, defaultValues, form])\n\n  // Watch form values for auto-save\n  const formValues = form.watch()\n\n  // Auto-save when form values change\n  useAutoSave({\n    data: formValues,\n    saveFn: async (data) => {\n      updateClientInfo(data)\n      await saveQuote()\n    },\n    debounceMs: 2000,\n    enabled: form.formState.isDirty,\n  })\n\n  // Track form snapshot for undo functionality\n  const [formSnapshot, setFormSnapshot] = React.useState<ClientInfoFormValues | null>(null)\n\n  // Capture snapshot when user starts editing (on focus of any field)\n  const handleFieldFocus = React.useCallback(() => {\n    if (!formSnapshot) {\n      setFormSnapshot(form.getValues())\n    }\n  }, [form, formSnapshot])\n\n  // Track if snapshot was set by submission (vs initial edit)\n  const snapshotFromSubmissionRef = React.useRef(false)\n\n  // Reset snapshot when form becomes clean (after undo, but not after submission)\n  React.useEffect(() => {\n    if (!form.formState.isDirty && formSnapshot && !snapshotFromSubmissionRef.current) {\n      // Form is clean after undo, reset snapshot so we can capture a new one when editing starts again\n      setFormSnapshot(null)\n    }\n    // Reset the flag when form becomes dirty again\n    if (form.formState.isDirty) {\n      snapshotFromSubmissionRef.current = false\n    }\n  }, [form.formState.isDirty, formSnapshot])\n\n  // Handle ESC key to undo changes\n  React.useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Only handle ESC if form has been modified and we have a snapshot\n      if (\n        e.key === 'Escape' &&\n        form.formState.isDirty &&\n        formSnapshot\n      ) {\n        // Don't trigger if user is interacting with a select dropdown\n        const target = e.target as HTMLElement\n        const isSelect = target.closest('[data-slot=\"select\"]') !== null\n        const isPopover = target.closest('[data-radix-popper-content-wrapper]') !== null\n        \n        // Allow ESC in input fields and buttons, but not in select dropdowns or popovers\n        if (!isSelect && !isPopover) {\n          e.preventDefault()\n          form.reset(formSnapshot)\n        }\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [form, formSnapshot])\n\n  const onSubmit = (data: ClientInfoFormValues) => {\n    console.log(\"Form submitted:\", data)\n    // Update snapshot to current values after successful submission\n    snapshotFromSubmissionRef.current = true\n    setFormSnapshot(data)\n    // Navigate to next step\n    setCurrentStep(\"vehicle\").catch((error) => {\n      console.error(\"Failed to navigate to next step:\", error)\n    })\n  }\n\n  // Handle phone number formatting\n  const handlePhoneChange = (value: string) => {\n    const formatted = formatPhoneNumber(value)\n    form.setValue(\"phone\", formatted, { shouldValidate: true })\n  }\n\n  return (\n    <Card className=\"mb-8 w-full rounded-[12px] gap-0\">\n      <CardHeader className=\"px-6 pt-6 pb-0\">\n        <div className=\"flex flex-col gap-1\">\n          <CardTitle\n            className=\"text-[24px] font-semibold leading-[1.2] tracking-[-0.48px] text-card-foreground\"\n            style={{ fontFamily: \"Geist, sans-serif\" }}\n          >\n            Client Information\n          </CardTitle>\n          <CardDescription\n            className=\"text-base font-normal leading-[1.5] text-muted-foreground\"\n            style={{ fontFamily: \"Geist, sans-serif\" }}\n          >\n            Enter the primary insured's basic information\n          </CardDescription>\n        </div>\n      </CardHeader>\n      <CardContent className=\"px-6 pb-6 pt-6\">\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-0\">\n            <FieldGroup className=\"gap-6\">\n              {/* Personal Information Section */}\n              <FieldSet>\n                <FieldLegend>Personal Information</FieldLegend>\n                <FieldGroup className=\"gap-4\">\n                  {/* First Name, Last Name */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Field>\n                      <FormField\n                        control={form.control}\n                        name=\"firstName\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FieldLabel>\n                              <FormLabel>First Name</FormLabel>\n                            </FieldLabel>\n                            <FieldContent>\n                              <FormControl>\n                                <Input\n                                  {...field}\n                                  className=\"h-10 text-base leading-[1.5]\"\n                                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                                  onFocus={handleFieldFocus}\n                                  onKeyDown={(e) => {\n                                    if (e.key === \"Enter\") {\n                                      e.preventDefault()\n                                      form.setFocus(\"lastName\")\n                                    }\n                                  }}\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FieldContent>\n                          </FormItem>\n                        )}\n                      />\n                    </Field>\n                    <Field>\n                      <FormField\n                        control={form.control}\n                        name=\"lastName\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FieldLabel>\n                              <FormLabel>Last Name</FormLabel>\n                            </FieldLabel>\n                            <FieldContent>\n                              <FormControl>\n                                <Input\n                                  {...field}\n                                  className=\"h-10 text-base leading-[1.5]\"\n                                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                                  onFocus={handleFieldFocus}\n                                  onKeyDown={(e) => {\n                                    if (e.key === \"Enter\") {\n                                      e.preventDefault()\n                                      // Focus date picker trigger\n                                      document.getElementById(\"date-of-birth-trigger\")?.click()\n                                    }\n                                  }}\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FieldContent>\n                          </FormItem>\n                        )}\n                      />\n                    </Field>\n                  </div>\n\n                  {/* Date of Birth */}\n                  <Field>\n                    <FormField\n                      control={form.control}\n                      name=\"dateOfBirth\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FieldLabel>\n                            <FormLabel>Date of Birth</FormLabel>\n                          </FieldLabel>\n                          <FieldContent>\n                            <Popover>\n                              <PopoverTrigger asChild>\n                                <FormControl>\n                                  <Button\n                                    id=\"date-of-birth-trigger\"\n                                    variant=\"outline\"\n                                    className={cn(\n                                      \"h-10 w-full justify-start text-left font-normal text-base\",\n                                      !field.value && \"text-muted-foreground\"\n                                    )}\n                                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                                    onFocus={handleFieldFocus}\n                                  >\n                                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                    {field.value ? (\n                                      format(field.value, \"MM/dd/yyyy\")\n                                    ) : (\n                                      <span>MM/DD/YYYY</span>\n                                    )}\n                                  </Button>\n                                </FormControl>\n                              </PopoverTrigger>\n                              <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                                <Calendar\n                                  mode=\"single\"\n                                  selected={field.value}\n                                  onSelect={field.onChange}\n                                  disabled={(date) =>\n                                    date > new Date() || date < new Date(\"1900-01-01\")\n                                  }\n                                  initialFocus\n                                />\n                              </PopoverContent>\n                            </Popover>\n                            <FormMessage />\n                          </FieldContent>\n                        </FormItem>\n                      )}\n                    />\n                  </Field>\n                </FieldGroup>\n              </FieldSet>\n\n              {/* License Information Section */}\n              <FieldSet>\n                <FieldLegend>License Information</FieldLegend>\n                <FieldGroup className=\"gap-4\">\n                  {/* Driver's License, Driver's License State */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Field>\n                      <FormField\n                        control={form.control}\n                        name=\"driversLicense\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FieldLabel>\n                              <FormLabel>\n                                Driver's License{\" \"}\n                                <span className=\"text-muted-foreground font-normal\">(optional)</span>\n                              </FormLabel>\n                            </FieldLabel>\n                            <FieldContent>\n                              <FormControl>\n                                <Input\n                                  {...field}\n                                  placeholder=\"Driver's License\"\n                                  className=\"h-10 text-base leading-[1.5]\"\n                                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                                  onFocus={handleFieldFocus}\n                                  onKeyDown={(e) => {\n                                    if (e.key === \"Enter\") {\n                                      e.preventDefault()\n                                      form.setFocus(\"driversLicenseState\")\n                                    }\n                                  }}\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FieldContent>\n                          </FormItem>\n                        )}\n                      />\n                    </Field>\n                    <Field>\n                      <FormField\n                        control={form.control}\n                        name=\"driversLicenseState\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FieldLabel>\n                              <FormLabel>Driver's License State</FormLabel>\n                            </FieldLabel>\n                            <FieldContent>\n                              <Select\n                                onValueChange={field.onChange}\n                                value={field.value}\n                              >\n                                <FormControl>\n                                  <SelectTrigger\n                                    className=\"h-10 text-base\"\n                                    style={{ fontFamily: \"Inter, sans-serif\" }}\n                                    onFocus={handleFieldFocus}\n                                  >\n                                    <SelectValue placeholder=\"Select state\" />\n                                  </SelectTrigger>\n                                </FormControl>\n                                <SelectContent>\n                                  {US_STATES.map((state) => (\n                                    <SelectItem key={state.value} value={state.value}>\n                                      {state.label}\n                                    </SelectItem>\n                                  ))}\n                                </SelectContent>\n                              </Select>\n                              <FormMessage />\n                            </FieldContent>\n                          </FormItem>\n                        )}\n                      />\n                    </Field>\n                  </div>\n                </FieldGroup>\n              </FieldSet>\n\n              {/* Contact Information Section */}\n              <FieldSet>\n                <FieldLegend>Contact Information</FieldLegend>\n                <FieldGroup className=\"gap-4\">\n                  {/* Email, Phone */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Field>\n                      <FormField\n                        control={form.control}\n                        name=\"email\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FieldLabel>\n                              <FormLabel>Email</FormLabel>\n                            </FieldLabel>\n                            <FieldContent>\n                              <FormControl>\n                                <Input\n                                  {...field}\n                                  type=\"email\"\n                                  className=\"h-10 text-base leading-[1.5]\"\n                                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                                  onFocus={handleFieldFocus}\n                                  onKeyDown={(e) => {\n                                    if (e.key === \"Enter\") {\n                                      e.preventDefault()\n                                      form.setFocus(\"phone\")\n                                    }\n                                  }}\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FieldContent>\n                          </FormItem>\n                        )}\n                      />\n                    </Field>\n                    <Field>\n                      <FormField\n                        control={form.control}\n                        name=\"phone\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FieldLabel>\n                              <FormLabel>Phone</FormLabel>\n                            </FieldLabel>\n                            <FieldContent>\n                              <FormControl>\n                                <Input\n                                  {...field}\n                                  type=\"tel\"\n                                  placeholder=\"(555) 123-4567\"\n                                  className=\"h-10 text-base leading-[1.5]\"\n                                  style={{ fontFamily: \"Inter, sans-serif\" }}\n                                  onFocus={handleFieldFocus}\n                                  onChange={(e) => {\n                                    const formatted = formatPhoneNumber(e.target.value)\n                                    field.onChange(formatted)\n                                  }}\n                                  maxLength={17}\n                                  onKeyDown={(e) => {\n                                    if (e.key === \"Enter\") {\n                                      e.preventDefault()\n                                      form.setFocus(\"address\")\n                                    }\n                                  }}\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FieldContent>\n                          </FormItem>\n                        )}\n                      />\n                    </Field>\n                  </div>\n\n                  {/* Address */}\n                  <Field>\n                    <FormField\n                      control={form.control}\n                      name=\"address\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FieldLabel>\n                            <FormLabel>Address</FormLabel>\n                          </FieldLabel>\n                          <FieldContent>\n                            <FormControl>\n                              <Input\n                                {...field}\n                                className=\"h-10 text-base leading-[1.5]\"\n                                style={{ fontFamily: \"Inter, sans-serif\" }}\n                                onFocus={handleFieldFocus}\n                                onKeyDown={(e) => {\n                                  if (e.key === \"Enter\") {\n                                    e.preventDefault()\n                                    form.handleSubmit(onSubmit)()\n                                  }\n                                }}\n                              />\n                            </FormControl>\n                            <FormMessage />\n                          </FieldContent>\n                        </FormItem>\n                      )}\n                    />\n                  </Field>\n                </FieldGroup>\n              </FieldSet>\n            </FieldGroup>\n            \n            {/* CTA Button */}\n            <div className=\"flex justify-end pt-6\">\n              <Button\n                type=\"submit\"\n                variant=\"default\"\n                size=\"lg\"\n                disabled={!form.formState.isValid}\n                className=\"h-9 gap-2\"\n                onClick={form.handleSubmit(onSubmit)}\n              >\n                {quoteData.clientInfo ? \"Continue\" : \"Start Quote\"}\n                <ChevronRight className=\"h-5 w-5\" />\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}